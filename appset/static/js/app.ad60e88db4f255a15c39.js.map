{"version":3,"sources":["webpack:///./src/App.vue?3618","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///src/components/HelloWorld.vue","webpack:///./src/components/HelloWorld.vue?a8fc","webpack:///./src/components/HelloWorld.vue","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/js/svg.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","HelloWorld","data","msg","resArr","arr1","arr2","methods","svg_data","draw","SVG","size","jquery_default","a","ajax","type","url","success","JSON","parse","obj","forEach","ele","i","polygon","arr","fill","stroke","width","color","console","log","click","alert","attr","mounted","components_HelloWorld","_m","staticClass","_v","staticStyle","position","height","src_components_HelloWorld","HelloWorld_normalizeComponent","Vue","use","Router","router","routes","path","component","config","productionTip","el","components","App","template","root","factory","window","document","element","supported","Doc","parser","prepare","ns","xmlns","xlink","svgjs","createElementNS","createSVGRect","did","eid","capitalize","create","setAttribute","extend","modules","key","slice","call","arguments","pop","length","prototype","Set","inherit","invent","initializer","constructor","construct","parent","Container","adopt","node","instance","nodeName","parentNode","SVGElement","Nested","Gradient","Element","namespace","defs","setData","getAttribute","body","getElementsByTagName","documentElement","nested","style","poly","polyline","native","addEventListener","regex","numberAndUnit","hex","rgb","reference","transforms","whitespace","isHex","isRgb","isCss","isBlank","isNumber","isPercent","isImage","delimiter","hyphen","pathLetters","isPathLetter","numbersWithDots","dots","utils","map","array","block","il","result","push","filter","radians","d","Math","PI","degrees","r","filterSVGElements","nodes","defaults","fill-opacity","stroke-opacity","stroke-width","stroke-linejoin","stroke-linecap","opacity","x","y","cx","cy","rx","ry","offset","stop-opacity","stop-color","font-size","font-family","text-anchor","Color","match","g","b","test","exec","replace","parseInt","substring","join","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_typeof___default","toString","toHex","compToHex","toRgb","brightness","morph","destination","at","pos","isColor","Array","fallback","valueOf","value","lastValue","lastDestination","settle","seen","indexOf","isArray","split","string","trim","parseFloat","reverse","clone","array_clone","PointArray","toLine","x1","y1","x2","y2","points","len","move","box","bbox","isNaN","getBBox","pathHandlers","M","c","p","p0","L","H","V","C","S","Q","T","Z","A","mlhvqtcsa","j","jl","toUpperCase","PathArray","s","arrayToString","l","equalCommands","pathArray","sourceArray","destinationArray","paramCnt","pathRegReplace","reduce","prev","curr","concat","Point","index","Number","unit","isFinite","toJSON","plus","number","minus","times","divide","to","relative","_stroke","_event","_events","dom","center","proportionalSize","writeDataToDom","assignNewId","cloneNode","add","after","remove","removeElement","addTo","put","putIn","inside","show","hide","visible","classes","hasClass","addClass","removeClass","toggleClass","get","matches","doc","parents","selector","matchesSelector","msMatchesSelector","mozMatchesSelector","webkitMatchesSelector","oMatchesSelector","svg","well","createElement","Parent","appendChild","innerHTML","firstChild","childNodes","each","lines","removeAttribute","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","o","is","easing","-","<>","cos",">","sin","<","from","MorphObj","Situation","init","reversed","reversing","duration","delay","start","Date","finish","ease","loop","loops","animations","styles","once","FX","_target","situations","active","situation","paused","lastPos","absPos","_speed","animate","queue","target","timeToAbsPos","timestamp","absPosToTime","startAnimFrame","stopAnimFrame","animationFrame","requestAnimationFrame","step","bind","cancelAnimationFrame","startCurrent","initAnimations","fn","shift","dequeue","stop","source","initialTransformation","matrixify","clearQueue","clearCurrent","jumpToEnd","atEnd","reset","temp","atStart","isAbsPos","durDivSpd","speed","pause","last","play","progress","easeIt","on","wrapper","e","detail","off","_callStart","during","eased","afterAll","duringAll","method","args","ignoreTime","absPosInt","lastLoop","max","floor","Boolean","min","fire","fx","eachAt","self","apply","Matrix","multiply","undo","extract","matrix","isEased","setTimeout","real","v","G","transform","num","Text","plot","leading","viewbox","ViewBox","update","Stop","Box","left","top","fullBox","merge","m","xMin","Infinity","xMax","yMin","yMax","BBox","contains","Exception","topParent","Shape","clientLeft","clientTop","clientWidth","clientHeight","tbox","warn","rbox","RBox","getBoundingClientRect","addOffset","pageXOffset","pageYOffset","screenCTM","inverse","base","arrayToMatrix","abcdef","px","deltaTransformPoint","py","skewX","atan2","f","transformedX","sqrt","transformedY","skewY","scaleX","scaleY","rotation","parseMatrix","translate","scale","around","rotate","flip","skew","tan","createSVGMatrix","float32String","ctm","getCTM","rect","getScreenCTM","point","createSVGPoint","matrixTransform","n","attributes","nodeValue","image","Image","pattern","setAttributeNS","rebuild","ensureCentre","Rotate","Scale","Skew","Translate","untransform","str","kv","toParent","pCtm","toDoc","Transformation","inversed","params","_undo","cssText","camelCase","children","insertBefore","has","first","deep","removeChild","clear","hasChildNodes","lastChild","_defs","ungroup","depth","Defs","flatten","view","we","he","wm","hm","reg","offsetWidth","offsetHeight","zoom","event","listenerId","events","listener","binding","options","bag","_svgjsListenerId","ev","removeEventListener","Event","dispatchEvent","CustomEvent","cancelable","gbox","trans","group","getElementById","version","spof","nextSibling","siblings","next","previous","forward","backward","front","back","before","Mask","targets","unmask","mask","maskWith","masker","ClipPath","unclip","clip","clipWith","clipper","gradient","fy","Pattern","patternUnits","Bare","words","text","createTextNode","Symbol","symbol","Use","file","Rect","Circle","circle","Ellipse","ellipse","Line","line","Polyline","Polygon","_array","morphArray","Path","load","img","_loaded","ratio","_error","src","loaded","error","_rebuild","_build","oy","nodeType","newLined","textContent","build","tspan","newLine","textPath","blankLineOffset","dy","plain","Tspan","dx","t","getComputedTextLength","TextPath","track","link","linkTo","Marker","ref","marker","sugar","prefix","toLowerCase","charAt","comp","w","h","abs","extension","dmove","radius","getTotalLength","pointAt","getPointAtLength","font","members","elements","splice","set","remember","k","memory","forget","_memory","idFromReference","select","query","querySelectorAll","CustomEventPoly","bubbles","undefined","createEvent","initCustomEvent","lastTime","vendors","callback","currTime","getTime","timeToCall","clearTimeout","define","exports","module"],"mappings":"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","file":"static/js/app.ad60e88db4f255a15c39.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2f043ec7\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2f043ec7\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2f043ec7\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <!--<img src=\"./assets/logo.png\">-->\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template>\n  <div class=\"hello\">\n    <h1>svgc</h1>\n    <div id=\"boxContainer\" style=\"position: relative;width: 300px;height: 300px;\">\n      <!--<svg id=\"box\" width=\"300\" height=\"300\">-->\n      <!--&lt;!&ndash;<polyline points='220,10 300,210 170,250 123,234' fill='none' stroke='#000' stroke-width='1'></polyline>&ndash;&gt;-->\n      <!--<text x=\"250\" y=\"250\" fill=\"red\" text-anchor=\"start\" dominant-baseline=\"hanging\">I study SVG</text>-->\n\n      <!--</svg>-->\n      <div id=\"drawing\"></div>\n      <!--<img src=\"../../static/33.jpeg\" style=\"width: 500px;height: 500px;position: absolute;top: 0;z-index: -1;display: block;left: 0;\" alt=\"\">-->\n    </div>\n  </div>\n</template>\n\n<script>\n  import $ from 'jquery'\n  import svg from 'svg.js'\n\n  export default {\n    name: 'HelloWorld',\n    data() {\n      return {\n        msg: 'Welcome to Your Vue.js App',\n        resArr: [],\n        arr1: [],\n        arr2: []\n      }\n    },\n    methods: {\n      svg_data() {\n        var draw = SVG('drawing').size(500, 500)\n        $.ajax({\n          type: 'post',\n          url: 'http://localhost:3000/users/svgpost',\n          success: function (data) {\n            var polygon_data = JSON.parse(data[0].obj)\n            polygon_data.forEach(function (ele, i) {\n              draw.polygon(ele.arr).fill('#F6FFF1').stroke({width: 1, color: '#FF2E1B'})\n            })\n            console.log($('#SvgjsSvg1001 polygon'))\n            $('#SvgjsSvg1001 polygon').click(function () {\n              alert($(this).attr('stroke'))\n            })\n          }\n        })\n      }\n    },\n    mounted() {\n      var that = this\n      this.svg_data()\n\n\n    }\n  }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n  * {\n    margin: 0;\n    padding: 0\n  }\n\n  svg {\n    border: 1px seagreen solid;\n    position: relative;\n  }\n\n  ul li:hover {\n    color: blue\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/HelloWorld.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hello\"},[_c('h1',[_vm._v(\"svgc\")]),_vm._v(\" \"),_c('div',{staticStyle:{\"position\":\"relative\",\"width\":\"300px\",\"height\":\"300px\"},attrs:{\"id\":\"boxContainer\"}},[_c('div',{attrs:{\"id\":\"drawing\"}})])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d404d246\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/HelloWorld.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d404d246\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./HelloWorld.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HelloWorld.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HelloWorld.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d404d246\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./HelloWorld.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d404d246\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/HelloWorld.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport HelloWorld from '@/components/HelloWorld'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'HelloWorld',\n      component: HelloWorld\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport './js/svg'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","/*!\n* svg.js - A lightweight library for manipulating and animating SVG.\n* @version 2.7.1\n* https://svgdotjs.github.io/\n*\n* @copyright Wout Fierens <wout@mick-wout.com>\n* @license MIT\n*\n* BUILT: Fri Nov 30 2018 10:01:55 GMT+0100 (GMT+01:00)\n*/;\n(function(root, factory) {\n  /* istanbul ignore next */\n  if (typeof define === 'function' && define.amd) {\n    define(function(){\n      return factory(root, root.document)\n    })\n  } else if (typeof exports === 'object') {\n    module.exports = root.document ? factory(root, root.document) : function(w){ return factory(w, w.document) }\n  } else {\n    root.SVG = factory(root, root.document)\n  }\n}(typeof window !== \"undefined\" ? window : this, function(window, document) {\n\n// Find global reference - uses 'this' by default when available,\n// falls back to 'window' otherwise (for bundlers like Webpack)\n  var globalRef = (typeof this !== \"undefined\") ? this : window;\n\n// The main wrapping element\n  var SVG = globalRef.SVG = function(element) {\n    if (SVG.supported) {\n      element = new SVG.Doc(element)\n\n      if(!SVG.parser.draw)\n        SVG.prepare()\n\n      return element\n    }\n  }\n\n// Default namespaces\n  SVG.ns    = 'http://www.w3.org/2000/svg'\n  SVG.xmlns = 'http://www.w3.org/2000/xmlns/'\n  SVG.xlink = 'http://www.w3.org/1999/xlink'\n  SVG.svgjs = 'http://svgjs.com/svgjs'\n\n// Svg support test\n  SVG.supported = (function() {\n    return !! document.createElementNS &&\n      !! document.createElementNS(SVG.ns,'svg').createSVGRect\n  })()\n\n// Don't bother to continue if SVG is not supported\n  if (!SVG.supported) return false\n\n// Element id sequence\n  SVG.did  = 1000\n\n// Get next named element id\n  SVG.eid = function(name) {\n    return 'Svgjs' + capitalize(name) + (SVG.did++)\n  }\n\n// Method for element creation\n  SVG.create = function(name) {\n    // create element\n    var element = document.createElementNS(this.ns, name)\n\n    // apply unique id\n    element.setAttribute('id', this.eid(name))\n\n    return element\n  }\n\n// Method for extending objects\n  SVG.extend = function() {\n    var modules, methods, key, i\n\n    // Get list of modules\n    modules = [].slice.call(arguments)\n\n    // Get object with extensions\n    methods = modules.pop()\n\n    for (i = modules.length - 1; i >= 0; i--)\n      if (modules[i])\n        for (key in methods)\n          modules[i].prototype[key] = methods[key]\n\n    // Make sure SVG.Set inherits any newly added methods\n    if (SVG.Set && SVG.Set.inherit)\n      SVG.Set.inherit()\n  }\n\n// Invent new element\n  SVG.invent = function(config) {\n    // Create element initializer\n    var initializer = typeof config.create == 'function' ?\n      config.create :\n      function() {\n        this.constructor.call(this, SVG.create(config.create))\n      }\n\n    // Inherit prototype\n    if (config.inherit)\n      initializer.prototype = new config.inherit\n\n    // Extend with methods\n    if (config.extend)\n      SVG.extend(initializer, config.extend)\n\n    // Attach construct method to parent\n    if (config.construct)\n      SVG.extend(config.parent || SVG.Container, config.construct)\n\n    return initializer\n  }\n\n// Adopt existing svg elements\n  SVG.adopt = function(node) {\n    // check for presence of node\n    if (!node) return null\n\n    // make sure a node isn't already adopted\n    if (node.instance) return node.instance\n\n    // initialize variables\n    var element\n\n    // adopt with element-specific settings\n    if (node.nodeName == 'svg')\n      element = node.parentNode instanceof window.SVGElement ? new SVG.Nested : new SVG.Doc\n    else if (node.nodeName == 'linearGradient')\n      element = new SVG.Gradient('linear')\n    else if (node.nodeName == 'radialGradient')\n      element = new SVG.Gradient('radial')\n    else if (SVG[capitalize(node.nodeName)])\n      element = new SVG[capitalize(node.nodeName)]\n    else\n      element = new SVG.Element(node)\n\n    // ensure references\n    element.type  = node.nodeName\n    element.node  = node\n    node.instance = element\n\n    // SVG.Class specific preparations\n    if (element instanceof SVG.Doc)\n      element.namespace().defs()\n\n    // pull svgjs data from the dom (getAttributeNS doesn't work in html5)\n    element.setData(JSON.parse(node.getAttribute('svgjs:data')) || {})\n\n    return element\n  }\n\n// Initialize parsing element\n  SVG.prepare = function() {\n    // Select document body and create invisible svg element\n    var body = document.getElementsByTagName('body')[0]\n      , draw = (body ? new SVG.Doc(body) : SVG.adopt(document.documentElement).nested()).size(2, 0)\n\n    // Create parser object\n    SVG.parser = {\n      body: body || document.documentElement\n      , draw: draw.style('opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden').attr('focusable', 'false').node\n      , poly: draw.polyline().node\n      , path: draw.path().node\n      , native: SVG.create('svg')\n    }\n  }\n\n  SVG.parser = {\n    native: SVG.create('svg')\n  }\n\n  document.addEventListener('DOMContentLoaded', function() {\n    if(!SVG.parser.draw)\n      SVG.prepare()\n  }, false)\n\n// Storage for regular expressions\n  SVG.regex = {\n    // Parse unit value\n    numberAndUnit:    /^([+-]?(\\d+(\\.\\d*)?|\\.\\d+)(e[+-]?\\d+)?)([a-z%]*)$/i\n\n    // Parse hex value\n    , hex:              /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i\n\n    // Parse rgb value\n    , rgb:              /rgb\\((\\d+),(\\d+),(\\d+)\\)/\n\n    // Parse reference id\n    , reference:        /#([a-z0-9\\-_]+)/i\n\n    // splits a transformation chain\n    , transforms:       /\\)\\s*,?\\s*/\n\n    // Whitespace\n    , whitespace:       /\\s/g\n\n    // Test hex value\n    , isHex:            /^#[a-f0-9]{3,6}$/i\n\n    // Test rgb value\n    , isRgb:            /^rgb\\(/\n\n    // Test css declaration\n    , isCss:            /[^:]+:[^;]+;?/\n\n    // Test for blank string\n    , isBlank:          /^(\\s+)?$/\n\n    // Test for numeric string\n    , isNumber:         /^[+-]?(\\d+(\\.\\d*)?|\\.\\d+)(e[+-]?\\d+)?$/i\n\n    // Test for percent value\n    , isPercent:        /^-?[\\d\\.]+%$/\n\n    // Test for image url\n    , isImage:          /\\.(jpg|jpeg|png|gif|svg)(\\?[^=]+.*)?/i\n\n    // split at whitespace and comma\n    , delimiter:        /[\\s,]+/\n\n    // The following regex are used to parse the d attribute of a path\n\n    // Matches all hyphens which are not after an exponent\n    , hyphen:           /([^e])\\-/gi\n\n    // Replaces and tests for all path letters\n    , pathLetters:      /[MLHVCSQTAZ]/gi\n\n    // yes we need this one, too\n    , isPathLetter:     /[MLHVCSQTAZ]/i\n\n    // matches 0.154.23.45\n    , numbersWithDots:  /((\\d?\\.\\d+(?:e[+-]?\\d+)?)((?:\\.\\d+(?:e[+-]?\\d+)?)+))+/gi\n\n    // matches .\n    , dots:             /\\./g\n  }\n\n  SVG.utils = {\n    // Map function\n    map: function(array, block) {\n      var i\n        , il = array.length\n        , result = []\n\n      for (i = 0; i < il; i++)\n        result.push(block(array[i]))\n\n      return result\n    }\n\n    // Filter function\n    , filter: function(array, block) {\n      var i\n        , il = array.length\n        , result = []\n\n      for (i = 0; i < il; i++)\n        if (block(array[i]))\n          result.push(array[i])\n\n      return result\n    }\n\n    // Degrees to radians\n    , radians: function(d) {\n      return d % 360 * Math.PI / 180\n    }\n\n    // Radians to degrees\n    , degrees: function(r) {\n      return r * 180 / Math.PI % 360\n    }\n\n    , filterSVGElements: function(nodes) {\n      return this.filter( nodes, function(el) { return el instanceof window.SVGElement })\n    }\n\n  }\n\n  SVG.defaults = {\n    // Default attribute values\n    attrs: {\n      // fill and stroke\n      'fill-opacity':     1\n      , 'stroke-opacity':   1\n      , 'stroke-width':     0\n      , 'stroke-linejoin':  'miter'\n      , 'stroke-linecap':   'butt'\n      , fill:               '#000000'\n      , stroke:             '#000000'\n      , opacity:            1\n      // position\n      , x:                  0\n      , y:                  0\n      , cx:                 0\n      , cy:                 0\n      // size\n      , width:              0\n      , height:             0\n      // radius\n      , r:                  0\n      , rx:                 0\n      , ry:                 0\n      // gradient\n      , offset:             0\n      , 'stop-opacity':     1\n      , 'stop-color':       '#000000'\n      // text\n      , 'font-size':        16\n      , 'font-family':      'Helvetica, Arial, sans-serif'\n      , 'text-anchor':      'start'\n    }\n\n  }\n// Module for color convertions\n  SVG.Color = function(color) {\n    var match\n\n    // initialize defaults\n    this.r = 0\n    this.g = 0\n    this.b = 0\n\n    if(!color) return\n\n    // parse color\n    if (typeof color === 'string') {\n      if (SVG.regex.isRgb.test(color)) {\n        // get rgb values\n        match = SVG.regex.rgb.exec(color.replace(SVG.regex.whitespace,''))\n\n        // parse numeric values\n        this.r = parseInt(match[1])\n        this.g = parseInt(match[2])\n        this.b = parseInt(match[3])\n\n      } else if (SVG.regex.isHex.test(color)) {\n        // get hex values\n        match = SVG.regex.hex.exec(fullHex(color))\n\n        // parse numeric values\n        this.r = parseInt(match[1], 16)\n        this.g = parseInt(match[2], 16)\n        this.b = parseInt(match[3], 16)\n\n      }\n\n    } else if (typeof color === 'object') {\n      this.r = color.r\n      this.g = color.g\n      this.b = color.b\n\n    }\n\n  }\n\n  SVG.extend(SVG.Color, {\n    // Default to hex conversion\n    toString: function() {\n      return this.toHex()\n    }\n    // Build hex value\n    , toHex: function() {\n      return '#'\n        + compToHex(this.r)\n        + compToHex(this.g)\n        + compToHex(this.b)\n    }\n    // Build rgb value\n    , toRgb: function() {\n      return 'rgb(' + [this.r, this.g, this.b].join() + ')'\n    }\n    // Calculate true brightness\n    , brightness: function() {\n      return (this.r / 255 * 0.30)\n        + (this.g / 255 * 0.59)\n        + (this.b / 255 * 0.11)\n    }\n    // Make color morphable\n    , morph: function(color) {\n      this.destination = new SVG.Color(color)\n\n      return this\n    }\n    // Get morphed color at given position\n    , at: function(pos) {\n      // make sure a destination is defined\n      if (!this.destination) return this\n\n      // normalise pos\n      pos = pos < 0 ? 0 : pos > 1 ? 1 : pos\n\n      // generate morphed color\n      return new SVG.Color({\n        r: ~~(this.r + (this.destination.r - this.r) * pos)\n        , g: ~~(this.g + (this.destination.g - this.g) * pos)\n        , b: ~~(this.b + (this.destination.b - this.b) * pos)\n      })\n    }\n\n  })\n\n// Testers\n\n// Test if given value is a color string\n  SVG.Color.test = function(color) {\n    color += ''\n    return SVG.regex.isHex.test(color)\n      || SVG.regex.isRgb.test(color)\n  }\n\n// Test if given value is a rgb object\n  SVG.Color.isRgb = function(color) {\n    return color && typeof color.r == 'number'\n      && typeof color.g == 'number'\n      && typeof color.b == 'number'\n  }\n\n// Test if given value is a color\n  SVG.Color.isColor = function(color) {\n    return SVG.Color.isRgb(color) || SVG.Color.test(color)\n  }\n// Module for array conversion\n  SVG.Array = function(array, fallback) {\n    array = (array || []).valueOf()\n\n    // if array is empty and fallback is provided, use fallback\n    if (array.length == 0 && fallback)\n      array = fallback.valueOf()\n\n    // parse array\n    this.value = this.parse(array)\n  }\n\n  SVG.extend(SVG.Array, {\n    // Make array morphable\n    morph: function(array) {\n      this.destination = this.parse(array)\n\n      // normalize length of arrays\n      if (this.value.length != this.destination.length) {\n        var lastValue       = this.value[this.value.length - 1]\n          , lastDestination = this.destination[this.destination.length - 1]\n\n        while(this.value.length > this.destination.length)\n          this.destination.push(lastDestination)\n        while(this.value.length < this.destination.length)\n          this.value.push(lastValue)\n      }\n\n      return this\n    }\n    // Clean up any duplicate points\n    , settle: function() {\n      // find all unique values\n      for (var i = 0, il = this.value.length, seen = []; i < il; i++)\n        if (seen.indexOf(this.value[i]) == -1)\n          seen.push(this.value[i])\n\n      // set new value\n      return this.value = seen\n    }\n    // Get morphed array at given position\n    , at: function(pos) {\n      // make sure a destination is defined\n      if (!this.destination) return this\n\n      // generate morphed array\n      for (var i = 0, il = this.value.length, array = []; i < il; i++)\n        array.push(this.value[i] + (this.destination[i] - this.value[i]) * pos)\n\n      return new SVG.Array(array)\n    }\n    // Convert array to string\n    , toString: function() {\n      return this.value.join(' ')\n    }\n    // Real value\n    , valueOf: function() {\n      return this.value\n    }\n    // Parse whitespace separated string\n    , parse: function(array) {\n      array = array.valueOf()\n\n      // if already is an array, no need to parse it\n      if (Array.isArray(array)) return array\n\n      return this.split(array)\n    }\n    // Strip unnecessary whitespace\n    , split: function(string) {\n      return string.trim().split(SVG.regex.delimiter).map(parseFloat)\n    }\n    // Reverse array\n    , reverse: function() {\n      this.value.reverse()\n\n      return this\n    }\n    , clone: function() {\n      var clone = new this.constructor()\n      clone.value = array_clone(this.value)\n      return clone\n    }\n  })\n// Poly points array\n  SVG.PointArray = function(array, fallback) {\n    SVG.Array.call(this, array, fallback || [[0,0]])\n  }\n\n// Inherit from SVG.Array\n  SVG.PointArray.prototype = new SVG.Array\n  SVG.PointArray.prototype.constructor = SVG.PointArray\n\n  SVG.extend(SVG.PointArray, {\n    // Convert array to string\n    toString: function() {\n      // convert to a poly point string\n      for (var i = 0, il = this.value.length, array = []; i < il; i++)\n        array.push(this.value[i].join(','))\n\n      return array.join(' ')\n    }\n    // Convert array to line object\n    , toLine: function() {\n      return {\n        x1: this.value[0][0]\n        , y1: this.value[0][1]\n        , x2: this.value[1][0]\n        , y2: this.value[1][1]\n      }\n    }\n    // Get morphed array at given position\n    , at: function(pos) {\n      // make sure a destination is defined\n      if (!this.destination) return this\n\n      // generate morphed point string\n      for (var i = 0, il = this.value.length, array = []; i < il; i++)\n        array.push([\n          this.value[i][0] + (this.destination[i][0] - this.value[i][0]) * pos\n          , this.value[i][1] + (this.destination[i][1] - this.value[i][1]) * pos\n        ])\n\n      return new SVG.PointArray(array)\n    }\n    // Parse point string and flat array\n    , parse: function(array) {\n      var points = []\n\n      array = array.valueOf()\n\n      // if it is an array\n      if (Array.isArray(array)) {\n        // and it is not flat, there is no need to parse it\n        if(Array.isArray(array[0])) {\n          // make sure to use a clone\n          return array.map(function (el) { return el.slice() })\n        } else if (array[0].x != null){\n          // allow point objects to be passed\n          return array.map(function (el) { return [el.x, el.y] })\n        }\n      } else { // Else, it is considered as a string\n        // parse points\n        array = array.trim().split(SVG.regex.delimiter).map(parseFloat)\n      }\n\n      // validate points - https://svgwg.org/svg2-draft/shapes.html#DataTypePoints\n      // Odd number of coordinates is an error. In such cases, drop the last odd coordinate.\n      if (array.length % 2 !== 0) array.pop()\n\n      // wrap points in two-tuples and parse points as floats\n      for(var i = 0, len = array.length; i < len; i = i + 2)\n        points.push([ array[i], array[i+1] ])\n\n      return points\n    }\n    // Move point string\n    , move: function(x, y) {\n      var box = this.bbox()\n\n      // get relative offset\n      x -= box.x\n      y -= box.y\n\n      // move every point\n      if (!isNaN(x) && !isNaN(y))\n        for (var i = this.value.length - 1; i >= 0; i--)\n          this.value[i] = [this.value[i][0] + x, this.value[i][1] + y]\n\n      return this\n    }\n    // Resize poly string\n    , size: function(width, height) {\n      var i, box = this.bbox()\n\n      // recalculate position of all points according to new size\n      for (i = this.value.length - 1; i >= 0; i--) {\n        if(box.width) this.value[i][0] = ((this.value[i][0] - box.x) * width)  / box.width  + box.x\n        if(box.height) this.value[i][1] = ((this.value[i][1] - box.y) * height) / box.height + box.y\n      }\n\n      return this\n    }\n    // Get bounding box of points\n    , bbox: function() {\n      SVG.parser.poly.setAttribute('points', this.toString())\n\n      return SVG.parser.poly.getBBox()\n    }\n  })\n\n  var pathHandlers = {\n    M: function(c, p, p0) {\n      p.x = p0.x = c[0]\n      p.y = p0.y = c[1]\n\n      return ['M', p.x, p.y]\n    },\n    L: function(c, p) {\n      p.x = c[0]\n      p.y = c[1]\n      return ['L', c[0], c[1]]\n    },\n    H: function(c, p) {\n      p.x = c[0]\n      return ['H', c[0]]\n    },\n    V: function(c, p) {\n      p.y = c[0]\n      return ['V', c[0]]\n    },\n    C: function(c, p) {\n      p.x = c[4]\n      p.y = c[5]\n      return ['C', c[0], c[1], c[2], c[3], c[4], c[5]]\n    },\n    S: function(c, p) {\n      p.x = c[2]\n      p.y = c[3]\n      return ['S', c[0], c[1], c[2], c[3]]\n    },\n    Q: function(c, p) {\n      p.x = c[2]\n      p.y = c[3]\n      return ['Q', c[0], c[1], c[2], c[3]]\n    },\n    T: function(c, p) {\n      p.x = c[0]\n      p.y = c[1]\n      return ['T', c[0], c[1]]\n    },\n    Z: function(c, p, p0) {\n      p.x = p0.x\n      p.y = p0.y\n      return ['Z']\n    },\n    A: function(c, p) {\n      p.x = c[5]\n      p.y = c[6]\n      return ['A', c[0], c[1], c[2], c[3], c[4], c[5], c[6]]\n    }\n  }\n\n  var mlhvqtcsa = 'mlhvqtcsaz'.split('')\n\n  for(var i = 0, il = mlhvqtcsa.length; i < il; ++i){\n    pathHandlers[mlhvqtcsa[i]] = (function(i){\n      return function(c, p, p0) {\n        if(i == 'H') c[0] = c[0] + p.x\n        else if(i == 'V') c[0] = c[0] + p.y\n        else if(i == 'A'){\n          c[5] = c[5] + p.x,\n            c[6] = c[6] + p.y\n        }\n        else\n          for(var j = 0, jl = c.length; j < jl; ++j) {\n            c[j] = c[j] + (j%2 ? p.y : p.x)\n          }\n\n        return pathHandlers[i](c, p, p0)\n      }\n    })(mlhvqtcsa[i].toUpperCase())\n  }\n\n// Path points array\n  SVG.PathArray = function(array, fallback) {\n    SVG.Array.call(this, array, fallback || [['M', 0, 0]])\n  }\n\n// Inherit from SVG.Array\n  SVG.PathArray.prototype = new SVG.Array\n  SVG.PathArray.prototype.constructor = SVG.PathArray\n\n  SVG.extend(SVG.PathArray, {\n    // Convert array to string\n    toString: function() {\n      return arrayToString(this.value)\n    }\n    // Move path string\n    , move: function(x, y) {\n      // get bounding box of current situation\n      var box = this.bbox()\n\n      // get relative offset\n      x -= box.x\n      y -= box.y\n\n      if (!isNaN(x) && !isNaN(y)) {\n        // move every point\n        for (var l, i = this.value.length - 1; i >= 0; i--) {\n          l = this.value[i][0]\n\n          if (l == 'M' || l == 'L' || l == 'T')  {\n            this.value[i][1] += x\n            this.value[i][2] += y\n\n          } else if (l == 'H')  {\n            this.value[i][1] += x\n\n          } else if (l == 'V')  {\n            this.value[i][1] += y\n\n          } else if (l == 'C' || l == 'S' || l == 'Q')  {\n            this.value[i][1] += x\n            this.value[i][2] += y\n            this.value[i][3] += x\n            this.value[i][4] += y\n\n            if (l == 'C')  {\n              this.value[i][5] += x\n              this.value[i][6] += y\n            }\n\n          } else if (l == 'A')  {\n            this.value[i][6] += x\n            this.value[i][7] += y\n          }\n\n        }\n      }\n\n      return this\n    }\n    // Resize path string\n    , size: function(width, height) {\n      // get bounding box of current situation\n      var i, l, box = this.bbox()\n\n      // recalculate position of all points according to new size\n      for (i = this.value.length - 1; i >= 0; i--) {\n        l = this.value[i][0]\n\n        if (l == 'M' || l == 'L' || l == 'T')  {\n          this.value[i][1] = ((this.value[i][1] - box.x) * width)  / box.width  + box.x\n          this.value[i][2] = ((this.value[i][2] - box.y) * height) / box.height + box.y\n\n        } else if (l == 'H')  {\n          this.value[i][1] = ((this.value[i][1] - box.x) * width)  / box.width  + box.x\n\n        } else if (l == 'V')  {\n          this.value[i][1] = ((this.value[i][1] - box.y) * height) / box.height + box.y\n\n        } else if (l == 'C' || l == 'S' || l == 'Q')  {\n          this.value[i][1] = ((this.value[i][1] - box.x) * width)  / box.width  + box.x\n          this.value[i][2] = ((this.value[i][2] - box.y) * height) / box.height + box.y\n          this.value[i][3] = ((this.value[i][3] - box.x) * width)  / box.width  + box.x\n          this.value[i][4] = ((this.value[i][4] - box.y) * height) / box.height + box.y\n\n          if (l == 'C')  {\n            this.value[i][5] = ((this.value[i][5] - box.x) * width)  / box.width  + box.x\n            this.value[i][6] = ((this.value[i][6] - box.y) * height) / box.height + box.y\n          }\n\n        } else if (l == 'A')  {\n          // resize radii\n          this.value[i][1] = (this.value[i][1] * width)  / box.width\n          this.value[i][2] = (this.value[i][2] * height) / box.height\n\n          // move position values\n          this.value[i][6] = ((this.value[i][6] - box.x) * width)  / box.width  + box.x\n          this.value[i][7] = ((this.value[i][7] - box.y) * height) / box.height + box.y\n        }\n\n      }\n\n      return this\n    }\n    // Test if the passed path array use the same path data commands as this path array\n    , equalCommands: function(pathArray) {\n      var i, il, equalCommands\n\n      pathArray = new SVG.PathArray(pathArray)\n\n      equalCommands = this.value.length === pathArray.value.length\n      for(i = 0, il = this.value.length; equalCommands && i < il; i++) {\n        equalCommands = this.value[i][0] === pathArray.value[i][0]\n      }\n\n      return equalCommands\n    }\n    // Make path array morphable\n    , morph: function(pathArray) {\n      pathArray = new SVG.PathArray(pathArray)\n\n      if(this.equalCommands(pathArray)) {\n        this.destination = pathArray\n      } else {\n        this.destination = null\n      }\n\n      return this\n    }\n    // Get morphed path array at given position\n    , at: function(pos) {\n      // make sure a destination is defined\n      if (!this.destination) return this\n\n      var sourceArray = this.value\n        , destinationArray = this.destination.value\n        , array = [], pathArray = new SVG.PathArray()\n        , i, il, j, jl\n\n      // Animate has specified in the SVG spec\n      // See: https://www.w3.org/TR/SVG11/paths.html#PathElement\n      for (i = 0, il = sourceArray.length; i < il; i++) {\n        array[i] = [sourceArray[i][0]]\n        for(j = 1, jl = sourceArray[i].length; j < jl; j++) {\n          array[i][j] = sourceArray[i][j] + (destinationArray[i][j] - sourceArray[i][j]) * pos\n        }\n        // For the two flags of the elliptical arc command, the SVG spec say:\n        // Flags and booleans are interpolated as fractions between zero and one, with any non-zero value considered to be a value of one/true\n        // Elliptical arc command as an array followed by corresponding indexes:\n        // ['A', rx, ry, x-axis-rotation, large-arc-flag, sweep-flag, x, y]\n        //   0    1   2        3                 4             5      6  7\n        if(array[i][0] === 'A') {\n          array[i][4] = +(array[i][4] != 0)\n          array[i][5] = +(array[i][5] != 0)\n        }\n      }\n\n      // Directly modify the value of a path array, this is done this way for performance\n      pathArray.value = array\n      return pathArray\n    }\n    // Absolutize and parse path to array\n    , parse: function(array) {\n      // if it's already a patharray, no need to parse it\n      if (array instanceof SVG.PathArray) return array.valueOf()\n\n      // prepare for parsing\n      var i, x0, y0, s, seg, arr\n        , x = 0\n        , y = 0\n        , paramCnt = { 'M':2, 'L':2, 'H':1, 'V':1, 'C':6, 'S':4, 'Q':4, 'T':2, 'A':7, 'Z':0 }\n\n      if(typeof array == 'string'){\n\n        array = array\n          .replace(SVG.regex.numbersWithDots, pathRegReplace) // convert 45.123.123 to 45.123 .123\n          .replace(SVG.regex.pathLetters, ' $& ') // put some room between letters and numbers\n          .replace(SVG.regex.hyphen, '$1 -')      // add space before hyphen\n          .trim()                                 // trim\n          .split(SVG.regex.delimiter)   // split into array\n\n      }else{\n        array = array.reduce(function(prev, curr){\n          return [].concat.call(prev, curr)\n        }, [])\n      }\n\n      // array now is an array containing all parts of a path e.g. ['M', '0', '0', 'L', '30', '30' ...]\n      var arr = []\n        , p = new SVG.Point()\n        , p0 = new SVG.Point()\n        , index = 0\n        , len = array.length\n\n      do{\n        // Test if we have a path letter\n        if(SVG.regex.isPathLetter.test(array[index])){\n          s = array[index]\n          ++index\n          // If last letter was a move command and we got no new, it defaults to [L]ine\n        }else if(s == 'M'){\n          s = 'L'\n        }else if(s == 'm'){\n          s = 'l'\n        }\n\n        arr.push(pathHandlers[s].call(null,\n          array.slice(index, (index = index + paramCnt[s.toUpperCase()])).map(parseFloat),\n          p, p0\n          )\n        )\n\n      }while(len > index)\n\n      return arr\n\n    }\n    // Get bounding box of path\n    , bbox: function() {\n      SVG.parser.path.setAttribute('d', this.toString())\n\n      return SVG.parser.path.getBBox()\n    }\n\n  })\n\n// Module for unit convertions\n  SVG.Number = SVG.invent({\n    // Initialize\n    create: function(value, unit) {\n      // initialize defaults\n      this.value = 0\n      this.unit  = unit || ''\n\n      // parse value\n      if (typeof value === 'number') {\n        // ensure a valid numeric value\n        this.value = isNaN(value) ? 0 : !isFinite(value) ? (value < 0 ? -3.4e+38 : +3.4e+38) : value\n\n      } else if (typeof value === 'string') {\n        unit = value.match(SVG.regex.numberAndUnit)\n\n        if (unit) {\n          // make value numeric\n          this.value = parseFloat(unit[1])\n\n          // normalize\n          if (unit[5] == '%')\n            this.value /= 100\n          else if (unit[5] == 's')\n            this.value *= 1000\n\n          // store unit\n          this.unit = unit[5]\n        }\n\n      } else {\n        if (value instanceof SVG.Number) {\n          this.value = value.valueOf()\n          this.unit  = value.unit\n        }\n      }\n\n    }\n    // Add methods\n    , extend: {\n      // Stringalize\n      toString: function() {\n        return (\n          this.unit == '%' ?\n            ~~(this.value * 1e8) / 1e6:\n            this.unit == 's' ?\n              this.value / 1e3 :\n              this.value\n        ) + this.unit\n      }\n      , toJSON: function() {\n        return this.toString()\n      }\n      , // Convert to primitive\n      valueOf: function() {\n        return this.value\n      }\n      // Add number\n      , plus: function(number) {\n        number = new SVG.Number(number)\n        return new SVG.Number(this + number, this.unit || number.unit)\n      }\n      // Subtract number\n      , minus: function(number) {\n        number = new SVG.Number(number)\n        return new SVG.Number(this - number, this.unit || number.unit)\n      }\n      // Multiply number\n      , times: function(number) {\n        number = new SVG.Number(number)\n        return new SVG.Number(this * number, this.unit || number.unit)\n      }\n      // Divide number\n      , divide: function(number) {\n        number = new SVG.Number(number)\n        return new SVG.Number(this / number, this.unit || number.unit)\n      }\n      // Convert to different unit\n      , to: function(unit) {\n        var number = new SVG.Number(this)\n\n        if (typeof unit === 'string')\n          number.unit = unit\n\n        return number\n      }\n      // Make number morphable\n      , morph: function(number) {\n        this.destination = new SVG.Number(number)\n\n        if(number.relative) {\n          this.destination.value += this.value\n        }\n\n        return this\n      }\n      // Get morphed number at given position\n      , at: function(pos) {\n        // Make sure a destination is defined\n        if (!this.destination) return this\n\n        // Generate new morphed number\n        return new SVG.Number(this.destination)\n          .minus(this)\n          .times(pos)\n          .plus(this)\n      }\n\n    }\n  })\n\n\n  SVG.Element = SVG.invent({\n    // Initialize node\n    create: function(node) {\n      // make stroke value accessible dynamically\n      this._stroke = SVG.defaults.attrs.stroke\n      this._event = null\n      this._events = {}\n\n      // initialize data object\n      this.dom = {}\n\n      // create circular reference\n      if (this.node = node) {\n        this.type = node.nodeName\n        this.node.instance = this\n        this._events = node._events || {}\n\n        // store current attribute value\n        this._stroke = node.getAttribute('stroke') || this._stroke\n      }\n    }\n\n    // Add class methods\n    , extend: {\n      // Move over x-axis\n      x: function(x) {\n        return this.attr('x', x)\n      }\n      // Move over y-axis\n      , y: function(y) {\n        return this.attr('y', y)\n      }\n      // Move by center over x-axis\n      , cx: function(x) {\n        return x == null ? this.x() + this.width() / 2 : this.x(x - this.width() / 2)\n      }\n      // Move by center over y-axis\n      , cy: function(y) {\n        return y == null ? this.y() + this.height() / 2 : this.y(y - this.height() / 2)\n      }\n      // Move element to given x and y values\n      , move: function(x, y) {\n        return this.x(x).y(y)\n      }\n      // Move element by its center\n      , center: function(x, y) {\n        return this.cx(x).cy(y)\n      }\n      // Set width of element\n      , width: function(width) {\n        return this.attr('width', width)\n      }\n      // Set height of element\n      , height: function(height) {\n        return this.attr('height', height)\n      }\n      // Set element size to given width and height\n      , size: function(width, height) {\n        var p = proportionalSize(this, width, height)\n\n        return this\n          .width(new SVG.Number(p.width))\n          .height(new SVG.Number(p.height))\n      }\n      // Clone element\n      , clone: function(parent) {\n        // write dom data to the dom so the clone can pickup the data\n        this.writeDataToDom()\n\n        // clone element and assign new id\n        var clone = assignNewId(this.node.cloneNode(true))\n\n        // insert the clone in the given parent or after myself\n        if(parent) parent.add(clone)\n        else this.after(clone)\n\n        return clone\n      }\n      // Remove element\n      , remove: function() {\n        if (this.parent())\n          this.parent().removeElement(this)\n\n        return this\n      }\n      // Replace element\n      , replace: function(element) {\n        this.after(element).remove()\n\n        return element\n      }\n      // Add element to given container and return self\n      , addTo: function(parent) {\n        return parent.put(this)\n      }\n      // Add element to given container and return container\n      , putIn: function(parent) {\n        return parent.add(this)\n      }\n      // Get / set id\n      , id: function(id) {\n        return this.attr('id', id)\n      }\n      // Checks whether the given point inside the bounding box of the element\n      , inside: function(x, y) {\n        var box = this.bbox()\n\n        return x > box.x\n          && y > box.y\n          && x < box.x + box.width\n          && y < box.y + box.height\n      }\n      // Show element\n      , show: function() {\n        return this.style('display', '')\n      }\n      // Hide element\n      , hide: function() {\n        return this.style('display', 'none')\n      }\n      // Is element visible?\n      , visible: function() {\n        return this.style('display') != 'none'\n      }\n      // Return id on string conversion\n      , toString: function() {\n        return this.attr('id')\n      }\n      // Return array of classes on the node\n      , classes: function() {\n        var attr = this.attr('class')\n\n        return attr == null ? [] : attr.trim().split(SVG.regex.delimiter)\n      }\n      // Return true if class exists on the node, false otherwise\n      , hasClass: function(name) {\n        return this.classes().indexOf(name) != -1\n      }\n      // Add class to the node\n      , addClass: function(name) {\n        if (!this.hasClass(name)) {\n          var array = this.classes()\n          array.push(name)\n          this.attr('class', array.join(' '))\n        }\n\n        return this\n      }\n      // Remove class from the node\n      , removeClass: function(name) {\n        if (this.hasClass(name)) {\n          this.attr('class', this.classes().filter(function(c) {\n            return c != name\n          }).join(' '))\n        }\n\n        return this\n      }\n      // Toggle the presence of a class on the node\n      , toggleClass: function(name) {\n        return this.hasClass(name) ? this.removeClass(name) : this.addClass(name)\n      }\n      // Get referenced element form attribute value\n      , reference: function(attr) {\n        return SVG.get(this.attr(attr))\n      }\n      // Returns the parent element instance\n      , parent: function(type) {\n        var parent = this\n\n        // check for parent\n        if(!parent.node.parentNode) return null\n\n        // get parent element\n        parent = SVG.adopt(parent.node.parentNode)\n\n        if(!type) return parent\n\n        // loop trough ancestors if type is given\n        while(parent && parent.node instanceof window.SVGElement){\n          if(typeof type === 'string' ? parent.matches(type) : parent instanceof type) return parent\n          if(!parent.node.parentNode || parent.node.parentNode.nodeName == '#document' || parent.node.parentNode.nodeName == '#document-fragment') return null // #759, #720\n          parent = SVG.adopt(parent.node.parentNode)\n        }\n      }\n      // Get parent document\n      , doc: function() {\n        return this instanceof SVG.Doc ? this : this.parent(SVG.Doc)\n      }\n      // return array of all ancestors of given type up to the root svg\n      , parents: function(type) {\n        var parents = [], parent = this\n\n        do{\n          parent = parent.parent(type)\n          if(!parent || !parent.node) break\n\n          parents.push(parent)\n        } while(parent.parent)\n\n        return parents\n      }\n      // matches the element vs a css selector\n      , matches: function(selector){\n        return matches(this.node, selector)\n      }\n      // Returns the svg node to call native svg methods on it\n      , native: function() {\n        return this.node\n      }\n      // Import raw svg\n      , svg: function(svg) {\n        // create temporary holder\n        var well = document.createElement('svg')\n\n        // act as a setter if svg is given\n        if (svg && this instanceof SVG.Parent) {\n          // dump raw svg\n          well.innerHTML = '<svg>' + svg.replace(/\\n/, '').replace(/<([\\w:-]+)([^<]+?)\\/>/g, '<$1$2></$1>') + '</svg>'\n\n          // transplant nodes\n          for (var i = 0, il = well.firstChild.childNodes.length; i < il; i++)\n            this.node.appendChild(well.firstChild.firstChild)\n\n          // otherwise act as a getter\n        } else {\n          // create a wrapping svg element in case of partial content\n          well.appendChild(svg = document.createElement('svg'))\n\n          // write svgjs data to the dom\n          this.writeDataToDom()\n\n          // insert a copy of this node\n          svg.appendChild(this.node.cloneNode(true))\n\n          // return target element\n          return well.innerHTML.replace(/^<svg>/, '').replace(/<\\/svg>$/, '')\n        }\n\n        return this\n      }\n      // write svgjs data to the dom\n      , writeDataToDom: function() {\n\n        // dump variables recursively\n        if(this.each || this.lines){\n          var fn = this.each ? this : this.lines();\n          fn.each(function(){\n            this.writeDataToDom()\n          })\n        }\n\n        // remove previously set data\n        this.node.removeAttribute('svgjs:data')\n\n        if(Object.keys(this.dom).length)\n          this.node.setAttribute('svgjs:data', JSON.stringify(this.dom)) // see #428\n\n        return this\n      }\n      // set given data to the elements data property\n      , setData: function(o){\n        this.dom = o\n        return this\n      }\n      , is: function(obj){\n        return is(this, obj)\n      }\n    }\n  })\n\n  SVG.easing = {\n    '-': function(pos){return pos}\n    , '<>':function(pos){return -Math.cos(pos * Math.PI) / 2 + 0.5}\n    , '>': function(pos){return  Math.sin(pos * Math.PI / 2)}\n    , '<': function(pos){return -Math.cos(pos * Math.PI / 2) + 1}\n  }\n\n  SVG.morph = function(pos){\n    return function(from, to) {\n      return new SVG.MorphObj(from, to).at(pos)\n    }\n  }\n\n  SVG.Situation = SVG.invent({\n\n    create: function(o){\n      this.init = false\n      this.reversed = false\n      this.reversing = false\n\n      this.duration = new SVG.Number(o.duration).valueOf()\n      this.delay = new SVG.Number(o.delay).valueOf()\n\n      this.start = +new Date() + this.delay\n      this.finish = this.start + this.duration\n      this.ease = o.ease\n\n      // this.loop is incremented from 0 to this.loops\n      // it is also incremented when in an infinite loop (when this.loops is true)\n      this.loop = 0\n      this.loops = false\n\n      this.animations = {\n        // functionToCall: [list of morphable objects]\n        // e.g. move: [SVG.Number, SVG.Number]\n      }\n\n      this.attrs = {\n        // holds all attributes which are not represented from a function svg.js provides\n        // e.g. someAttr: SVG.Number\n      }\n\n      this.styles = {\n        // holds all styles which should be animated\n        // e.g. fill-color: SVG.Color\n      }\n\n      this.transforms = [\n        // holds all transformations as transformation objects\n        // e.g. [SVG.Rotate, SVG.Translate, SVG.Matrix]\n      ]\n\n      this.once = {\n        // functions to fire at a specific position\n        // e.g. \"0.5\": function foo(){}\n      }\n\n    }\n\n  })\n\n\n  SVG.FX = SVG.invent({\n\n    create: function(element) {\n      this._target = element\n      this.situations = []\n      this.active = false\n      this.situation = null\n      this.paused = false\n      this.lastPos = 0\n      this.pos = 0\n      // The absolute position of an animation is its position in the context of its complete duration (including delay and loops)\n      // When performing a delay, absPos is below 0 and when performing a loop, its value is above 1\n      this.absPos = 0\n      this._speed = 1\n    }\n\n    , extend: {\n\n      /**\n       * sets or returns the target of this animation\n       * @param o object || number In case of Object it holds all parameters. In case of number its the duration of the animation\n       * @param ease function || string Function which should be used for easing or easing keyword\n       * @param delay Number indicating the delay before the animation starts\n       * @return target || this\n       */\n      animate: function(o, ease, delay){\n\n        if(typeof o == 'object'){\n          ease = o.ease\n          delay = o.delay\n          o = o.duration\n        }\n\n        var situation = new SVG.Situation({\n          duration: o || 1000,\n          delay: delay || 0,\n          ease: SVG.easing[ease || '-'] || ease\n        })\n\n        this.queue(situation)\n\n        return this\n      }\n\n      /**\n       * sets a delay before the next element of the queue is called\n       * @param delay Duration of delay in milliseconds\n       * @return this.target()\n       */\n      , delay: function(delay){\n        // The delay is performed by an empty situation with its duration\n        // attribute set to the duration of the delay\n        var situation = new SVG.Situation({\n          duration: delay,\n          delay: 0,\n          ease: SVG.easing['-']\n        })\n\n        return this.queue(situation)\n      }\n\n      /**\n       * sets or returns the target of this animation\n       * @param null || target SVG.Element which should be set as new target\n       * @return target || this\n       */\n      , target: function(target){\n        if(target && target instanceof SVG.Element){\n          this._target = target\n          return this\n        }\n\n        return this._target\n      }\n\n      // returns the absolute position at a given time\n      , timeToAbsPos: function(timestamp){\n        return (timestamp - this.situation.start) / (this.situation.duration/this._speed)\n      }\n\n      // returns the timestamp from a given absolute positon\n      , absPosToTime: function(absPos){\n        return this.situation.duration/this._speed * absPos + this.situation.start\n      }\n\n      // starts the animationloop\n      , startAnimFrame: function(){\n        this.stopAnimFrame()\n        this.animationFrame = window.requestAnimationFrame(function(){ this.step() }.bind(this))\n      }\n\n      // cancels the animationframe\n      , stopAnimFrame: function(){\n        window.cancelAnimationFrame(this.animationFrame)\n      }\n\n      // kicks off the animation - only does something when the queue is currently not active and at least one situation is set\n      , start: function(){\n        // dont start if already started\n        if(!this.active && this.situation){\n          this.active = true\n          this.startCurrent()\n        }\n\n        return this\n      }\n\n      // start the current situation\n      , startCurrent: function(){\n        this.situation.start = +new Date + this.situation.delay/this._speed\n        this.situation.finish = this.situation.start + this.situation.duration/this._speed\n        return this.initAnimations().step()\n      }\n\n      /**\n       * adds a function / Situation to the animation queue\n       * @param fn function / situation to add\n       * @return this\n       */\n      , queue: function(fn){\n        if(typeof fn == 'function' || fn instanceof SVG.Situation)\n          this.situations.push(fn)\n\n        if(!this.situation) this.situation = this.situations.shift()\n\n        return this\n      }\n\n      /**\n       * pulls next element from the queue and execute it\n       * @return this\n       */\n      , dequeue: function(){\n        // stop current animation\n        this.stop()\n\n        // get next animation from queue\n        this.situation = this.situations.shift()\n\n        if(this.situation){\n          if(this.situation instanceof SVG.Situation) {\n            this.start()\n          } else {\n            // If it is not a SVG.Situation, then it is a function, we execute it\n            this.situation.call(this)\n          }\n        }\n\n        return this\n      }\n\n      // updates all animations to the current state of the element\n      // this is important when one property could be changed from another property\n      , initAnimations: function() {\n        var i, j, source\n        var s = this.situation\n\n        if(s.init) return this\n\n        for(i in s.animations){\n          source = this.target()[i]()\n\n          if(!Array.isArray(source)) {\n            source = [source]\n          }\n\n          if(!Array.isArray(s.animations[i])) {\n            s.animations[i] = [s.animations[i]]\n          }\n\n          //if(s.animations[i].length > source.length) {\n          //  source.concat = source.concat(s.animations[i].slice(source.length, s.animations[i].length))\n          //}\n\n          for(j = source.length; j--;) {\n            // The condition is because some methods return a normal number instead\n            // of a SVG.Number\n            if(s.animations[i][j] instanceof SVG.Number)\n              source[j] = new SVG.Number(source[j])\n\n            s.animations[i][j] = source[j].morph(s.animations[i][j])\n          }\n        }\n\n        for(i in s.attrs){\n          s.attrs[i] = new SVG.MorphObj(this.target().attr(i), s.attrs[i])\n        }\n\n        for(i in s.styles){\n          s.styles[i] = new SVG.MorphObj(this.target().style(i), s.styles[i])\n        }\n\n        s.initialTransformation = this.target().matrixify()\n\n        s.init = true\n        return this\n      }\n      , clearQueue: function(){\n        this.situations = []\n        return this\n      }\n      , clearCurrent: function(){\n        this.situation = null\n        return this\n      }\n      /** stops the animation immediately\n       * @param jumpToEnd A Boolean indicating whether to complete the current animation immediately.\n       * @param clearQueue A Boolean indicating whether to remove queued animation as well.\n       * @return this\n       */\n      , stop: function(jumpToEnd, clearQueue){\n        var active = this.active\n        this.active = false\n\n        if(clearQueue){\n          this.clearQueue()\n        }\n\n        if(jumpToEnd && this.situation){\n          // initialize the situation if it was not\n          !active && this.startCurrent()\n          this.atEnd()\n        }\n\n        this.stopAnimFrame()\n\n        return this.clearCurrent()\n      }\n\n      /** resets the element to the state where the current element has started\n       * @return this\n       */\n      , reset: function(){\n        if(this.situation){\n          var temp = this.situation\n          this.stop()\n          this.situation = temp\n          this.atStart()\n        }\n        return this\n      }\n\n      // Stop the currently-running animation, remove all queued animations, and complete all animations for the element.\n      , finish: function(){\n\n        this.stop(true, false)\n\n        while(this.dequeue().situation && this.stop(true, false));\n\n        this.clearQueue().clearCurrent()\n\n        return this\n      }\n\n      // set the internal animation pointer at the start position, before any loops, and updates the visualisation\n      , atStart: function() {\n        return this.at(0, true)\n      }\n\n      // set the internal animation pointer at the end position, after all the loops, and updates the visualisation\n      , atEnd: function() {\n        if (this.situation.loops === true) {\n          // If in a infinite loop, we end the current iteration\n          this.situation.loops = this.situation.loop + 1\n        }\n\n        if(typeof this.situation.loops == 'number') {\n          // If performing a finite number of loops, we go after all the loops\n          return this.at(this.situation.loops, true)\n        } else {\n          // If no loops, we just go at the end\n          return this.at(1, true)\n        }\n      }\n\n      // set the internal animation pointer to the specified position and updates the visualisation\n      // if isAbsPos is true, pos is treated as an absolute position\n      , at: function(pos, isAbsPos){\n        var durDivSpd = this.situation.duration/this._speed\n\n        this.absPos = pos\n        // If pos is not an absolute position, we convert it into one\n        if (!isAbsPos) {\n          if (this.situation.reversed) this.absPos = 1 - this.absPos\n          this.absPos += this.situation.loop\n        }\n\n        this.situation.start = +new Date - this.absPos * durDivSpd\n        this.situation.finish = this.situation.start + durDivSpd\n\n        return this.step(true)\n      }\n\n      /**\n       * sets or returns the speed of the animations\n       * @param speed null || Number The new speed of the animations\n       * @return Number || this\n       */\n      , speed: function(speed){\n        if (speed === 0) return this.pause()\n\n        if (speed) {\n          this._speed = speed\n          // We use an absolute position here so that speed can affect the delay before the animation\n          return this.at(this.absPos, true)\n        } else return this._speed\n      }\n\n      // Make loopable\n      , loop: function(times, reverse) {\n        var c = this.last()\n\n        // store total loops\n        c.loops = (times != null) ? times : true\n        c.loop = 0\n\n        if(reverse) c.reversing = true\n        return this\n      }\n\n      // pauses the animation\n      , pause: function(){\n        this.paused = true\n        this.stopAnimFrame()\n\n        return this\n      }\n\n      // unpause the animation\n      , play: function(){\n        if(!this.paused) return this\n        this.paused = false\n        // We use an absolute position here so that the delay before the animation can be paused\n        return this.at(this.absPos, true)\n      }\n\n      /**\n       * toggle or set the direction of the animation\n       * true sets direction to backwards while false sets it to forwards\n       * @param reversed Boolean indicating whether to reverse the animation or not (default: toggle the reverse status)\n       * @return this\n       */\n      , reverse: function(reversed){\n        var c = this.last()\n\n        if(typeof reversed == 'undefined') c.reversed = !c.reversed\n        else c.reversed = reversed\n\n        return this\n      }\n\n\n      /**\n       * returns a float from 0-1 indicating the progress of the current animation\n       * @param eased Boolean indicating whether the returned position should be eased or not\n       * @return number\n       */\n      , progress: function(easeIt){\n        return easeIt ? this.situation.ease(this.pos) : this.pos\n      }\n\n      /**\n       * adds a callback function which is called when the current animation is finished\n       * @param fn Function which should be executed as callback\n       * @return number\n       */\n      , after: function(fn){\n        var c = this.last()\n          , wrapper = function wrapper(e){\n          if(e.detail.situation == c){\n            fn.call(this, c)\n            this.off('finished.fx', wrapper) // prevent memory leak\n          }\n        }\n\n        this.target().on('finished.fx', wrapper)\n\n        return this._callStart()\n      }\n\n      // adds a callback which is called whenever one animation step is performed\n      , during: function(fn){\n        var c = this.last()\n          , wrapper = function(e){\n          if(e.detail.situation == c){\n            fn.call(this, e.detail.pos, SVG.morph(e.detail.pos), e.detail.eased, c)\n          }\n        }\n\n        // see above\n        this.target().off('during.fx', wrapper).on('during.fx', wrapper)\n\n        this.after(function(){\n          this.off('during.fx', wrapper)\n        })\n\n        return this._callStart()\n      }\n\n      // calls after ALL animations in the queue are finished\n      , afterAll: function(fn){\n        var wrapper = function wrapper(e){\n          fn.call(this)\n          this.off('allfinished.fx', wrapper)\n        }\n\n        // see above\n        this.target().off('allfinished.fx', wrapper).on('allfinished.fx', wrapper)\n\n        return this._callStart()\n      }\n\n      // calls on every animation step for all animations\n      , duringAll: function(fn){\n        var wrapper = function(e){\n          fn.call(this, e.detail.pos, SVG.morph(e.detail.pos), e.detail.eased, e.detail.situation)\n        }\n\n        this.target().off('during.fx', wrapper).on('during.fx', wrapper)\n\n        this.afterAll(function(){\n          this.off('during.fx', wrapper)\n        })\n\n        return this._callStart()\n      }\n\n      , last: function(){\n        return this.situations.length ? this.situations[this.situations.length-1] : this.situation\n      }\n\n      // adds one property to the animations\n      , add: function(method, args, type){\n        this.last()[type || 'animations'][method] = args\n        return this._callStart()\n      }\n\n      /** perform one step of the animation\n       *  @param ignoreTime Boolean indicating whether to ignore time and use position directly or recalculate position based on time\n       *  @return this\n       */\n      , step: function(ignoreTime){\n\n        // convert current time to an absolute position\n        if(!ignoreTime) this.absPos = this.timeToAbsPos(+new Date)\n\n        // This part convert an absolute position to a position\n        if(this.situation.loops !== false) {\n          var absPos, absPosInt, lastLoop\n\n          // If the absolute position is below 0, we just treat it as if it was 0\n          absPos = Math.max(this.absPos, 0)\n          absPosInt = Math.floor(absPos)\n\n          if(this.situation.loops === true || absPosInt < this.situation.loops) {\n            this.pos = absPos - absPosInt\n            lastLoop = this.situation.loop\n            this.situation.loop = absPosInt\n          } else {\n            this.absPos = this.situation.loops\n            this.pos = 1\n            // The -1 here is because we don't want to toggle reversed when all the loops have been completed\n            lastLoop = this.situation.loop - 1\n            this.situation.loop = this.situation.loops\n          }\n\n          if(this.situation.reversing) {\n            // Toggle reversed if an odd number of loops as occured since the last call of step\n            this.situation.reversed = this.situation.reversed != Boolean((this.situation.loop - lastLoop) % 2)\n          }\n\n        } else {\n          // If there are no loop, the absolute position must not be above 1\n          this.absPos = Math.min(this.absPos, 1)\n          this.pos = this.absPos\n        }\n\n        // while the absolute position can be below 0, the position must not be below 0\n        if(this.pos < 0) this.pos = 0\n\n        if(this.situation.reversed) this.pos = 1 - this.pos\n\n\n        // apply easing\n        var eased = this.situation.ease(this.pos)\n\n        // call once-callbacks\n        for(var i in this.situation.once){\n          if(i > this.lastPos && i <= eased){\n            this.situation.once[i].call(this.target(), this.pos, eased)\n            delete this.situation.once[i]\n          }\n        }\n\n        // fire during callback with position, eased position and current situation as parameter\n        if(this.active) this.target().fire('during', {pos: this.pos, eased: eased, fx: this, situation: this.situation})\n\n        // the user may call stop or finish in the during callback\n        // so make sure that we still have a valid situation\n        if(!this.situation){\n          return this\n        }\n\n        // apply the actual animation to every property\n        this.eachAt()\n\n        // do final code when situation is finished\n        if((this.pos == 1 && !this.situation.reversed) || (this.situation.reversed && this.pos == 0)){\n\n          // stop animation callback\n          this.stopAnimFrame()\n\n          // fire finished callback with current situation as parameter\n          this.target().fire('finished', {fx:this, situation: this.situation})\n\n          if(!this.situations.length){\n            this.target().fire('allfinished')\n\n            // Recheck the length since the user may call animate in the afterAll callback\n            if(!this.situations.length){\n              this.target().off('.fx') // there shouldnt be any binding left, but to make sure...\n              this.active = false\n            }\n          }\n\n          // start next animation\n          if(this.active) this.dequeue()\n          else this.clearCurrent()\n\n        }else if(!this.paused && this.active){\n          // we continue animating when we are not at the end\n          this.startAnimFrame()\n        }\n\n        // save last eased position for once callback triggering\n        this.lastPos = eased\n        return this\n\n      }\n\n      // calculates the step for every property and calls block with it\n      , eachAt: function(){\n        var i, len, at, self = this, target = this.target(), s = this.situation\n\n        // apply animations which can be called trough a method\n        for(i in s.animations){\n\n          at = [].concat(s.animations[i]).map(function(el){\n            return typeof el !== 'string' && el.at ? el.at(s.ease(self.pos), self.pos) : el\n          })\n\n          target[i].apply(target, at)\n\n        }\n\n        // apply animation which has to be applied with attr()\n        for(i in s.attrs){\n\n          at = [i].concat(s.attrs[i]).map(function(el){\n            return typeof el !== 'string' && el.at ? el.at(s.ease(self.pos), self.pos) : el\n          })\n\n          target.attr.apply(target, at)\n\n        }\n\n        // apply animation which has to be applied with style()\n        for(i in s.styles){\n\n          at = [i].concat(s.styles[i]).map(function(el){\n            return typeof el !== 'string' && el.at ? el.at(s.ease(self.pos), self.pos) : el\n          })\n\n          target.style.apply(target, at)\n\n        }\n\n        // animate initialTransformation which has to be chained\n        if(s.transforms.length){\n\n          // get initial initialTransformation\n          at = s.initialTransformation\n          for(i = 0, len = s.transforms.length; i < len; i++){\n\n            // get next transformation in chain\n            var a = s.transforms[i]\n\n            // multiply matrix directly\n            if(a instanceof SVG.Matrix){\n\n              if(a.relative){\n                at = at.multiply(new SVG.Matrix().morph(a).at(s.ease(this.pos)))\n              }else{\n                at = at.morph(a).at(s.ease(this.pos))\n              }\n              continue\n            }\n\n            // when transformation is absolute we have to reset the needed transformation first\n            if(!a.relative)\n              a.undo(at.extract())\n\n            // and reapply it after\n            at = at.multiply(a.at(s.ease(this.pos)))\n\n          }\n\n          // set new matrix on element\n          target.matrix(at)\n        }\n\n        return this\n\n      }\n\n\n      // adds an once-callback which is called at a specific position and never again\n      , once: function(pos, fn, isEased){\n        var c = this.last()\n        if(!isEased) pos = c.ease(pos)\n\n        c.once[pos] = fn\n\n        return this\n      }\n\n      , _callStart: function() {\n        setTimeout(function(){this.start()}.bind(this), 0)\n        return this\n      }\n\n    }\n\n    , parent: SVG.Element\n\n    // Add method to parent elements\n    , construct: {\n      // Get fx module or create a new one, then animate with given duration and ease\n      animate: function(o, ease, delay) {\n        return (this.fx || (this.fx = new SVG.FX(this))).animate(o, ease, delay)\n      }\n      , delay: function(delay){\n        return (this.fx || (this.fx = new SVG.FX(this))).delay(delay)\n      }\n      , stop: function(jumpToEnd, clearQueue) {\n        if (this.fx)\n          this.fx.stop(jumpToEnd, clearQueue)\n\n        return this\n      }\n      , finish: function() {\n        if (this.fx)\n          this.fx.finish()\n\n        return this\n      }\n      // Pause current animation\n      , pause: function() {\n        if (this.fx)\n          this.fx.pause()\n\n        return this\n      }\n      // Play paused current animation\n      , play: function() {\n        if (this.fx)\n          this.fx.play()\n\n        return this\n      }\n      // Set/Get the speed of the animations\n      , speed: function(speed) {\n        if (this.fx)\n          if (speed == null)\n            return this.fx.speed()\n          else\n            this.fx.speed(speed)\n\n        return this\n      }\n    }\n\n  })\n\n// MorphObj is used whenever no morphable object is given\n  SVG.MorphObj = SVG.invent({\n\n    create: function(from, to){\n      // prepare color for morphing\n      if(SVG.Color.isColor(to)) return new SVG.Color(from).morph(to)\n      // check if we have a list of values\n      if(SVG.regex.delimiter.test(from)) {\n        // prepare path for morphing\n        if(SVG.regex.pathLetters.test(from)) return new SVG.PathArray(from).morph(to)\n        // prepare value list for morphing\n        else return new SVG.Array(from).morph(to)\n      }\n      // prepare number for morphing\n      if(SVG.regex.numberAndUnit.test(to)) return new SVG.Number(from).morph(to)\n\n      // prepare for plain morphing\n      this.value = from\n      this.destination = to\n    }\n\n    , extend: {\n      at: function(pos, real){\n        return real < 1 ? this.value : this.destination\n      },\n\n      valueOf: function(){\n        return this.value\n      }\n    }\n\n  })\n\n  SVG.extend(SVG.FX, {\n    // Add animatable attributes\n    attr: function(a, v, relative) {\n      // apply attributes individually\n      if (typeof a == 'object') {\n        for (var key in a)\n          this.attr(key, a[key])\n\n      } else {\n        this.add(a, v, 'attrs')\n      }\n\n      return this\n    }\n    // Add animatable styles\n    , style: function(s, v) {\n      if (typeof s == 'object')\n        for (var key in s)\n          this.style(key, s[key])\n\n      else\n        this.add(s, v, 'styles')\n\n      return this\n    }\n    // Animatable x-axis\n    , x: function(x, relative) {\n      if(this.target() instanceof SVG.G){\n        this.transform({x:x}, relative)\n        return this\n      }\n\n      var num = new SVG.Number(x)\n      num.relative = relative\n      return this.add('x', num)\n    }\n    // Animatable y-axis\n    , y: function(y, relative) {\n      if(this.target() instanceof SVG.G){\n        this.transform({y:y}, relative)\n        return this\n      }\n\n      var num = new SVG.Number(y)\n      num.relative = relative\n      return this.add('y', num)\n    }\n    // Animatable center x-axis\n    , cx: function(x) {\n      return this.add('cx', new SVG.Number(x))\n    }\n    // Animatable center y-axis\n    , cy: function(y) {\n      return this.add('cy', new SVG.Number(y))\n    }\n    // Add animatable move\n    , move: function(x, y) {\n      return this.x(x).y(y)\n    }\n    // Add animatable center\n    , center: function(x, y) {\n      return this.cx(x).cy(y)\n    }\n    // Add animatable size\n    , size: function(width, height) {\n      if (this.target() instanceof SVG.Text) {\n        // animate font size for Text elements\n        this.attr('font-size', width)\n\n      } else {\n        // animate bbox based size for all other elements\n        var box\n\n        if(!width || !height){\n          box = this.target().bbox()\n        }\n\n        if(!width){\n          width = box.width / box.height  * height\n        }\n\n        if(!height){\n          height = box.height / box.width  * width\n        }\n\n        this.add('width' , new SVG.Number(width))\n          .add('height', new SVG.Number(height))\n\n      }\n\n      return this\n    }\n    // Add animatable width\n    , width: function(width) {\n      return this.add('width', new SVG.Number(width))\n    }\n    // Add animatable height\n    , height: function(height) {\n      return this.add('height', new SVG.Number(height))\n    }\n    // Add animatable plot\n    , plot: function(a, b, c, d) {\n      // Lines can be plotted with 4 arguments\n      if(arguments.length == 4) {\n        return this.plot([a, b, c, d])\n      }\n\n      return this.add('plot', new (this.target().morphArray)(a))\n    }\n    // Add leading method\n    , leading: function(value) {\n      return this.target().leading ?\n        this.add('leading', new SVG.Number(value)) :\n        this\n    }\n    // Add animatable viewbox\n    , viewbox: function(x, y, width, height) {\n      if (this.target() instanceof SVG.Container) {\n        this.add('viewbox', new SVG.ViewBox(x, y, width, height))\n      }\n\n      return this\n    }\n    , update: function(o) {\n      if (this.target() instanceof SVG.Stop) {\n        if (typeof o == 'number' || o instanceof SVG.Number) {\n          return this.update({\n            offset:  arguments[0]\n            , color:   arguments[1]\n            , opacity: arguments[2]\n          })\n        }\n\n        if (o.opacity != null) this.attr('stop-opacity', o.opacity)\n        if (o.color   != null) this.attr('stop-color', o.color)\n        if (o.offset  != null) this.attr('offset', o.offset)\n      }\n\n      return this\n    }\n  })\n\n  SVG.Box = SVG.invent({\n    create: function(x, y, width, height) {\n      if (typeof x == 'object' && !(x instanceof SVG.Element)) {\n        // chromes getBoundingClientRect has no x and y property\n        return SVG.Box.call(this, x.left != null ? x.left : x.x , x.top != null ? x.top : x.y, x.width, x.height)\n      } else if (arguments.length == 4) {\n        this.x = x\n        this.y = y\n        this.width = width\n        this.height = height\n      }\n\n      // add center, right, bottom...\n      fullBox(this)\n    }\n    , extend: {\n      // Merge rect box with another, return a new instance\n      merge: function(box) {\n        var b = new this.constructor()\n\n        // merge boxes\n        b.x      = Math.min(this.x, box.x)\n        b.y      = Math.min(this.y, box.y)\n        b.width  = Math.max(this.x + this.width,  box.x + box.width)  - b.x\n        b.height = Math.max(this.y + this.height, box.y + box.height) - b.y\n\n        return fullBox(b)\n      }\n\n      , transform: function(m) {\n        var xMin = Infinity, xMax = -Infinity, yMin = Infinity, yMax = -Infinity, p, bbox\n\n        var pts = [\n          new SVG.Point(this.x, this.y),\n          new SVG.Point(this.x2, this.y),\n          new SVG.Point(this.x, this.y2),\n          new SVG.Point(this.x2, this.y2)\n        ]\n\n        pts.forEach(function(p) {\n          p = p.transform(m)\n          xMin = Math.min(xMin,p.x)\n          xMax = Math.max(xMax,p.x)\n          yMin = Math.min(yMin,p.y)\n          yMax = Math.max(yMax,p.y)\n        })\n\n        bbox = new this.constructor()\n        bbox.x = xMin\n        bbox.width = xMax-xMin\n        bbox.y = yMin\n        bbox.height = yMax-yMin\n\n        fullBox(bbox)\n\n        return bbox\n      }\n    }\n  })\n\n  SVG.BBox = SVG.invent({\n    // Initialize\n    create: function(element) {\n      SVG.Box.apply(this, [].slice.call(arguments))\n\n      // get values if element is given\n      if (element instanceof SVG.Element) {\n        var box\n\n        // yes this is ugly, but Firefox can be a pain when it comes to elements that are not yet rendered\n        try {\n\n          if (!document.documentElement.contains){\n            // This is IE - it does not support contains() for top-level SVGs\n            var topParent = element.node\n            while (topParent.parentNode){\n              topParent = topParent.parentNode\n            }\n            if (topParent != document) throw new Exception('Element not in the dom')\n          } else {\n            // the element is NOT in the dom, throw error\n            if(!document.documentElement.contains(element.node)) throw new Exception('Element not in the dom')\n          }\n\n          // find native bbox\n          box = element.node.getBBox()\n        } catch(e) {\n          if(element instanceof SVG.Shape){\n            var clone = element.clone(SVG.parser.draw.instance).show()\n            box = clone.node.getBBox()\n            clone.remove()\n          }else{\n            box = {\n              x:      element.node.clientLeft\n              , y:      element.node.clientTop\n              , width:  element.node.clientWidth\n              , height: element.node.clientHeight\n            }\n          }\n        }\n\n        SVG.Box.call(this, box)\n      }\n\n    }\n\n    // Define ancestor\n    , inherit: SVG.Box\n\n    // Define Parent\n    , parent: SVG.Element\n\n    // Constructor\n    , construct: {\n      // Get bounding box\n      bbox: function() {\n        return new SVG.BBox(this)\n      }\n    }\n\n  })\n\n  SVG.BBox.prototype.constructor = SVG.BBox\n\n\n  SVG.extend(SVG.Element, {\n    tbox: function(){\n      console.warn('Use of TBox is deprecated and mapped to RBox. Use .rbox() instead.')\n      return this.rbox(this.doc())\n    }\n  })\n\n  SVG.RBox = SVG.invent({\n    // Initialize\n    create: function(element) {\n      SVG.Box.apply(this, [].slice.call(arguments))\n\n      if (element instanceof SVG.Element) {\n        SVG.Box.call(this, element.node.getBoundingClientRect())\n      }\n    }\n\n    , inherit: SVG.Box\n\n    // define Parent\n    , parent: SVG.Element\n\n    , extend: {\n      addOffset: function() {\n        // offset by window scroll position, because getBoundingClientRect changes when window is scrolled\n        this.x += window.pageXOffset\n        this.y += window.pageYOffset\n        return this\n      }\n    }\n\n    // Constructor\n    , construct: {\n      // Get rect box\n      rbox: function(el) {\n        if (el) return new SVG.RBox(this).transform(el.screenCTM().inverse())\n        return new SVG.RBox(this).addOffset()\n      }\n    }\n\n  })\n\n  SVG.RBox.prototype.constructor = SVG.RBox\n\n  SVG.Matrix = SVG.invent({\n    // Initialize\n    create: function(source) {\n      var i, base = arrayToMatrix([1, 0, 0, 1, 0, 0])\n\n      // ensure source as object\n      source = source instanceof SVG.Element ?\n        source.matrixify() :\n        typeof source === 'string' ?\n          arrayToMatrix(source.split(SVG.regex.delimiter).map(parseFloat)) :\n          arguments.length == 6 ?\n            arrayToMatrix([].slice.call(arguments)) :\n            Array.isArray(source) ?\n              arrayToMatrix(source) :\n              typeof source === 'object' ?\n                source : base\n\n      // merge source\n      for (i = abcdef.length - 1; i >= 0; --i)\n        this[abcdef[i]] = source[abcdef[i]] != null ?\n          source[abcdef[i]] : base[abcdef[i]]\n    }\n\n    // Add methods\n    , extend: {\n      // Extract individual transformations\n      extract: function() {\n        // find delta transform points\n        var px    = deltaTransformPoint(this, 0, 1)\n          , py    = deltaTransformPoint(this, 1, 0)\n          , skewX = 180 / Math.PI * Math.atan2(px.y, px.x) - 90\n\n        return {\n          // translation\n          x:        this.e\n          , y:        this.f\n          , transformedX:(this.e * Math.cos(skewX * Math.PI / 180) + this.f * Math.sin(skewX * Math.PI / 180)) / Math.sqrt(this.a * this.a + this.b * this.b)\n          , transformedY:(this.f * Math.cos(skewX * Math.PI / 180) + this.e * Math.sin(-skewX * Math.PI / 180)) / Math.sqrt(this.c * this.c + this.d * this.d)\n          // skew\n          , skewX:    -skewX\n          , skewY:    180 / Math.PI * Math.atan2(py.y, py.x)\n          // scale\n          , scaleX:   Math.sqrt(this.a * this.a + this.b * this.b)\n          , scaleY:   Math.sqrt(this.c * this.c + this.d * this.d)\n          // rotation\n          , rotation: skewX\n          , a: this.a\n          , b: this.b\n          , c: this.c\n          , d: this.d\n          , e: this.e\n          , f: this.f\n          , matrix: new SVG.Matrix(this)\n        }\n      }\n      // Clone matrix\n      , clone: function() {\n        return new SVG.Matrix(this)\n      }\n      // Morph one matrix into another\n      , morph: function(matrix) {\n        // store new destination\n        this.destination = new SVG.Matrix(matrix)\n\n        return this\n      }\n      // Get morphed matrix at a given position\n      , at: function(pos) {\n        // make sure a destination is defined\n        if (!this.destination) return this\n\n        // calculate morphed matrix at a given position\n        var matrix = new SVG.Matrix({\n          a: this.a + (this.destination.a - this.a) * pos\n          , b: this.b + (this.destination.b - this.b) * pos\n          , c: this.c + (this.destination.c - this.c) * pos\n          , d: this.d + (this.destination.d - this.d) * pos\n          , e: this.e + (this.destination.e - this.e) * pos\n          , f: this.f + (this.destination.f - this.f) * pos\n        })\n\n        return matrix\n      }\n      // Multiplies by given matrix\n      , multiply: function(matrix) {\n        return new SVG.Matrix(this.native().multiply(parseMatrix(matrix).native()))\n      }\n      // Inverses matrix\n      , inverse: function() {\n        return new SVG.Matrix(this.native().inverse())\n      }\n      // Translate matrix\n      , translate: function(x, y) {\n        return new SVG.Matrix(this.native().translate(x || 0, y || 0))\n      }\n      // Scale matrix\n      , scale: function(x, y, cx, cy) {\n        // support uniformal scale\n        if (arguments.length == 1) {\n          y = x\n        } else if (arguments.length == 3) {\n          cy = cx\n          cx = y\n          y = x\n        }\n\n        return this.around(cx, cy, new SVG.Matrix(x, 0, 0, y, 0, 0))\n      }\n      // Rotate matrix\n      , rotate: function(r, cx, cy) {\n        // convert degrees to radians\n        r = SVG.utils.radians(r)\n\n        return this.around(cx, cy, new SVG.Matrix(Math.cos(r), Math.sin(r), -Math.sin(r), Math.cos(r), 0, 0))\n      }\n      // Flip matrix on x or y, at a given offset\n      , flip: function(a, o) {\n        return a == 'x' ?\n          this.scale(-1, 1, o, 0) :\n          a == 'y' ?\n            this.scale(1, -1, 0, o) :\n            this.scale(-1, -1, a, o != null ? o : a)\n      }\n      // Skew\n      , skew: function(x, y, cx, cy) {\n        // support uniformal skew\n        if (arguments.length == 1) {\n          y = x\n        } else if (arguments.length == 3) {\n          cy = cx\n          cx = y\n          y = x\n        }\n\n        // convert degrees to radians\n        x = SVG.utils.radians(x)\n        y = SVG.utils.radians(y)\n\n        return this.around(cx, cy, new SVG.Matrix(1, Math.tan(y), Math.tan(x), 1, 0, 0))\n      }\n      // SkewX\n      , skewX: function(x, cx, cy) {\n        return this.skew(x, 0, cx, cy)\n      }\n      // SkewY\n      , skewY: function(y, cx, cy) {\n        return this.skew(0, y, cx, cy)\n      }\n      // Transform around a center point\n      , around: function(cx, cy, matrix) {\n        return this\n          .multiply(new SVG.Matrix(1, 0, 0, 1, cx || 0, cy || 0))\n          .multiply(matrix)\n          .multiply(new SVG.Matrix(1, 0, 0, 1, -cx || 0, -cy || 0))\n      }\n      // Convert to native SVGMatrix\n      , native: function() {\n        // create new matrix\n        var matrix = SVG.parser.native.createSVGMatrix()\n\n        // update with current values\n        for (var i = abcdef.length - 1; i >= 0; i--)\n          matrix[abcdef[i]] = this[abcdef[i]]\n\n        return matrix\n      }\n      // Convert matrix to string\n      , toString: function() {\n        // Construct the matrix directly, avoid values that are too small\n        return 'matrix(' + float32String(this.a) + ',' + float32String(this.b)\n          + ',' + float32String(this.c) + ',' + float32String(this.d)\n          + ',' + float32String(this.e) + ',' + float32String(this.f)\n          + ')'\n      }\n    }\n\n    // Define parent\n    , parent: SVG.Element\n\n    // Add parent method\n    , construct: {\n      // Get current matrix\n      ctm: function() {\n        return new SVG.Matrix(this.node.getCTM())\n      },\n      // Get current screen matrix\n      screenCTM: function() {\n        /* https://bugzilla.mozilla.org/show_bug.cgi?id=1344537\n         This is needed because FF does not return the transformation matrix\n         for the inner coordinate system when getScreenCTM() is called on nested svgs.\n         However all other Browsers do that */\n        if(this instanceof SVG.Nested) {\n          var rect = this.rect(1,1)\n          var m = rect.node.getScreenCTM()\n          rect.remove()\n          return new SVG.Matrix(m)\n        }\n        return new SVG.Matrix(this.node.getScreenCTM())\n      }\n\n    }\n\n  })\n\n  SVG.Point = SVG.invent({\n    // Initialize\n    create: function(x,y) {\n      var i, source, base = {x:0, y:0}\n\n      // ensure source as object\n      source = Array.isArray(x) ?\n        {x:x[0], y:x[1]} :\n        typeof x === 'object' ?\n          {x:x.x, y:x.y} :\n          x != null ?\n            {x:x, y:(y != null ? y : x)} : base // If y has no value, then x is used has its value\n\n      // merge source\n      this.x = source.x\n      this.y = source.y\n    }\n\n    // Add methods\n    , extend: {\n      // Clone point\n      clone: function() {\n        return new SVG.Point(this)\n      }\n      // Morph one point into another\n      , morph: function(x, y) {\n        // store new destination\n        this.destination = new SVG.Point(x, y)\n\n        return this\n      }\n      // Get morphed point at a given position\n      , at: function(pos) {\n        // make sure a destination is defined\n        if (!this.destination) return this\n\n        // calculate morphed matrix at a given position\n        var point = new SVG.Point({\n          x: this.x + (this.destination.x - this.x) * pos\n          , y: this.y + (this.destination.y - this.y) * pos\n        })\n\n        return point\n      }\n      // Convert to native SVGPoint\n      , native: function() {\n        // create new point\n        var point = SVG.parser.native.createSVGPoint()\n\n        // update with current values\n        point.x = this.x\n        point.y = this.y\n\n        return point\n      }\n      // transform point with matrix\n      , transform: function(matrix) {\n        return new SVG.Point(this.native().matrixTransform(matrix.native()))\n      }\n\n    }\n\n  })\n\n  SVG.extend(SVG.Element, {\n\n    // Get point\n    point: function(x, y) {\n      return new SVG.Point(x,y).transform(this.screenCTM().inverse());\n    }\n\n  })\n\n  SVG.extend(SVG.Element, {\n    // Set svg element attribute\n    attr: function(a, v, n) {\n      // act as full getter\n      if (a == null) {\n        // get an object of attributes\n        a = {}\n        v = this.node.attributes\n        for (n = v.length - 1; n >= 0; n--)\n          a[v[n].nodeName] = SVG.regex.isNumber.test(v[n].nodeValue) ? parseFloat(v[n].nodeValue) : v[n].nodeValue\n\n        return a\n\n      } else if (typeof a == 'object') {\n        // apply every attribute individually if an object is passed\n        for (v in a) this.attr(v, a[v])\n\n      } else if (v === null) {\n        // remove value\n        this.node.removeAttribute(a)\n\n      } else if (v == null) {\n        // act as a getter if the first and only argument is not an object\n        v = this.node.getAttribute(a)\n        return v == null ?\n          SVG.defaults.attrs[a] :\n          SVG.regex.isNumber.test(v) ?\n            parseFloat(v) : v\n\n      } else {\n        // BUG FIX: some browsers will render a stroke if a color is given even though stroke width is 0\n        if (a == 'stroke-width')\n          this.attr('stroke', parseFloat(v) > 0 ? this._stroke : null)\n        else if (a == 'stroke')\n          this._stroke = v\n\n        // convert image fill and stroke to patterns\n        if (a == 'fill' || a == 'stroke') {\n          if (SVG.regex.isImage.test(v))\n            v = this.doc().defs().image(v, 0, 0)\n\n          if (v instanceof SVG.Image)\n            v = this.doc().defs().pattern(0, 0, function() {\n              this.add(v)\n            })\n        }\n\n        // ensure correct numeric values (also accepts NaN and Infinity)\n        if (typeof v === 'number')\n          v = new SVG.Number(v)\n\n        // ensure full hex color\n        else if (SVG.Color.isColor(v))\n          v = new SVG.Color(v)\n\n        // parse array values\n        else if (Array.isArray(v))\n          v = new SVG.Array(v)\n\n        // if the passed attribute is leading...\n        if (a == 'leading') {\n          // ... call the leading method instead\n          if (this.leading)\n            this.leading(v)\n        } else {\n          // set given attribute on node\n          typeof n === 'string' ?\n            this.node.setAttributeNS(n, a, v.toString()) :\n            this.node.setAttribute(a, v.toString())\n        }\n\n        // rebuild if required\n        if (this.rebuild && (a == 'font-size' || a == 'x'))\n          this.rebuild(a, v)\n      }\n\n      return this\n    }\n  })\n  SVG.extend(SVG.Element, {\n    // Add transformations\n    transform: function(o, relative) {\n      // get target in case of the fx module, otherwise reference this\n      var target = this\n        , matrix, bbox\n\n      // act as a getter\n      if (typeof o !== 'object') {\n        // get current matrix\n        matrix = new SVG.Matrix(target).extract()\n\n        return typeof o === 'string' ? matrix[o] : matrix\n      }\n\n      // get current matrix\n      matrix = new SVG.Matrix(target)\n\n      // ensure relative flag\n      relative = !!relative || !!o.relative\n\n      // act on matrix\n      if (o.a != null) {\n        matrix = relative ?\n          // relative\n          matrix.multiply(new SVG.Matrix(o)) :\n          // absolute\n          new SVG.Matrix(o)\n\n        // act on rotation\n      } else if (o.rotation != null) {\n        // ensure centre point\n        ensureCentre(o, target)\n\n        // apply transformation\n        matrix = relative ?\n          // relative\n          matrix.rotate(o.rotation, o.cx, o.cy) :\n          // absolute\n          matrix.rotate(o.rotation - matrix.extract().rotation, o.cx, o.cy)\n\n        // act on scale\n      } else if (o.scale != null || o.scaleX != null || o.scaleY != null) {\n        // ensure centre point\n        ensureCentre(o, target)\n\n        // ensure scale values on both axes\n        o.scaleX = o.scale != null ? o.scale : o.scaleX != null ? o.scaleX : 1\n        o.scaleY = o.scale != null ? o.scale : o.scaleY != null ? o.scaleY : 1\n\n        if (!relative) {\n          // absolute; multiply inversed values\n          var e = matrix.extract()\n          o.scaleX = o.scaleX * 1 / e.scaleX\n          o.scaleY = o.scaleY * 1 / e.scaleY\n        }\n\n        matrix = matrix.scale(o.scaleX, o.scaleY, o.cx, o.cy)\n\n        // act on skew\n      } else if (o.skew != null || o.skewX != null || o.skewY != null) {\n        // ensure centre point\n        ensureCentre(o, target)\n\n        // ensure skew values on both axes\n        o.skewX = o.skew != null ? o.skew : o.skewX != null ? o.skewX : 0\n        o.skewY = o.skew != null ? o.skew : o.skewY != null ? o.skewY : 0\n\n        if (!relative) {\n          // absolute; reset skew values\n          var e = matrix.extract()\n          matrix = matrix.multiply(new SVG.Matrix().skew(e.skewX, e.skewY, o.cx, o.cy).inverse())\n        }\n\n        matrix = matrix.skew(o.skewX, o.skewY, o.cx, o.cy)\n\n        // act on flip\n      } else if (o.flip) {\n        if(o.flip == 'x' || o.flip == 'y') {\n          o.offset = o.offset == null ? target.bbox()['c' + o.flip] : o.offset\n        } else {\n          if(o.offset == null) {\n            bbox = target.bbox()\n            o.flip = bbox.cx\n            o.offset = bbox.cy\n          } else {\n            o.flip = o.offset\n          }\n        }\n\n        matrix = new SVG.Matrix().flip(o.flip, o.offset)\n\n        // act on translate\n      } else if (o.x != null || o.y != null) {\n        if (relative) {\n          // relative\n          matrix = matrix.translate(o.x, o.y)\n        } else {\n          // absolute\n          if (o.x != null) matrix.e = o.x\n          if (o.y != null) matrix.f = o.y\n        }\n      }\n\n      return this.attr('transform', matrix)\n    }\n  })\n\n  SVG.extend(SVG.FX, {\n    transform: function(o, relative) {\n      // get target in case of the fx module, otherwise reference this\n      var target = this.target()\n        , matrix, bbox\n\n      // act as a getter\n      if (typeof o !== 'object') {\n        // get current matrix\n        matrix = new SVG.Matrix(target).extract()\n\n        return typeof o === 'string' ? matrix[o] : matrix\n      }\n\n      // ensure relative flag\n      relative = !!relative || !!o.relative\n\n      // act on matrix\n      if (o.a != null) {\n        matrix = new SVG.Matrix(o)\n\n        // act on rotation\n      } else if (o.rotation != null) {\n        // ensure centre point\n        ensureCentre(o, target)\n\n        // apply transformation\n        matrix = new SVG.Rotate(o.rotation, o.cx, o.cy)\n\n        // act on scale\n      } else if (o.scale != null || o.scaleX != null || o.scaleY != null) {\n        // ensure centre point\n        ensureCentre(o, target)\n\n        // ensure scale values on both axes\n        o.scaleX = o.scale != null ? o.scale : o.scaleX != null ? o.scaleX : 1\n        o.scaleY = o.scale != null ? o.scale : o.scaleY != null ? o.scaleY : 1\n\n        matrix = new SVG.Scale(o.scaleX, o.scaleY, o.cx, o.cy)\n\n        // act on skew\n      } else if (o.skewX != null || o.skewY != null) {\n        // ensure centre point\n        ensureCentre(o, target)\n\n        // ensure skew values on both axes\n        o.skewX = o.skewX != null ? o.skewX : 0\n        o.skewY = o.skewY != null ? o.skewY : 0\n\n        matrix = new SVG.Skew(o.skewX, o.skewY, o.cx, o.cy)\n\n        // act on flip\n      } else if (o.flip) {\n        if(o.flip == 'x' || o.flip == 'y') {\n          o.offset = o.offset == null ? target.bbox()['c' + o.flip] : o.offset\n        } else {\n          if(o.offset == null) {\n            bbox = target.bbox()\n            o.flip = bbox.cx\n            o.offset = bbox.cy\n          } else {\n            o.flip = o.offset\n          }\n        }\n\n        matrix = new SVG.Matrix().flip(o.flip, o.offset)\n\n        // act on translate\n      } else if (o.x != null || o.y != null) {\n        matrix = new SVG.Translate(o.x, o.y)\n      }\n\n      if(!matrix) return this\n\n      matrix.relative = relative\n\n      this.last().transforms.push(matrix)\n\n      return this._callStart()\n    }\n  })\n\n  SVG.extend(SVG.Element, {\n    // Reset all transformations\n    untransform: function() {\n      return this.attr('transform', null)\n    },\n    // merge the whole transformation chain into one matrix and returns it\n    matrixify: function() {\n\n      var matrix = (this.attr('transform') || '')\n      // split transformations\n        .split(SVG.regex.transforms).slice(0,-1).map(function(str){\n          // generate key => value pairs\n          var kv = str.trim().split('(')\n          return [kv[0], kv[1].split(SVG.regex.delimiter).map(function(str){ return parseFloat(str) })]\n        })\n        // merge every transformation into one matrix\n        .reduce(function(matrix, transform){\n\n          if(transform[0] == 'matrix') return matrix.multiply(arrayToMatrix(transform[1]))\n          return matrix[transform[0]].apply(matrix, transform[1])\n\n        }, new SVG.Matrix())\n\n      return matrix\n    },\n    // add an element to another parent without changing the visual representation on the screen\n    toParent: function(parent) {\n      if(this == parent) return this\n      var ctm = this.screenCTM()\n      var pCtm = parent.screenCTM().inverse()\n\n      this.addTo(parent).untransform().transform(pCtm.multiply(ctm))\n\n      return this\n    },\n    // same as above with parent equals root-svg\n    toDoc: function() {\n      return this.toParent(this.doc())\n    }\n\n  })\n\n  SVG.Transformation = SVG.invent({\n\n    create: function(source, inversed){\n\n      if(arguments.length > 1 && typeof inversed != 'boolean'){\n        return this.constructor.call(this, [].slice.call(arguments))\n      }\n\n      if(Array.isArray(source)){\n        for(var i = 0, len = this.arguments.length; i < len; ++i){\n          this[this.arguments[i]] = source[i]\n        }\n      } else if(typeof source == 'object'){\n        for(var i = 0, len = this.arguments.length; i < len; ++i){\n          this[this.arguments[i]] = source[this.arguments[i]]\n        }\n      }\n\n      this.inversed = false\n\n      if(inversed === true){\n        this.inversed = true\n      }\n\n    }\n\n    , extend: {\n\n      arguments: []\n      , method: ''\n\n      , at: function(pos){\n\n        var params = []\n\n        for(var i = 0, len = this.arguments.length; i < len; ++i){\n          params.push(this[this.arguments[i]])\n        }\n\n        var m = this._undo || new SVG.Matrix()\n\n        m = new SVG.Matrix().morph(SVG.Matrix.prototype[this.method].apply(m, params)).at(pos)\n\n        return this.inversed ? m.inverse() : m\n\n      }\n\n      , undo: function(o){\n        for(var i = 0, len = this.arguments.length; i < len; ++i){\n          o[this.arguments[i]] = typeof this[this.arguments[i]] == 'undefined' ? 0 : o[this.arguments[i]]\n        }\n\n        // The method SVG.Matrix.extract which was used before calling this\n        // method to obtain a value for the parameter o doesn't return a cx and\n        // a cy so we use the ones that were provided to this object at its creation\n        o.cx = this.cx\n        o.cy = this.cy\n\n        this._undo = new SVG[capitalize(this.method)](o, true).at(1)\n\n        return this\n      }\n\n    }\n\n  })\n\n  SVG.Translate = SVG.invent({\n\n    parent: SVG.Matrix\n    , inherit: SVG.Transformation\n\n    , create: function(source, inversed){\n      this.constructor.apply(this, [].slice.call(arguments))\n    }\n\n    , extend: {\n      arguments: ['transformedX', 'transformedY']\n      , method: 'translate'\n    }\n\n  })\n\n  SVG.Rotate = SVG.invent({\n\n    parent: SVG.Matrix\n    , inherit: SVG.Transformation\n\n    , create: function(source, inversed){\n      this.constructor.apply(this, [].slice.call(arguments))\n    }\n\n    , extend: {\n      arguments: ['rotation', 'cx', 'cy']\n      , method: 'rotate'\n      , at: function(pos){\n        var m = new SVG.Matrix().rotate(new SVG.Number().morph(this.rotation - (this._undo ? this._undo.rotation : 0)).at(pos), this.cx, this.cy)\n        return this.inversed ? m.inverse() : m\n      }\n      , undo: function(o){\n        this._undo = o\n        return this\n      }\n    }\n\n  })\n\n  SVG.Scale = SVG.invent({\n\n    parent: SVG.Matrix\n    , inherit: SVG.Transformation\n\n    , create: function(source, inversed){\n      this.constructor.apply(this, [].slice.call(arguments))\n    }\n\n    , extend: {\n      arguments: ['scaleX', 'scaleY', 'cx', 'cy']\n      , method: 'scale'\n    }\n\n  })\n\n  SVG.Skew = SVG.invent({\n\n    parent: SVG.Matrix\n    , inherit: SVG.Transformation\n\n    , create: function(source, inversed){\n      this.constructor.apply(this, [].slice.call(arguments))\n    }\n\n    , extend: {\n      arguments: ['skewX', 'skewY', 'cx', 'cy']\n      , method: 'skew'\n    }\n\n  })\n\n  SVG.extend(SVG.Element, {\n    // Dynamic style generator\n    style: function(s, v) {\n      if (arguments.length == 0) {\n        // get full style\n        return this.node.style.cssText || ''\n\n      } else if (arguments.length < 2) {\n        // apply every style individually if an object is passed\n        if (typeof s == 'object') {\n          for (v in s) this.style(v, s[v])\n\n        } else if (SVG.regex.isCss.test(s)) {\n          // parse css string\n          s = s.split(/\\s*;\\s*/)\n          // filter out suffix ; and stuff like ;;\n            .filter(function(e) { return !!e })\n            .map(function(e){ return e.split(/\\s*:\\s*/) })\n\n          // apply every definition individually\n          while (v = s.pop()) {\n            this.style(v[0], v[1])\n          }\n        } else {\n          // act as a getter if the first and only argument is not an object\n          return this.node.style[camelCase(s)]\n        }\n\n      } else {\n        this.node.style[camelCase(s)] = v === null || SVG.regex.isBlank.test(v) ? '' : v\n      }\n\n      return this\n    }\n  })\n  SVG.Parent = SVG.invent({\n    // Initialize node\n    create: function(element) {\n      this.constructor.call(this, element)\n    }\n\n    // Inherit from\n    , inherit: SVG.Element\n\n    // Add class methods\n    , extend: {\n      // Returns all child elements\n      children: function() {\n        return SVG.utils.map(SVG.utils.filterSVGElements(this.node.childNodes), function(node) {\n          return SVG.adopt(node)\n        })\n      }\n      // Add given element at a position\n      , add: function(element, i) {\n        if (i == null)\n          this.node.appendChild(element.node)\n        else if (element.node != this.node.childNodes[i])\n          this.node.insertBefore(element.node, this.node.childNodes[i])\n\n        return this\n      }\n      // Basically does the same as `add()` but returns the added element instead\n      , put: function(element, i) {\n        this.add(element, i)\n        return element\n      }\n      // Checks if the given element is a child\n      , has: function(element) {\n        return this.index(element) >= 0\n      }\n      // Gets index of given element\n      , index: function(element) {\n        return [].slice.call(this.node.childNodes).indexOf(element.node)\n      }\n      // Get a element at the given index\n      , get: function(i) {\n        return SVG.adopt(this.node.childNodes[i])\n      }\n      // Get first child\n      , first: function() {\n        return this.get(0)\n      }\n      // Get the last child\n      , last: function() {\n        return this.get(this.node.childNodes.length - 1)\n      }\n      // Iterates over all children and invokes a given block\n      , each: function(block, deep) {\n        var i, il\n          , children = this.children()\n\n        for (i = 0, il = children.length; i < il; i++) {\n          if (children[i] instanceof SVG.Element)\n            block.apply(children[i], [i, children])\n\n          if (deep && (children[i] instanceof SVG.Container))\n            children[i].each(block, deep)\n        }\n\n        return this\n      }\n      // Remove a given child\n      , removeElement: function(element) {\n        this.node.removeChild(element.node)\n\n        return this\n      }\n      // Remove all elements in this container\n      , clear: function() {\n        // remove children\n        while(this.node.hasChildNodes())\n          this.node.removeChild(this.node.lastChild)\n\n        // remove defs reference\n        delete this._defs\n\n        return this\n      }\n      , // Get defs\n      defs: function() {\n        return this.doc().defs()\n      }\n    }\n\n  })\n\n  SVG.extend(SVG.Parent, {\n\n    ungroup: function(parent, depth) {\n      if(depth === 0 || this instanceof SVG.Defs || this.node == SVG.parser.draw) return this\n\n      parent = parent || (this instanceof SVG.Doc ? this : this.parent(SVG.Parent))\n      depth = depth || Infinity\n\n      this.each(function(){\n        if(this instanceof SVG.Defs) return this\n        if(this instanceof SVG.Parent) return this.ungroup(parent, depth-1)\n        return this.toParent(parent)\n      })\n\n      this.node.firstChild || this.remove()\n\n      return this\n    },\n\n    flatten: function(parent, depth) {\n      return this.ungroup(parent, depth)\n    }\n\n  })\n  SVG.Container = SVG.invent({\n    // Initialize node\n    create: function(element) {\n      this.constructor.call(this, element)\n    }\n\n    // Inherit from\n    , inherit: SVG.Parent\n\n  })\n\n  SVG.ViewBox = SVG.invent({\n\n    create: function(source) {\n      var i, base = [0, 0, 0, 0]\n\n      var x, y, width, height, box, view, we, he\n        , wm   = 1 // width multiplier\n        , hm   = 1 // height multiplier\n        , reg  = /[+-]?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:e[+-]?\\d+)?/gi\n\n      if(source instanceof SVG.Element){\n\n        we = source\n        he = source\n        view = (source.attr('viewBox') || '').match(reg)\n        box = source.bbox\n\n        // get dimensions of current node\n        width  = new SVG.Number(source.width())\n        height = new SVG.Number(source.height())\n\n        // find nearest non-percentual dimensions\n        while (width.unit == '%') {\n          wm *= width.value\n          width = new SVG.Number(we instanceof SVG.Doc ? we.parent().offsetWidth : we.parent().width())\n          we = we.parent()\n        }\n        while (height.unit == '%') {\n          hm *= height.value\n          height = new SVG.Number(he instanceof SVG.Doc ? he.parent().offsetHeight : he.parent().height())\n          he = he.parent()\n        }\n\n        // ensure defaults\n        this.x      = 0\n        this.y      = 0\n        this.width  = width  * wm\n        this.height = height * hm\n        this.zoom   = 1\n\n        if (view) {\n          // get width and height from viewbox\n          x      = parseFloat(view[0])\n          y      = parseFloat(view[1])\n          width  = parseFloat(view[2])\n          height = parseFloat(view[3])\n\n          // calculate zoom accoring to viewbox\n          this.zoom = ((this.width / this.height) > (width / height)) ?\n            this.height / height :\n            this.width  / width\n\n          // calculate real pixel dimensions on parent SVG.Doc element\n          this.x      = x\n          this.y      = y\n          this.width  = width\n          this.height = height\n\n        }\n\n      }else{\n\n        // ensure source as object\n        source = typeof source === 'string' ?\n          source.match(reg).map(function(el){ return parseFloat(el) }) :\n          Array.isArray(source) ?\n            source :\n            typeof source == 'object' ?\n              [source.x, source.y, source.width, source.height] :\n              arguments.length == 4 ?\n                [].slice.call(arguments) :\n                base\n\n        this.x = source[0]\n        this.y = source[1]\n        this.width = source[2]\n        this.height = source[3]\n      }\n\n\n    }\n\n    , extend: {\n\n      toString: function() {\n        return this.x + ' ' + this.y + ' ' + this.width + ' ' + this.height\n      }\n      , morph: function(x, y, width, height){\n        this.destination = new SVG.ViewBox(x, y, width, height)\n        return this\n      }\n\n      , at: function(pos) {\n\n        if(!this.destination) return this\n\n        return new SVG.ViewBox([\n          this.x + (this.destination.x - this.x) * pos\n          , this.y + (this.destination.y - this.y) * pos\n          , this.width + (this.destination.width - this.width) * pos\n          , this.height + (this.destination.height - this.height) * pos\n        ])\n\n      }\n\n    }\n\n    // Define parent\n    , parent: SVG.Container\n\n    // Add parent method\n    , construct: {\n\n      // get/set viewbox\n      viewbox: function(x, y, width, height) {\n        if (arguments.length == 0)\n        // act as a getter if there are no arguments\n          return new SVG.ViewBox(this)\n\n        // otherwise act as a setter\n        return this.attr('viewBox', new SVG.ViewBox(x, y, width, height))\n      }\n\n    }\n\n  })\n// Add events to elements\n\n  ;[ 'click',\n    'dblclick',\n    'mousedown',\n    'mouseup',\n    'mouseover',\n    'mouseout',\n    'mousemove',\n    'mouseenter',\n    'mouseleave',\n    'touchstart',\n    'touchmove',\n    'touchleave',\n    'touchend',\n    'touchcancel' ].forEach(function (event) {\n    // add event to SVG.Element\n    SVG.Element.prototype[event] = function (f) {\n      // bind event to element rather than element node\n      if (f == null) {\n        SVG.off(this, event)\n      } else {\n        SVG.on(this, event, f)\n      }\n      return this\n    }\n  })\n\n  SVG.listenerId = 0\n\n// Add event binder in the SVG namespace\n  SVG.on = function (node, events, listener, binding, options) {\n    var l = listener.bind(binding || node)\n    var n = node instanceof SVG.Element ? node.node : node\n\n    // ensure instance object for nodes which are not adopted\n    n.instance = n.instance || {_events: {}}\n\n    var bag = n.instance._events\n\n    // add id to listener\n    if (!listener._svgjsListenerId) { listener._svgjsListenerId = ++SVG.listenerId }\n\n    events.split(SVG.regex.delimiter).forEach(function (event) {\n      var ev = event.split('.')[0]\n      var ns = event.split('.')[1] || '*'\n\n      // ensure valid object\n      bag[ev] = bag[ev] || {}\n      bag[ev][ns] = bag[ev][ns] || {}\n\n      // reference listener\n      bag[ev][ns][listener._svgjsListenerId] = l\n\n      // add listener\n      n.addEventListener(ev, l, options || false)\n    })\n  }\n\n// Add event unbinder in the SVG namespace\n  SVG.off = function (node, events, listener, options) {\n    var n = node instanceof SVG.Element ? node.node : node\n    if (!n.instance) return\n\n    // listener can be a function or a number\n    if (typeof listener === 'function') {\n      listener = listener._svgjsListenerId\n      if (!listener) return\n    }\n\n    var bag = n.instance._events\n\n    ;(events || '').split(SVG.regex.delimiter).forEach(function (event) {\n      var ev = event && event.split('.')[0]\n      var ns = event && event.split('.')[1]\n      var namespace, l\n\n      if (listener) {\n        // remove listener reference\n        if (bag[ev] && bag[ev][ns || '*']) {\n          // removeListener\n          n.removeEventListener(ev, bag[ev][ns || '*'][listener], options || false)\n\n          delete bag[ev][ns || '*'][listener]\n        }\n      } else if (ev && ns) {\n        // remove all listeners for a namespaced event\n        if (bag[ev] && bag[ev][ns]) {\n          for (l in bag[ev][ns]) { SVG.off(n, [ev, ns].join('.'), l) }\n\n          delete bag[ev][ns]\n        }\n      } else if (ns) {\n        // remove all listeners for a specific namespace\n        for (event in bag) {\n          for (namespace in bag[event]) {\n            if (ns === namespace) { SVG.off(n, [event, ns].join('.')) }\n          }\n        }\n      } else if (ev) {\n        // remove all listeners for the event\n        if (bag[ev]) {\n          for (namespace in bag[ev]) { SVG.off(n, [ev, namespace].join('.')) }\n\n          delete bag[ev]\n        }\n      } else {\n        // remove all listeners on a given node\n        for (event in bag) { SVG.off(n, event) }\n\n        n.instance._events = {}\n      }\n    })\n  }\n\n  SVG.extend(SVG.Element, {\n    // Bind given event to listener\n    on: function (event, listener, binding, options) {\n      SVG.on(this, event, listener, binding, options)\n      return this\n    },\n    // Unbind event from listener\n    off: function (event, listener) {\n      SVG.off(this.node, event, listener)\n      return this\n    },\n    fire: function (event, data) {\n      // Dispatch event\n      if (event instanceof window.Event) {\n        this.node.dispatchEvent(event)\n      } else {\n        this.node.dispatchEvent(event = new SVG.CustomEvent(event, {detail: data, cancelable: true}))\n      }\n      this._event = event\n      return this\n    },\n    event: function() {\n      return this._event\n    }\n  })\n\n\n  SVG.Defs = SVG.invent({\n    // Initialize node\n    create: 'defs'\n\n    // Inherit from\n    , inherit: SVG.Container\n\n  })\n  SVG.G = SVG.invent({\n    // Initialize node\n    create: 'g'\n\n    // Inherit from\n    , inherit: SVG.Container\n\n    // Add class methods\n    , extend: {\n      // Move over x-axis\n      x: function(x) {\n        return x == null ? this.transform('x') : this.transform({ x: x - this.x() }, true)\n      }\n      // Move over y-axis\n      , y: function(y) {\n        return y == null ? this.transform('y') : this.transform({ y: y - this.y() }, true)\n      }\n      // Move by center over x-axis\n      , cx: function(x) {\n        return x == null ? this.gbox().cx : this.x(x - this.gbox().width / 2)\n      }\n      // Move by center over y-axis\n      , cy: function(y) {\n        return y == null ? this.gbox().cy : this.y(y - this.gbox().height / 2)\n      }\n      , gbox: function() {\n\n        var bbox  = this.bbox()\n          , trans = this.transform()\n\n        bbox.x  += trans.x\n        bbox.x2 += trans.x\n        bbox.cx += trans.x\n\n        bbox.y  += trans.y\n        bbox.y2 += trans.y\n        bbox.cy += trans.y\n\n        return bbox\n      }\n    }\n\n    // Add parent method\n    , construct: {\n      // Create a group element\n      group: function() {\n        return this.put(new SVG.G)\n      }\n    }\n  })\n\n  SVG.Doc = SVG.invent({\n    // Initialize node\n    create: function(element) {\n      if (element) {\n        // ensure the presence of a dom element\n        element = typeof element == 'string' ?\n          document.getElementById(element) :\n          element\n\n        // If the target is an svg element, use that element as the main wrapper.\n        // This allows svg.js to work with svg documents as well.\n        if (element.nodeName == 'svg') {\n          this.constructor.call(this, element)\n        } else {\n          this.constructor.call(this, SVG.create('svg'))\n          element.appendChild(this.node)\n          this.size('100%', '100%')\n        }\n\n        // set svg element attributes and ensure defs node\n        this.namespace().defs()\n      }\n    }\n\n    // Inherit from\n    , inherit: SVG.Container\n\n    // Add class methods\n    , extend: {\n      // Add namespaces\n      namespace: function() {\n        return this\n          .attr({ xmlns: SVG.ns, version: '1.1' })\n          .attr('xmlns:xlink', SVG.xlink, SVG.xmlns)\n          .attr('xmlns:svgjs', SVG.svgjs, SVG.xmlns)\n      }\n      // Creates and returns defs element\n      , defs: function() {\n        if (!this._defs) {\n          var defs\n\n          // Find or create a defs element in this instance\n          if (defs = this.node.getElementsByTagName('defs')[0])\n            this._defs = SVG.adopt(defs)\n          else\n            this._defs = new SVG.Defs\n\n          // Make sure the defs node is at the end of the stack\n          this.node.appendChild(this._defs.node)\n        }\n\n        return this._defs\n      }\n      // custom parent method\n      , parent: function() {\n        if(!this.node.parentNode || this.node.parentNode.nodeName == '#document' || this.node.parentNode.nodeName == '#document-fragment') return null\n        return this.node.parentNode\n      }\n      // Fix for possible sub-pixel offset. See:\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=608812\n      , spof: function() {\n        var pos = this.node.getScreenCTM()\n\n        if (pos)\n          this\n            .style('left', (-pos.e % 1) + 'px')\n            .style('top',  (-pos.f % 1) + 'px')\n\n        return this\n      }\n\n      // Removes the doc from the DOM\n      , remove: function() {\n        if(this.parent()) {\n          this.parent().removeChild(this.node)\n        }\n\n        return this\n      }\n      , clear: function() {\n        // remove children\n        while(this.node.hasChildNodes())\n          this.node.removeChild(this.node.lastChild)\n\n        // remove defs reference\n        delete this._defs\n\n        // add back parser\n        if(!SVG.parser.draw.parentNode)\n          this.node.appendChild(SVG.parser.draw)\n\n        return this\n      }\n      , clone: function (parent) {\n        // write dom data to the dom so the clone can pickup the data\n        this.writeDataToDom()\n\n        // get reference to node\n        var node = this.node\n\n        // clone element and assign new id\n        var clone = assignNewId(node.cloneNode(true))\n\n        // insert the clone in the given parent or after myself\n        if(parent) {\n          (parent.node || parent).appendChild(clone.node)\n        } else {\n          node.parentNode.insertBefore(clone.node, node.nextSibling)\n        }\n\n        return clone\n      }\n    }\n\n  })\n\n// ### This module adds backward / forward functionality to elements.\n\n//\n  SVG.extend(SVG.Element, {\n    // Get all siblings, including myself\n    siblings: function() {\n      return this.parent().children()\n    }\n    // Get the curent position siblings\n    , position: function() {\n      return this.parent().index(this)\n    }\n    // Get the next element (will return null if there is none)\n    , next: function() {\n      return this.siblings()[this.position() + 1]\n    }\n    // Get the next element (will return null if there is none)\n    , previous: function() {\n      return this.siblings()[this.position() - 1]\n    }\n    // Send given element one step forward\n    , forward: function() {\n      var i = this.position() + 1\n        , p = this.parent()\n\n      // move node one step forward\n      p.removeElement(this).add(this, i)\n\n      // make sure defs node is always at the top\n      if (p instanceof SVG.Doc)\n        p.node.appendChild(p.defs().node)\n\n      return this\n    }\n    // Send given element one step backward\n    , backward: function() {\n      var i = this.position()\n\n      if (i > 0)\n        this.parent().removeElement(this).add(this, i - 1)\n\n      return this\n    }\n    // Send given element all the way to the front\n    , front: function() {\n      var p = this.parent()\n\n      // Move node forward\n      p.node.appendChild(this.node)\n\n      // Make sure defs node is always at the top\n      if (p instanceof SVG.Doc)\n        p.node.appendChild(p.defs().node)\n\n      return this\n    }\n    // Send given element all the way to the back\n    , back: function() {\n      if (this.position() > 0)\n        this.parent().removeElement(this).add(this, 0)\n\n      return this\n    }\n    // Inserts a given element before the targeted element\n    , before: function(element) {\n      element.remove()\n\n      var i = this.position()\n\n      this.parent().add(element, i)\n\n      return this\n    }\n    // Insters a given element after the targeted element\n    , after: function(element) {\n      element.remove()\n\n      var i = this.position()\n\n      this.parent().add(element, i + 1)\n\n      return this\n    }\n\n  })\n  SVG.Mask = SVG.invent({\n    // Initialize node\n    create: function() {\n      this.constructor.call(this, SVG.create('mask'))\n\n      // keep references to masked elements\n      this.targets = []\n    }\n\n    // Inherit from\n    , inherit: SVG.Container\n\n    // Add class methods\n    , extend: {\n      // Unmask all masked elements and remove itself\n      remove: function() {\n        // unmask all targets\n        for (var i = this.targets.length - 1; i >= 0; i--)\n          if (this.targets[i])\n            this.targets[i].unmask()\n        this.targets = []\n\n        // remove mask from parent\n        SVG.Element.prototype.remove.call(this)\n\n        return this\n      }\n    }\n\n    // Add parent method\n    , construct: {\n      // Create masking element\n      mask: function() {\n        return this.defs().put(new SVG.Mask)\n      }\n    }\n  })\n\n\n  SVG.extend(SVG.Element, {\n    // Distribute mask to svg element\n    maskWith: function(element) {\n      // use given mask or create a new one\n      this.masker = element instanceof SVG.Mask ? element : this.parent().mask().add(element)\n\n      // store reverence on self in mask\n      this.masker.targets.push(this)\n\n      // apply mask\n      return this.attr('mask', 'url(\"#' + this.masker.attr('id') + '\")')\n    }\n    // Unmask element\n    , unmask: function() {\n      delete this.masker\n      return this.attr('mask', null)\n    }\n\n  })\n\n  SVG.ClipPath = SVG.invent({\n    // Initialize node\n    create: function() {\n      this.constructor.call(this, SVG.create('clipPath'))\n\n      // keep references to clipped elements\n      this.targets = []\n    }\n\n    // Inherit from\n    , inherit: SVG.Container\n\n    // Add class methods\n    , extend: {\n      // Unclip all clipped elements and remove itself\n      remove: function() {\n        // unclip all targets\n        for (var i = this.targets.length - 1; i >= 0; i--)\n          if (this.targets[i])\n            this.targets[i].unclip()\n        this.targets = []\n\n        // remove clipPath from parent\n        this.parent().removeElement(this)\n\n        return this\n      }\n    }\n\n    // Add parent method\n    , construct: {\n      // Create clipping element\n      clip: function() {\n        return this.defs().put(new SVG.ClipPath)\n      }\n    }\n  })\n\n//\n  SVG.extend(SVG.Element, {\n    // Distribute clipPath to svg element\n    clipWith: function(element) {\n      // use given clip or create a new one\n      this.clipper = element instanceof SVG.ClipPath ? element : this.parent().clip().add(element)\n\n      // store reverence on self in mask\n      this.clipper.targets.push(this)\n\n      // apply mask\n      return this.attr('clip-path', 'url(\"#' + this.clipper.attr('id') + '\")')\n    }\n    // Unclip element\n    , unclip: function() {\n      delete this.clipper\n      return this.attr('clip-path', null)\n    }\n\n  })\n  SVG.Gradient = SVG.invent({\n    // Initialize node\n    create: function(type) {\n      this.constructor.call(this, SVG.create(type + 'Gradient'))\n\n      // store type\n      this.type = type\n    }\n\n    // Inherit from\n    , inherit: SVG.Container\n\n    // Add class methods\n    , extend: {\n      // Add a color stop\n      at: function(offset, color, opacity) {\n        return this.put(new SVG.Stop).update(offset, color, opacity)\n      }\n      // Update gradient\n      , update: function(block) {\n        // remove all stops\n        this.clear()\n\n        // invoke passed block\n        if (typeof block == 'function')\n          block.call(this, this)\n\n        return this\n      }\n      // Return the fill id\n      , fill: function() {\n        return 'url(#' + this.id() + ')'\n      }\n      // Alias string convertion to fill\n      , toString: function() {\n        return this.fill()\n      }\n      // custom attr to handle transform\n      , attr: function(a, b, c) {\n        if(a == 'transform') a = 'gradientTransform'\n        return SVG.Container.prototype.attr.call(this, a, b, c)\n      }\n    }\n\n    // Add parent method\n    , construct: {\n      // Create gradient element in defs\n      gradient: function(type, block) {\n        return this.defs().gradient(type, block)\n      }\n    }\n  })\n\n// Add animatable methods to both gradient and fx module\n  SVG.extend(SVG.Gradient, SVG.FX, {\n    // From position\n    from: function(x, y) {\n      return (this._target || this).type == 'radial' ?\n        this.attr({ fx: new SVG.Number(x), fy: new SVG.Number(y) }) :\n        this.attr({ x1: new SVG.Number(x), y1: new SVG.Number(y) })\n    }\n    // To position\n    , to: function(x, y) {\n      return (this._target || this).type == 'radial' ?\n        this.attr({ cx: new SVG.Number(x), cy: new SVG.Number(y) }) :\n        this.attr({ x2: new SVG.Number(x), y2: new SVG.Number(y) })\n    }\n  })\n\n// Base gradient generation\n  SVG.extend(SVG.Defs, {\n    // define gradient\n    gradient: function(type, block) {\n      return this.put(new SVG.Gradient(type)).update(block)\n    }\n\n  })\n\n  SVG.Stop = SVG.invent({\n    // Initialize node\n    create: 'stop'\n\n    // Inherit from\n    , inherit: SVG.Element\n\n    // Add class methods\n    , extend: {\n      // add color stops\n      update: function(o) {\n        if (typeof o == 'number' || o instanceof SVG.Number) {\n          o = {\n            offset:  arguments[0]\n            , color:   arguments[1]\n            , opacity: arguments[2]\n          }\n        }\n\n        // set attributes\n        if (o.opacity != null) this.attr('stop-opacity', o.opacity)\n        if (o.color   != null) this.attr('stop-color', o.color)\n        if (o.offset  != null) this.attr('offset', new SVG.Number(o.offset))\n\n        return this\n      }\n    }\n\n  })\n\n  SVG.Pattern = SVG.invent({\n    // Initialize node\n    create: 'pattern'\n\n    // Inherit from\n    , inherit: SVG.Container\n\n    // Add class methods\n    , extend: {\n      // Return the fill id\n      fill: function() {\n        return 'url(#' + this.id() + ')'\n      }\n      // Update pattern by rebuilding\n      , update: function(block) {\n        // remove content\n        this.clear()\n\n        // invoke passed block\n        if (typeof block == 'function')\n          block.call(this, this)\n\n        return this\n      }\n      // Alias string convertion to fill\n      , toString: function() {\n        return this.fill()\n      }\n      // custom attr to handle transform\n      , attr: function(a, b, c) {\n        if(a == 'transform') a = 'patternTransform'\n        return SVG.Container.prototype.attr.call(this, a, b, c)\n      }\n\n    }\n\n    // Add parent method\n    , construct: {\n      // Create pattern element in defs\n      pattern: function(width, height, block) {\n        return this.defs().pattern(width, height, block)\n      }\n    }\n  })\n\n  SVG.extend(SVG.Defs, {\n    // Define gradient\n    pattern: function(width, height, block) {\n      return this.put(new SVG.Pattern).update(block).attr({\n        x:            0\n        , y:            0\n        , width:        width\n        , height:       height\n        , patternUnits: 'userSpaceOnUse'\n      })\n    }\n\n  })\n  SVG.Shape = SVG.invent({\n    // Initialize node\n    create: function(element) {\n      this.constructor.call(this, element)\n    }\n\n    // Inherit from\n    , inherit: SVG.Element\n\n  })\n\n  SVG.Bare = SVG.invent({\n    // Initialize\n    create: function(element, inherit) {\n      // construct element\n      this.constructor.call(this, SVG.create(element))\n\n      // inherit custom methods\n      if (inherit)\n        for (var method in inherit.prototype)\n          if (typeof inherit.prototype[method] === 'function')\n            this[method] = inherit.prototype[method]\n    }\n\n    // Inherit from\n    , inherit: SVG.Element\n\n    // Add methods\n    , extend: {\n      // Insert some plain text\n      words: function(text) {\n        // remove contents\n        while (this.node.hasChildNodes())\n          this.node.removeChild(this.node.lastChild)\n\n        // create text node\n        this.node.appendChild(document.createTextNode(text))\n\n        return this\n      }\n    }\n  })\n\n\n  SVG.extend(SVG.Parent, {\n    // Create an element that is not described by SVG.js\n    element: function(element, inherit) {\n      return this.put(new SVG.Bare(element, inherit))\n    }\n  })\n\n  SVG.Symbol = SVG.invent({\n    // Initialize node\n    create: 'symbol'\n\n    // Inherit from\n    , inherit: SVG.Container\n\n    , construct: {\n      // create symbol\n      symbol: function() {\n        return this.put(new SVG.Symbol)\n      }\n    }\n  })\n\n  SVG.Use = SVG.invent({\n    // Initialize node\n    create: 'use'\n\n    // Inherit from\n    , inherit: SVG.Shape\n\n    // Add class methods\n    , extend: {\n      // Use element as a reference\n      element: function(element, file) {\n        // Set lined element\n        return this.attr('href', (file || '') + '#' + element, SVG.xlink)\n      }\n    }\n\n    // Add parent method\n    , construct: {\n      // Create a use element\n      use: function(element, file) {\n        return this.put(new SVG.Use).element(element, file)\n      }\n    }\n  })\n  SVG.Rect = SVG.invent({\n    // Initialize node\n    create: 'rect'\n\n    // Inherit from\n    , inherit: SVG.Shape\n\n    // Add parent method\n    , construct: {\n      // Create a rect element\n      rect: function(width, height) {\n        return this.put(new SVG.Rect()).size(width, height)\n      }\n    }\n  })\n  SVG.Circle = SVG.invent({\n    // Initialize node\n    create: 'circle'\n\n    // Inherit from\n    , inherit: SVG.Shape\n\n    // Add parent method\n    , construct: {\n      // Create circle element, based on ellipse\n      circle: function(size) {\n        return this.put(new SVG.Circle).rx(new SVG.Number(size).divide(2)).move(0, 0)\n      }\n    }\n  })\n\n  SVG.extend(SVG.Circle, SVG.FX, {\n    // Radius x value\n    rx: function(rx) {\n      return this.attr('r', rx)\n    }\n    // Alias radius x value\n    , ry: function(ry) {\n      return this.rx(ry)\n    }\n  })\n\n  SVG.Ellipse = SVG.invent({\n    // Initialize node\n    create: 'ellipse'\n\n    // Inherit from\n    , inherit: SVG.Shape\n\n    // Add parent method\n    , construct: {\n      // Create an ellipse\n      ellipse: function(width, height) {\n        return this.put(new SVG.Ellipse).size(width, height).move(0, 0)\n      }\n    }\n  })\n\n  SVG.extend(SVG.Ellipse, SVG.Rect, SVG.FX, {\n    // Radius x value\n    rx: function(rx) {\n      return this.attr('rx', rx)\n    }\n    // Radius y value\n    , ry: function(ry) {\n      return this.attr('ry', ry)\n    }\n  })\n\n// Add common method\n  SVG.extend(SVG.Circle, SVG.Ellipse, {\n    // Move over x-axis\n    x: function(x) {\n      return x == null ? this.cx() - this.rx() : this.cx(x + this.rx())\n    }\n    // Move over y-axis\n    , y: function(y) {\n      return y == null ? this.cy() - this.ry() : this.cy(y + this.ry())\n    }\n    // Move by center over x-axis\n    , cx: function(x) {\n      return x == null ? this.attr('cx') : this.attr('cx', x)\n    }\n    // Move by center over y-axis\n    , cy: function(y) {\n      return y == null ? this.attr('cy') : this.attr('cy', y)\n    }\n    // Set width of element\n    , width: function(width) {\n      return width == null ? this.rx() * 2 : this.rx(new SVG.Number(width).divide(2))\n    }\n    // Set height of element\n    , height: function(height) {\n      return height == null ? this.ry() * 2 : this.ry(new SVG.Number(height).divide(2))\n    }\n    // Custom size function\n    , size: function(width, height) {\n      var p = proportionalSize(this, width, height)\n\n      return this\n        .rx(new SVG.Number(p.width).divide(2))\n        .ry(new SVG.Number(p.height).divide(2))\n    }\n  })\n  SVG.Line = SVG.invent({\n    // Initialize node\n    create: 'line'\n\n    // Inherit from\n    , inherit: SVG.Shape\n\n    // Add class methods\n    , extend: {\n      // Get array\n      array: function() {\n        return new SVG.PointArray([\n          [ this.attr('x1'), this.attr('y1') ]\n          , [ this.attr('x2'), this.attr('y2') ]\n        ])\n      }\n      // Overwrite native plot() method\n      , plot: function(x1, y1, x2, y2) {\n        if (x1 == null)\n          return this.array()\n        else if (typeof y1 !== 'undefined')\n          x1 = { x1: x1, y1: y1, x2: x2, y2: y2 }\n        else\n          x1 = new SVG.PointArray(x1).toLine()\n\n        return this.attr(x1)\n      }\n      // Move by left top corner\n      , move: function(x, y) {\n        return this.attr(this.array().move(x, y).toLine())\n      }\n      // Set element size to given width and height\n      , size: function(width, height) {\n        var p = proportionalSize(this, width, height)\n\n        return this.attr(this.array().size(p.width, p.height).toLine())\n      }\n    }\n\n    // Add parent method\n    , construct: {\n      // Create a line element\n      line: function(x1, y1, x2, y2) {\n        // make sure plot is called as a setter\n        // x1 is not necessarily a number, it can also be an array, a string and a SVG.PointArray\n        return SVG.Line.prototype.plot.apply(\n          this.put(new SVG.Line)\n          , x1 != null ? [x1, y1, x2, y2] : [0, 0, 0, 0]\n        )\n      }\n    }\n  })\n\n  SVG.Polyline = SVG.invent({\n    // Initialize node\n    create: 'polyline'\n\n    // Inherit from\n    , inherit: SVG.Shape\n\n    // Add parent method\n    , construct: {\n      // Create a wrapped polyline element\n      polyline: function(p) {\n        // make sure plot is called as a setter\n        return this.put(new SVG.Polyline).plot(p || new SVG.PointArray)\n      }\n    }\n  })\n\n  SVG.Polygon = SVG.invent({\n    // Initialize node\n    create: 'polygon'\n\n    // Inherit from\n    , inherit: SVG.Shape\n\n    // Add parent method\n    , construct: {\n      // Create a wrapped polygon element\n      polygon: function(p) {\n        // make sure plot is called as a setter\n        return this.put(new SVG.Polygon).plot(p || new SVG.PointArray)\n      }\n    }\n  })\n\n// Add polygon-specific functions\n  SVG.extend(SVG.Polyline, SVG.Polygon, {\n    // Get array\n    array: function() {\n      return this._array || (this._array = new SVG.PointArray(this.attr('points')))\n    }\n    // Plot new path\n    , plot: function(p) {\n      return (p == null) ?\n        this.array() :\n        this.clear().attr('points', typeof p == 'string' ? p : (this._array = new SVG.PointArray(p)))\n    }\n    // Clear array cache\n    , clear: function() {\n      delete this._array\n      return this\n    }\n    // Move by left top corner\n    , move: function(x, y) {\n      return this.attr('points', this.array().move(x, y))\n    }\n    // Set element size to given width and height\n    , size: function(width, height) {\n      var p = proportionalSize(this, width, height)\n\n      return this.attr('points', this.array().size(p.width, p.height))\n    }\n\n  })\n\n// unify all point to point elements\n  SVG.extend(SVG.Line, SVG.Polyline, SVG.Polygon, {\n    // Define morphable array\n    morphArray:  SVG.PointArray\n    // Move by left top corner over x-axis\n    , x: function(x) {\n      return x == null ? this.bbox().x : this.move(x, this.bbox().y)\n    }\n    // Move by left top corner over y-axis\n    , y: function(y) {\n      return y == null ? this.bbox().y : this.move(this.bbox().x, y)\n    }\n    // Set width of element\n    , width: function(width) {\n      var b = this.bbox()\n\n      return width == null ? b.width : this.size(width, b.height)\n    }\n    // Set height of element\n    , height: function(height) {\n      var b = this.bbox()\n\n      return height == null ? b.height : this.size(b.width, height)\n    }\n  })\n  SVG.Path = SVG.invent({\n    // Initialize node\n    create: 'path'\n\n    // Inherit from\n    , inherit: SVG.Shape\n\n    // Add class methods\n    , extend: {\n      // Define morphable array\n      morphArray:  SVG.PathArray\n      // Get array\n      , array: function() {\n        return this._array || (this._array = new SVG.PathArray(this.attr('d')))\n      }\n      // Plot new path\n      , plot: function(d) {\n        return (d == null) ?\n          this.array() :\n          this.clear().attr('d', typeof d == 'string' ? d : (this._array = new SVG.PathArray(d)))\n      }\n      // Clear array cache\n      , clear: function() {\n        delete this._array\n        return this\n      }\n      // Move by left top corner\n      , move: function(x, y) {\n        return this.attr('d', this.array().move(x, y))\n      }\n      // Move by left top corner over x-axis\n      , x: function(x) {\n        return x == null ? this.bbox().x : this.move(x, this.bbox().y)\n      }\n      // Move by left top corner over y-axis\n      , y: function(y) {\n        return y == null ? this.bbox().y : this.move(this.bbox().x, y)\n      }\n      // Set element size to given width and height\n      , size: function(width, height) {\n        var p = proportionalSize(this, width, height)\n\n        return this.attr('d', this.array().size(p.width, p.height))\n      }\n      // Set width of element\n      , width: function(width) {\n        return width == null ? this.bbox().width : this.size(width, this.bbox().height)\n      }\n      // Set height of element\n      , height: function(height) {\n        return height == null ? this.bbox().height : this.size(this.bbox().width, height)\n      }\n\n    }\n\n    // Add parent method\n    , construct: {\n      // Create a wrapped path element\n      path: function(d) {\n        // make sure plot is called as a setter\n        return this.put(new SVG.Path).plot(d || new SVG.PathArray)\n      }\n    }\n  })\n\n  SVG.Image = SVG.invent({\n    // Initialize node\n    create: 'image'\n\n    // Inherit from\n    , inherit: SVG.Shape\n\n    // Add class methods\n    , extend: {\n      // (re)load image\n      load: function(url) {\n        if (!url) return this\n\n        var self = this\n          , img  = new window.Image()\n\n        // preload image\n        SVG.on(img, 'load', function() {\n          SVG.off(img)\n\n          var p = self.parent(SVG.Pattern)\n\n          if(p === null) return\n\n          // ensure image size\n          if (self.width() == 0 && self.height() == 0)\n            self.size(img.width, img.height)\n\n          // ensure pattern size if not set\n          if (p && p.width() == 0 && p.height() == 0)\n            p.size(self.width(), self.height())\n\n          // callback\n          if (typeof self._loaded === 'function')\n            self._loaded.call(self, {\n              width:  img.width\n              , height: img.height\n              , ratio:  img.width / img.height\n              , url:    url\n            })\n        })\n\n        SVG.on(img, 'error', function(e){\n          SVG.off(img)\n\n          if (typeof self._error === 'function'){\n            self._error.call(self, e)\n          }\n        })\n\n        return this.attr('href', (img.src = this.src = url), SVG.xlink)\n      }\n      // Add loaded callback\n      , loaded: function(loaded) {\n        this._loaded = loaded\n        return this\n      }\n\n      , error: function(error) {\n        this._error = error\n        return this\n      }\n    }\n\n    // Add parent method\n    , construct: {\n      // create image element, load image and set its size\n      image: function(source, width, height) {\n        return this.put(new SVG.Image).load(source).size(width || 0, height || width || 0)\n      }\n    }\n\n  })\n  SVG.Text = SVG.invent({\n    // Initialize node\n    create: function() {\n      this.constructor.call(this, SVG.create('text'))\n\n      this.dom.leading = new SVG.Number(1.3)    // store leading value for rebuilding\n      this._rebuild = true                      // enable automatic updating of dy values\n      this._build   = false                     // disable build mode for adding multiple lines\n\n      // set default font\n      this.attr('font-family', SVG.defaults.attrs['font-family'])\n    }\n\n    // Inherit from\n    , inherit: SVG.Shape\n\n    // Add class methods\n    , extend: {\n      // Move over x-axis\n      x: function(x) {\n        // act as getter\n        if (x == null)\n          return this.attr('x')\n\n        return this.attr('x', x)\n      }\n      // Move over y-axis\n      , y: function(y) {\n        var oy = this.attr('y')\n          , o  = typeof oy === 'number' ? oy - this.bbox().y : 0\n\n        // act as getter\n        if (y == null)\n          return typeof oy === 'number' ? oy - o : oy\n\n        return this.attr('y', typeof y.valueOf() === 'number' ? y + o : y)\n      }\n      // Move center over x-axis\n      , cx: function(x) {\n        return x == null ? this.bbox().cx : this.x(x - this.bbox().width / 2)\n      }\n      // Move center over y-axis\n      , cy: function(y) {\n        return y == null ? this.bbox().cy : this.y(y - this.bbox().height / 2)\n      }\n      // Set the text content\n      , text: function(text) {\n        // act as getter\n        if (typeof text === 'undefined'){\n          var text = ''\n          var children = this.node.childNodes\n          for(var i = 0, len = children.length; i < len; ++i){\n\n            // add newline if its not the first child and newLined is set to true\n            if(i != 0 && children[i].nodeType != 3 && SVG.adopt(children[i]).dom.newLined == true){\n              text += '\\n'\n            }\n\n            // add content of this node\n            text += children[i].textContent\n          }\n\n          return text\n        }\n\n        // remove existing content\n        this.clear().build(true)\n\n        if (typeof text === 'function') {\n          // call block\n          text.call(this, this)\n\n        } else {\n          // store text and make sure text is not blank\n          text = text.split('\\n')\n\n          // build new lines\n          for (var i = 0, il = text.length; i < il; i++)\n            this.tspan(text[i]).newLine()\n        }\n\n        // disable build mode and rebuild lines\n        return this.build(false).rebuild()\n      }\n      // Set font size\n      , size: function(size) {\n        return this.attr('font-size', size).rebuild()\n      }\n      // Set / get leading\n      , leading: function(value) {\n        // act as getter\n        if (value == null)\n          return this.dom.leading\n\n        // act as setter\n        this.dom.leading = new SVG.Number(value)\n\n        return this.rebuild()\n      }\n      // Get all the first level lines\n      , lines: function() {\n        var node = (this.textPath && this.textPath() || this).node\n\n        // filter tspans and map them to SVG.js instances\n        var lines = SVG.utils.map(SVG.utils.filterSVGElements(node.childNodes), function(el){\n          return SVG.adopt(el)\n        })\n\n        // return an instance of SVG.set\n        return new SVG.Set(lines)\n      }\n      // Rebuild appearance type\n      , rebuild: function(rebuild) {\n        // store new rebuild flag if given\n        if (typeof rebuild == 'boolean')\n          this._rebuild = rebuild\n\n        // define position of all lines\n        if (this._rebuild) {\n          var self = this\n            , blankLineOffset = 0\n            , dy = this.dom.leading * new SVG.Number(this.attr('font-size'))\n\n          this.lines().each(function() {\n            if (this.dom.newLined) {\n              if (!self.textPath())\n                this.attr('x', self.attr('x'))\n              if(this.text() == '\\n') {\n                blankLineOffset += dy\n              }else{\n                this.attr('dy', dy + blankLineOffset)\n                blankLineOffset = 0\n              }\n            }\n          })\n\n          this.fire('rebuild')\n        }\n\n        return this\n      }\n      // Enable / disable build mode\n      , build: function(build) {\n        this._build = !!build\n        return this\n      }\n      // overwrite method from parent to set data properly\n      , setData: function(o){\n        this.dom = o\n        this.dom.leading = new SVG.Number(o.leading || 1.3)\n        return this\n      }\n    }\n\n    // Add parent method\n    , construct: {\n      // Create text element\n      text: function(text) {\n        return this.put(new SVG.Text).text(text)\n      }\n      // Create plain text element\n      , plain: function(text) {\n        return this.put(new SVG.Text).plain(text)\n      }\n    }\n\n  })\n\n  SVG.Tspan = SVG.invent({\n    // Initialize node\n    create: 'tspan'\n\n    // Inherit from\n    , inherit: SVG.Shape\n\n    // Add class methods\n    , extend: {\n      // Set text content\n      text: function(text) {\n        if(text == null) return this.node.textContent + (this.dom.newLined ? '\\n' : '')\n\n        typeof text === 'function' ? text.call(this, this) : this.plain(text)\n\n        return this\n      }\n      // Shortcut dx\n      , dx: function(dx) {\n        return this.attr('dx', dx)\n      }\n      // Shortcut dy\n      , dy: function(dy) {\n        return this.attr('dy', dy)\n      }\n      // Create new line\n      , newLine: function() {\n        // fetch text parent\n        var t = this.parent(SVG.Text)\n\n        // mark new line\n        this.dom.newLined = true\n\n        // apply new hyn\n        return this.dy(t.dom.leading * t.attr('font-size')).attr('x', t.x())\n      }\n    }\n\n  })\n\n  SVG.extend(SVG.Text, SVG.Tspan, {\n    // Create plain text node\n    plain: function(text) {\n      // clear if build mode is disabled\n      if (this._build === false)\n        this.clear()\n\n      // create text node\n      this.node.appendChild(document.createTextNode(text))\n\n      return this\n    }\n    // Create a tspan\n    , tspan: function(text) {\n      var node  = (this.textPath && this.textPath() || this).node\n        , tspan = new SVG.Tspan\n\n      // clear if build mode is disabled\n      if (this._build === false)\n        this.clear()\n\n      // add new tspan\n      node.appendChild(tspan.node)\n\n      return tspan.text(text)\n    }\n    // Clear all lines\n    , clear: function() {\n      var node = (this.textPath && this.textPath() || this).node\n\n      // remove existing child nodes\n      while (node.hasChildNodes())\n        node.removeChild(node.lastChild)\n\n      return this\n    }\n    // Get length of text element\n    , length: function() {\n      return this.node.getComputedTextLength()\n    }\n  })\n\n  SVG.TextPath = SVG.invent({\n    // Initialize node\n    create: 'textPath'\n\n    // Inherit from\n    , inherit: SVG.Parent\n\n    // Define parent class\n    , parent: SVG.Text\n\n    // Add parent method\n    , construct: {\n      morphArray: SVG.PathArray\n      // Create path for text to run on\n      , path: function(d) {\n        // create textPath element\n        var path  = new SVG.TextPath\n          , track = this.doc().defs().path(d)\n\n        // move lines to textpath\n        while (this.node.hasChildNodes())\n          path.node.appendChild(this.node.firstChild)\n\n        // add textPath element as child node\n        this.node.appendChild(path.node)\n\n        // link textPath to path and add content\n        path.attr('href', '#' + track, SVG.xlink)\n\n        return this\n      }\n      // return the array of the path track element\n      , array: function() {\n        var track = this.track()\n\n        return track ? track.array() : null\n      }\n      // Plot path if any\n      , plot: function(d) {\n        var track = this.track()\n          , pathArray = null\n\n        if (track) {\n          pathArray = track.plot(d)\n        }\n\n        return (d == null) ? pathArray : this\n      }\n      // Get the path track element\n      , track: function() {\n        var path = this.textPath()\n\n        if (path)\n          return path.reference('href')\n      }\n      // Get the textPath child\n      , textPath: function() {\n        if (this.node.firstChild && this.node.firstChild.nodeName == 'textPath')\n          return SVG.adopt(this.node.firstChild)\n      }\n    }\n  })\n\n  SVG.Nested = SVG.invent({\n    // Initialize node\n    create: function() {\n      this.constructor.call(this, SVG.create('svg'))\n\n      this.style('overflow', 'visible')\n    }\n\n    // Inherit from\n    , inherit: SVG.Container\n\n    // Add parent method\n    , construct: {\n      // Create nested svg document\n      nested: function() {\n        return this.put(new SVG.Nested)\n      }\n    }\n  })\n  SVG.A = SVG.invent({\n    // Initialize node\n    create: 'a'\n\n    // Inherit from\n    , inherit: SVG.Container\n\n    // Add class methods\n    , extend: {\n      // Link url\n      to: function(url) {\n        return this.attr('href', url, SVG.xlink)\n      }\n      // Link show attribute\n      , show: function(target) {\n        return this.attr('show', target, SVG.xlink)\n      }\n      // Link target attribute\n      , target: function(target) {\n        return this.attr('target', target)\n      }\n    }\n\n    // Add parent method\n    , construct: {\n      // Create a hyperlink element\n      link: function(url) {\n        return this.put(new SVG.A).to(url)\n      }\n    }\n  })\n\n  SVG.extend(SVG.Element, {\n    // Create a hyperlink element\n    linkTo: function(url) {\n      var link = new SVG.A\n\n      if (typeof url == 'function')\n        url.call(link, link)\n      else\n        link.to(url)\n\n      return this.parent().put(link).put(this)\n    }\n\n  })\n  SVG.Marker = SVG.invent({\n    // Initialize node\n    create: 'marker'\n\n    // Inherit from\n    , inherit: SVG.Container\n\n    // Add class methods\n    , extend: {\n      // Set width of element\n      width: function(width) {\n        return this.attr('markerWidth', width)\n      }\n      // Set height of element\n      , height: function(height) {\n        return this.attr('markerHeight', height)\n      }\n      // Set marker refX and refY\n      , ref: function(x, y) {\n        return this.attr('refX', x).attr('refY', y)\n      }\n      // Update marker\n      , update: function(block) {\n        // remove all content\n        this.clear()\n\n        // invoke passed block\n        if (typeof block == 'function')\n          block.call(this, this)\n\n        return this\n      }\n      // Return the fill id\n      , toString: function() {\n        return 'url(#' + this.id() + ')'\n      }\n    }\n\n    // Add parent method\n    , construct: {\n      marker: function(width, height, block) {\n        // Create marker element in defs\n        return this.defs().marker(width, height, block)\n      }\n    }\n\n  })\n\n  SVG.extend(SVG.Defs, {\n    // Create marker\n    marker: function(width, height, block) {\n      // Set default viewbox to match the width and height, set ref to cx and cy and set orient to auto\n      return this.put(new SVG.Marker)\n        .size(width, height)\n        .ref(width / 2, height / 2)\n        .viewbox(0, 0, width, height)\n        .attr('orient', 'auto')\n        .update(block)\n    }\n\n  })\n\n  SVG.extend(SVG.Line, SVG.Polyline, SVG.Polygon, SVG.Path, {\n    // Create and attach markers\n    marker: function(marker, width, height, block) {\n      var attr = ['marker']\n\n      // Build attribute name\n      if (marker != 'all') attr.push(marker)\n      attr = attr.join('-')\n\n      // Set marker attribute\n      marker = arguments[1] instanceof SVG.Marker ?\n        arguments[1] :\n        this.doc().marker(width, height, block)\n\n      return this.attr(attr, marker)\n    }\n\n  })\n// Define list of available attributes for stroke and fill\n  var sugar = {\n    stroke: ['color', 'width', 'opacity', 'linecap', 'linejoin', 'miterlimit', 'dasharray', 'dashoffset']\n    , fill:   ['color', 'opacity', 'rule']\n    , prefix: function(t, a) {\n      return a == 'color' ? t : t + '-' + a\n    }\n  }\n\n// Add sugar for fill and stroke\n  ;['fill', 'stroke'].forEach(function(m) {\n    var i, extension = {}\n\n    extension[m] = function(o) {\n      if (typeof o == 'undefined')\n        return this\n      if (typeof o == 'string' || SVG.Color.isRgb(o) || (o && typeof o.fill === 'function'))\n        this.attr(m, o)\n\n      else\n      // set all attributes from sugar.fill and sugar.stroke list\n        for (i = sugar[m].length - 1; i >= 0; i--)\n          if (o[sugar[m][i]] != null)\n            this.attr(sugar.prefix(m, sugar[m][i]), o[sugar[m][i]])\n\n      return this\n    }\n\n    SVG.extend(SVG.Element, SVG.FX, extension)\n\n  })\n\n  SVG.extend(SVG.Element, SVG.FX, {\n    // Map rotation to transform\n    rotate: function(d, cx, cy) {\n      return this.transform({ rotation: d, cx: cx, cy: cy })\n    }\n    // Map skew to transform\n    , skew: function(x, y, cx, cy) {\n      return arguments.length == 1  || arguments.length == 3 ?\n        this.transform({ skew: x, cx: y, cy: cx }) :\n        this.transform({ skewX: x, skewY: y, cx: cx, cy: cy })\n    }\n    // Map scale to transform\n    , scale: function(x, y, cx, cy) {\n      return arguments.length == 1  || arguments.length == 3 ?\n        this.transform({ scale: x, cx: y, cy: cx }) :\n        this.transform({ scaleX: x, scaleY: y, cx: cx, cy: cy })\n    }\n    // Map translate to transform\n    , translate: function(x, y) {\n      return this.transform({ x: x, y: y })\n    }\n    // Map flip to transform\n    , flip: function(a, o) {\n      o = typeof a == 'number' ? a : o\n      return this.transform({ flip: a || 'both', offset: o })\n    }\n    // Map matrix to transform\n    , matrix: function(m) {\n      return this.attr('transform', new SVG.Matrix(arguments.length == 6 ? [].slice.call(arguments) : m))\n    }\n    // Opacity\n    , opacity: function(value) {\n      return this.attr('opacity', value)\n    }\n    // Relative move over x axis\n    , dx: function(x) {\n      return this.x(new SVG.Number(x).plus(this instanceof SVG.FX ? 0 : this.x()), true)\n    }\n    // Relative move over y axis\n    , dy: function(y) {\n      return this.y(new SVG.Number(y).plus(this instanceof SVG.FX ? 0 : this.y()), true)\n    }\n    // Relative move over x and y axes\n    , dmove: function(x, y) {\n      return this.dx(x).dy(y)\n    }\n  })\n\n  SVG.extend(SVG.Rect, SVG.Ellipse, SVG.Circle, SVG.Gradient, SVG.FX, {\n    // Add x and y radius\n    radius: function(x, y) {\n      var type = (this._target || this).type;\n      return type == 'radial' || type == 'circle' ?\n        this.attr('r', new SVG.Number(x)) :\n        this.rx(x).ry(y == null ? x : y)\n    }\n  })\n\n  SVG.extend(SVG.Path, {\n    // Get path length\n    length: function() {\n      return this.node.getTotalLength()\n    }\n    // Get point at length\n    , pointAt: function(length) {\n      return this.node.getPointAtLength(length)\n    }\n  })\n\n  SVG.extend(SVG.Parent, SVG.Text, SVG.Tspan, SVG.FX, {\n    // Set font\n    font: function(a, v) {\n      if (typeof a == 'object') {\n        for (v in a) this.font(v, a[v])\n      }\n\n      return a == 'leading' ?\n        this.leading(v) :\n        a == 'anchor' ?\n          this.attr('text-anchor', v) :\n          a == 'size' || a == 'family' || a == 'weight' || a == 'stretch' || a == 'variant' || a == 'style' ?\n            this.attr('font-'+ a, v) :\n            this.attr(a, v)\n    }\n  })\n\n  SVG.Set = SVG.invent({\n    // Initialize\n    create: function(members) {\n      if (members instanceof SVG.Set) {\n        this.members = members.members.slice()\n      } else {\n        Array.isArray(members) ? this.members = members : this.clear()\n      }\n    }\n\n    // Add class methods\n    , extend: {\n      // Add element to set\n      add: function() {\n        var i, il, elements = [].slice.call(arguments)\n\n        for (i = 0, il = elements.length; i < il; i++)\n          this.members.push(elements[i])\n\n        return this\n      }\n      // Remove element from set\n      , remove: function(element) {\n        var i = this.index(element)\n\n        // remove given child\n        if (i > -1)\n          this.members.splice(i, 1)\n\n        return this\n      }\n      // Iterate over all members\n      , each: function(block) {\n        for (var i = 0, il = this.members.length; i < il; i++)\n          block.apply(this.members[i], [i, this.members])\n\n        return this\n      }\n      // Restore to defaults\n      , clear: function() {\n        // initialize store\n        this.members = []\n\n        return this\n      }\n      // Get the length of a set\n      , length: function() {\n        return this.members.length\n      }\n      // Checks if a given element is present in set\n      , has: function(element) {\n        return this.index(element) >= 0\n      }\n      // retuns index of given element in set\n      , index: function(element) {\n        return this.members.indexOf(element)\n      }\n      // Get member at given index\n      , get: function(i) {\n        return this.members[i]\n      }\n      // Get first member\n      , first: function() {\n        return this.get(0)\n      }\n      // Get last member\n      , last: function() {\n        return this.get(this.members.length - 1)\n      }\n      // Default value\n      , valueOf: function() {\n        return this.members\n      }\n      // Get the bounding box of all members included or empty box if set has no items\n      , bbox: function(){\n        // return an empty box of there are no members\n        if (this.members.length == 0)\n          return new SVG.RBox()\n\n        // get the first rbox and update the target bbox\n        var rbox = this.members[0].rbox(this.members[0].doc())\n\n        this.each(function() {\n          // user rbox for correct position and visual representation\n          rbox = rbox.merge(this.rbox(this.doc()))\n        })\n\n        return rbox\n      }\n    }\n\n    // Add parent method\n    , construct: {\n      // Create a new set\n      set: function(members) {\n        return new SVG.Set(members)\n      }\n    }\n  })\n\n  SVG.FX.Set = SVG.invent({\n    // Initialize node\n    create: function(set) {\n      // store reference to set\n      this.set = set\n    }\n\n  })\n\n// Alias methods\n  SVG.Set.inherit = function() {\n    var m\n      , methods = []\n\n    // gather shape methods\n    for(var m in SVG.Shape.prototype)\n      if (typeof SVG.Shape.prototype[m] == 'function' && typeof SVG.Set.prototype[m] != 'function')\n        methods.push(m)\n\n    // apply shape aliasses\n    methods.forEach(function(method) {\n      SVG.Set.prototype[method] = function() {\n        for (var i = 0, il = this.members.length; i < il; i++)\n          if (this.members[i] && typeof this.members[i][method] == 'function')\n            this.members[i][method].apply(this.members[i], arguments)\n\n        return method == 'animate' ? (this.fx || (this.fx = new SVG.FX.Set(this))) : this\n      }\n    })\n\n    // clear methods for the next round\n    methods = []\n\n    // gather fx methods\n    for(var m in SVG.FX.prototype)\n      if (typeof SVG.FX.prototype[m] == 'function' && typeof SVG.FX.Set.prototype[m] != 'function')\n        methods.push(m)\n\n    // apply fx aliasses\n    methods.forEach(function(method) {\n      SVG.FX.Set.prototype[method] = function() {\n        for (var i = 0, il = this.set.members.length; i < il; i++)\n          this.set.members[i].fx[method].apply(this.set.members[i].fx, arguments)\n\n        return this\n      }\n    })\n  }\n\n\n  SVG.extend(SVG.Element, {\n    // Store data values on svg nodes\n    data: function(a, v, r) {\n      if (typeof a == 'object') {\n        for (v in a)\n          this.data(v, a[v])\n\n      } else if (arguments.length < 2) {\n        try {\n          return JSON.parse(this.attr('data-' + a))\n        } catch(e) {\n          return this.attr('data-' + a)\n        }\n\n      } else {\n        this.attr(\n          'data-' + a\n          , v === null ?\n            null :\n            r === true || typeof v === 'string' || typeof v === 'number' ?\n              v :\n              JSON.stringify(v)\n        )\n      }\n\n      return this\n    }\n  })\n  SVG.extend(SVG.Element, {\n    // Remember arbitrary data\n    remember: function(k, v) {\n      // remember every item in an object individually\n      if (typeof arguments[0] == 'object')\n        for (var v in k)\n          this.remember(v, k[v])\n\n      // retrieve memory\n      else if (arguments.length == 1)\n        return this.memory()[k]\n\n      // store memory\n      else\n        this.memory()[k] = v\n\n      return this\n    }\n\n    // Erase a given memory\n    , forget: function() {\n      if (arguments.length == 0)\n        this._memory = {}\n      else\n        for (var i = arguments.length - 1; i >= 0; i--)\n          delete this.memory()[arguments[i]]\n\n      return this\n    }\n\n    // Initialize or return local memory object\n    , memory: function() {\n      return this._memory || (this._memory = {})\n    }\n\n  })\n// Method for getting an element by id\n  SVG.get = function(id) {\n    var node = document.getElementById(idFromReference(id) || id)\n    return SVG.adopt(node)\n  }\n\n// Select elements by query string\n  SVG.select = function(query, parent) {\n    return new SVG.Set(\n      SVG.utils.map((parent || document).querySelectorAll(query), function(node) {\n        return SVG.adopt(node)\n      })\n    )\n  }\n\n  SVG.extend(SVG.Parent, {\n    // Scoped select method\n    select: function(query) {\n      return SVG.select(query, this.node)\n    }\n\n  })\n  function pathRegReplace(a, b, c, d) {\n    return c + d.replace(SVG.regex.dots, ' .')\n  }\n\n// creates deep clone of array\n  function array_clone(arr){\n    var clone = arr.slice(0)\n    for(var i = clone.length; i--;){\n      if(Array.isArray(clone[i])){\n        clone[i] = array_clone(clone[i])\n      }\n    }\n    return clone\n  }\n\n// tests if a given element is instance of an object\n  function is(el, obj){\n    return el instanceof obj\n  }\n\n// tests if a given selector matches an element\n  function matches(el, selector) {\n    return (el.matches || el.matchesSelector || el.msMatchesSelector || el.mozMatchesSelector || el.webkitMatchesSelector || el.oMatchesSelector).call(el, selector);\n  }\n\n// Convert dash-separated-string to camelCase\n  function camelCase(s) {\n    return s.toLowerCase().replace(/-(.)/g, function(m, g) {\n      return g.toUpperCase()\n    })\n  }\n\n// Capitalize first letter of a string\n  function capitalize(s) {\n    return s.charAt(0).toUpperCase() + s.slice(1)\n  }\n\n// Ensure to six-based hex\n  function fullHex(hex) {\n    return hex.length == 4 ?\n      [ '#',\n        hex.substring(1, 2), hex.substring(1, 2)\n        , hex.substring(2, 3), hex.substring(2, 3)\n        , hex.substring(3, 4), hex.substring(3, 4)\n      ].join('') : hex\n  }\n\n// Component to hex value\n  function compToHex(comp) {\n    var hex = comp.toString(16)\n    return hex.length == 1 ? '0' + hex : hex\n  }\n\n// Calculate proportional width and height values when necessary\n  function proportionalSize(element, width, height) {\n    if (width == null || height == null) {\n      var box = element.bbox()\n\n      if (width == null)\n        width = box.width / box.height * height\n      else if (height == null)\n        height = box.height / box.width * width\n    }\n\n    return {\n      width:  width\n      , height: height\n    }\n  }\n\n// Delta transform point\n  function deltaTransformPoint(matrix, x, y) {\n    return {\n      x: x * matrix.a + y * matrix.c + 0\n      , y: x * matrix.b + y * matrix.d + 0\n    }\n  }\n\n// Map matrix array to object\n  function arrayToMatrix(a) {\n    return { a: a[0], b: a[1], c: a[2], d: a[3], e: a[4], f: a[5] }\n  }\n\n// Parse matrix if required\n  function parseMatrix(matrix) {\n    if (!(matrix instanceof SVG.Matrix))\n      matrix = new SVG.Matrix(matrix)\n\n    return matrix\n  }\n\n// Add centre point to transform object\n  function ensureCentre(o, target) {\n    o.cx = o.cx == null ? target.bbox().cx : o.cx\n    o.cy = o.cy == null ? target.bbox().cy : o.cy\n  }\n\n// PathArray Helpers\n  function arrayToString(a) {\n    for (var i = 0, il = a.length, s = ''; i < il; i++) {\n      s += a[i][0]\n\n      if (a[i][1] != null) {\n        s += a[i][1]\n\n        if (a[i][2] != null) {\n          s += ' '\n          s += a[i][2]\n\n          if (a[i][3] != null) {\n            s += ' '\n            s += a[i][3]\n            s += ' '\n            s += a[i][4]\n\n            if (a[i][5] != null) {\n              s += ' '\n              s += a[i][5]\n              s += ' '\n              s += a[i][6]\n\n              if (a[i][7] != null) {\n                s += ' '\n                s += a[i][7]\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return s + ' '\n  }\n\n// Deep new id assignment\n  function assignNewId(node) {\n    // do the same for SVG child nodes as well\n    for (var i = node.childNodes.length - 1; i >= 0; i--)\n      if (node.childNodes[i] instanceof window.SVGElement)\n        assignNewId(node.childNodes[i])\n\n    return SVG.adopt(node).id(SVG.eid(node.nodeName))\n  }\n\n// Add more bounding box properties\n  function fullBox(b) {\n    if (b.x == null) {\n      b.x      = 0\n      b.y      = 0\n      b.width  = 0\n      b.height = 0\n    }\n\n    b.w  = b.width\n    b.h  = b.height\n    b.x2 = b.x + b.width\n    b.y2 = b.y + b.height\n    b.cx = b.x + b.width / 2\n    b.cy = b.y + b.height / 2\n\n    return b\n  }\n\n// Get id from reference string\n  function idFromReference(url) {\n    var m = (url || '').toString().match(SVG.regex.reference)\n\n    if (m) return m[1]\n  }\n\n// If values like 1e-88 are passed, this is not a valid 32 bit float,\n// but in those cases, we are so close to 0 that 0 works well!\n  function float32String(v) {\n    return Math.abs(v) > 1e-37 ? v : 0\n  }\n\n// Create matrix array for looping\n  var abcdef = 'abcdef'.split('')\n\n// Add CustomEvent to IE9 and IE10\n  if (typeof window.CustomEvent !== 'function') {\n    // Code from: https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent\n    var CustomEventPoly = function(event, options) {\n      options = options || { bubbles: false, cancelable: false, detail: undefined }\n      var e = document.createEvent('CustomEvent')\n      e.initCustomEvent(event, options.bubbles, options.cancelable, options.detail)\n      return e\n    }\n\n    CustomEventPoly.prototype = window.Event.prototype\n\n    SVG.CustomEvent = CustomEventPoly\n  } else {\n    SVG.CustomEvent = window.CustomEvent\n  }\n\n// requestAnimationFrame / cancelAnimationFrame Polyfill with fallback based on Paul Irish\n  (function(w) {\n    var lastTime = 0\n    var vendors = ['moz', 'webkit']\n\n    for(var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n      w.requestAnimationFrame = w[vendors[x] + 'RequestAnimationFrame']\n      w.cancelAnimationFrame  = w[vendors[x] + 'CancelAnimationFrame'] ||\n        w[vendors[x] + 'CancelRequestAnimationFrame']\n    }\n\n    w.requestAnimationFrame = w.requestAnimationFrame ||\n      function(callback) {\n        var currTime = new Date().getTime()\n        var timeToCall = Math.max(0, 16 - (currTime - lastTime))\n\n        var id = w.setTimeout(function() {\n          callback(currTime + timeToCall)\n        }, timeToCall)\n\n        lastTime = currTime + timeToCall\n        return id\n      }\n\n    w.cancelAnimationFrame = w.cancelAnimationFrame || w.clearTimeout;\n\n  }(window))\n\n  return SVG\n\n}));\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg.js"],"sourceRoot":""}