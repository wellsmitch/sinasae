{"version":3,"sources":["webpack:///./src/App.vue?3618","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///src/components/HelloWorld.vue","webpack:///./src/components/HelloWorld.vue?b67e","webpack:///./src/components/HelloWorld.vue","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/js/svg.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","HelloWorld","data","msg","resArr","arr1","arr2","methods","svg_data","draw","SVG","size","jquery_default","a","ajax","type","url","success","dataEdit","shapeData","data_middle","middleArr","middleArr_inside","console","log","map","ele","arr","split","ele1","ele2","push","join","i","obj","houseMark","houseType","JSON","parse","line","forEach","polygon","fill","stroke","width","color","node","attr","rect","path","children","click","alert","mounted","components_HelloWorld","_m","staticClass","_v","staticStyle","position","height","background","src_components_HelloWorld","HelloWorld_normalizeComponent","Vue","use","Router","router","routes","component","config","productionTip","el","components","App","template","root","factory","window","document","element","supported","Doc","parser","prepare","ns","xmlns","xlink","svgjs","createElementNS","createSVGRect","did","eid","capitalize","create","setAttribute","extend","modules","key","slice","call","arguments","pop","length","prototype","Set","inherit","invent","initializer","constructor","construct","parent","Container","adopt","instance","nodeName","parentNode","SVGElement","Nested","Gradient","Element","namespace","defs","setData","getAttribute","body","getElementsByTagName","documentElement","nested","style","poly","polyline","native","addEventListener","regex","numberAndUnit","hex","rgb","reference","transforms","whitespace","isHex","isRgb","isCss","isBlank","isNumber","isPercent","isImage","delimiter","hyphen","pathLetters","isPathLetter","numbersWithDots","dots","utils","array","block","il","result","filter","radians","d","Math","PI","degrees","r","filterSVGElements","nodes","defaults","fill-opacity","stroke-opacity","stroke-width","stroke-linejoin","stroke-linecap","opacity","x","y","cx","cy","rx","ry","offset","stop-opacity","stop-color","font-size","font-family","text-anchor","Color","match","g","b","test","exec","replace","parseInt","substring","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_typeof___default","toString","toHex","compToHex","toRgb","brightness","morph","destination","at","pos","isColor","Array","fallback","valueOf","value","lastValue","lastDestination","settle","seen","indexOf","isArray","string","trim","parseFloat","reverse","clone","array_clone","PointArray","toLine","x1","y1","x2","y2","points","len","move","box","bbox","isNaN","getBBox","pathHandlers","M","c","p","p0","L","H","V","C","S","Q","T","Z","A","mlhvqtcsa","j","jl","toUpperCase","PathArray","s","arrayToString","l","equalCommands","pathArray","sourceArray","destinationArray","paramCnt","pathRegReplace","reduce","prev","curr","concat","Point","index","Number","unit","isFinite","toJSON","plus","number","minus","times","divide","to","relative","_stroke","_event","_events","dom","center","proportionalSize","writeDataToDom","assignNewId","cloneNode","add","after","remove","removeElement","addTo","put","putIn","inside","show","hide","visible","classes","hasClass","addClass","removeClass","toggleClass","get","matches","doc","parents","selector","matchesSelector","msMatchesSelector","mozMatchesSelector","webkitMatchesSelector","oMatchesSelector","svg","well","createElement","Parent","appendChild","innerHTML","firstChild","childNodes","each","lines","removeAttribute","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","o","is","easing","-","<>","cos",">","sin","<","from","MorphObj","Situation","init","reversed","reversing","duration","delay","start","Date","finish","ease","loop","loops","animations","styles","once","FX","_target","situations","active","situation","paused","lastPos","absPos","_speed","animate","queue","target","timeToAbsPos","timestamp","absPosToTime","startAnimFrame","stopAnimFrame","animationFrame","requestAnimationFrame","step","bind","cancelAnimationFrame","startCurrent","initAnimations","fn","shift","dequeue","stop","source","initialTransformation","matrixify","clearQueue","clearCurrent","jumpToEnd","atEnd","reset","temp","atStart","isAbsPos","durDivSpd","speed","pause","last","play","progress","easeIt","on","wrapper","e","detail","off","_callStart","during","eased","afterAll","duringAll","method","args","ignoreTime","absPosInt","lastLoop","max","floor","Boolean","min","fire","fx","eachAt","self","apply","Matrix","multiply","undo","extract","matrix","isEased","setTimeout","real","v","G","transform","num","Text","plot","leading","viewbox","ViewBox","update","Stop","Box","left","top","fullBox","merge","m","xMin","Infinity","xMax","yMin","yMax","BBox","contains","Exception","topParent","Shape","clientLeft","clientTop","clientWidth","clientHeight","tbox","warn","rbox","RBox","getBoundingClientRect","addOffset","pageXOffset","pageYOffset","screenCTM","inverse","base","arrayToMatrix","abcdef","px","deltaTransformPoint","py","skewX","atan2","f","transformedX","sqrt","transformedY","skewY","scaleX","scaleY","rotation","parseMatrix","translate","scale","around","rotate","flip","skew","tan","createSVGMatrix","float32String","ctm","getCTM","getScreenCTM","point","createSVGPoint","matrixTransform","n","attributes","nodeValue","image","Image","pattern","setAttributeNS","rebuild","ensureCentre","Rotate","Scale","Skew","Translate","untransform","str","kv","toParent","pCtm","toDoc","Transformation","inversed","params","_undo","cssText","camelCase","insertBefore","has","first","deep","removeChild","clear","hasChildNodes","lastChild","_defs","ungroup","depth","Defs","flatten","view","we","he","wm","hm","reg","offsetWidth","offsetHeight","zoom","event","listenerId","events","listener","binding","options","bag","_svgjsListenerId","ev","removeEventListener","Event","dispatchEvent","CustomEvent","cancelable","gbox","trans","group","getElementById","version","spof","nextSibling","siblings","next","previous","forward","backward","front","back","before","Mask","targets","unmask","mask","maskWith","masker","ClipPath","unclip","clip","clipWith","clipper","gradient","fy","Pattern","patternUnits","Bare","words","text","createTextNode","Symbol","symbol","Use","file","Rect","Circle","circle","Ellipse","ellipse","Line","Polyline","Polygon","_array","morphArray","Path","load","img","_loaded","ratio","_error","src","loaded","error","_rebuild","_build","oy","nodeType","newLined","textContent","build","tspan","newLine","textPath","blankLineOffset","dy","plain","Tspan","dx","t","getComputedTextLength","TextPath","track","link","linkTo","Marker","ref","marker","sugar","prefix","toLowerCase","charAt","comp","w","h","abs","extension","dmove","radius","getTotalLength","pointAt","getPointAtLength","font","members","elements","splice","set","remember","k","memory","forget","_memory","idFromReference","select","query","querySelectorAll","CustomEventPoly","bubbles","undefined","createEvent","initCustomEvent","lastTime","vendors","callback","currTime","getTime","timeToCall","clearTimeout","define","exports","module"],"mappings":"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","file":"static/js/app.d6946bff1b842762a645.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2f043ec7\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2f043ec7\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2f043ec7\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <!--<img src=\"./assets/logo.png\">-->\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template>\n  <div class=\"hello\">\n    <h1>svghqa</h1>\n    <div id=\"boxContainer\" style=\"position: relative;width: 300px;height: 300px;\">\n      <!--<svg id=\"box\" width=\"300\" height=\"300\">-->\n      <!--&lt;!&ndash;<polyline points='220,10 300,210 170,250 123,234' fill='none' stroke='#000' stroke-width='1'></polyline>&ndash;&gt;-->\n      <!--<text x=\"250\" y=\"250\" fill=\"red\" text-anchor=\"start\" dominant-baseline=\"hanging\">I study SVG</text>-->\n\n      <!--</svg>-->\n      <div id=\"drawing\" style=\"width:250px;height: 250px;background: url('../../static/33.jpeg') center/cover\"></div>\n      <!--<img src=\"../../static/33.jpeg\" style=\"width: 500px;height: 500px;position: absolute;top: 0;z-index: -1;display: block;left: 0;\" alt=\"\">-->\n    </div>\n  </div>\n</template>\n\n<script>\n  import $ from 'jquery'\n  import svg from 'svg.js'\n  export default {\n    name: 'HelloWorld',\n    data() {\n      return {\n        msg: 'Welcome to Your Vue.js App',\n        resArr: [],\n        arr1: [],\n        arr2: []\n      }\n    },\n    methods: {\n      svg_data() {\n        var draw = SVG('drawing').size(250, 250)\n        $.ajax({\n            type: 'post',\n            url: 'http://localhost:3000/users/svgpost',\n            success: function (data) {\n              console.log(JSON.parse(data[0].obj))\n              function dataEdit(shapeData) {\n                var data_middle = [];\n                var middleArr = [];\n                var middleArr_inside = [];\n                console.log(shapeData)\n                shapeData.map(function(ele){\n                  middleArr = [];\n                  ele.arr.split(' ').map(function (ele1) {\n                    middleArr_inside = [];\n                    ele1.split(',').map(function (ele2) {\n                      ele2 = ele2 / 2\n                      middleArr_inside.push(ele2)\n                    })\n                    middleArr.push(middleArr_inside)\n                  })\n                  data_middle.push(middleArr)\n                })\n                //\n                data_middle = data_middle.map(function (ele) {\n                  return ele.map(function (ele1) {\n                    return ele1.join(',')\n                  })\n                })\n                return data_middle = data_middle.map(function (ele,i) {\n                  var obj = {}\n                  obj.arr = ele.join(' ');\n                  obj.houseMark = shapeData[i].houseType;\n                  return obj\n                })\n              }\n              //\n              dataEdit(JSON.parse(data[0].obj).line).forEach(function (ele, i) {\n                var a = draw.polygon(ele.arr).fill('rgba(255,254,218,.2)').stroke({\n                  width: 1,\n                  color:'#FF4E7B'\n                })\n                $(a.node).attr({'houseMark':ele.houseMark})\n              })\n\n              //\n              dataEdit(JSON.parse(data[0].obj).rect).forEach(function (ele, i) {\n                console.log(ele)\n                var a = draw.path('M'+ele.arr).fill('rgba(255,254,218,.2)').stroke({\n                  width: 1,\n                  color:'#FF4E7B'\n                })\n                $(a.node).attr({'houseMark':ele.houseMark})\n              })\n              $('#SvgjsSvg1001').children().click(function () {\n                // alert(0)\n                alert($(this).attr('houseMark'))\n              })\n            }\n        })\n      }\n    },\n    mounted() {\n      var that = this\n      this.svg_data()\n\n\n    }\n  }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n  * {\n    margin: 0;\n    padding: 0\n  }\n\n  svg {\n    border: 1px seagreen solid;\n    position: relative;\n  }\n\n  ul li:hover {\n    color: blue\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/HelloWorld.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hello\"},[_c('h1',[_vm._v(\"svghqa\")]),_vm._v(\" \"),_c('div',{staticStyle:{\"position\":\"relative\",\"width\":\"300px\",\"height\":\"300px\"},attrs:{\"id\":\"boxContainer\"}},[_c('div',{staticStyle:{\"width\":\"250px\",\"height\":\"250px\",\"background\":\"url('../../static/33.jpeg') center/cover\"},attrs:{\"id\":\"drawing\"}})])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-cecca52c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/HelloWorld.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-cecca52c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./HelloWorld.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HelloWorld.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HelloWorld.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cecca52c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./HelloWorld.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-cecca52c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/HelloWorld.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport HelloWorld from '@/components/HelloWorld'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'HelloWorld',\n      component: HelloWorld\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport './js/svg'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","/*!\n* svg.js - A lightweight library for manipulating and animating SVG.\n* @version 2.7.1\n* https://svgdotjs.github.io/\n*\n* @copyright Wout Fierens <wout@mick-wout.com>\n* @license MIT\n*\n* BUILT: Fri Nov 30 2018 10:01:55 GMT+0100 (GMT+01:00)\n*/;\n(function(root, factory) {\n  /* istanbul ignore next */\n  if (typeof define === 'function' && define.amd) {\n    define(function(){\n      return factory(root, root.document)\n    })\n  } else if (typeof exports === 'object') {\n    module.exports = root.document ? factory(root, root.document) : function(w){ return factory(w, w.document) }\n  } else {\n    root.SVG = factory(root, root.document)\n  }\n}(typeof window !== \"undefined\" ? window : this, function(window, document) {\n\n// Find global reference - uses 'this' by default when available,\n// falls back to 'window' otherwise (for bundlers like Webpack)\n  var globalRef = (typeof this !== \"undefined\") ? this : window;\n\n// The main wrapping element\n  var SVG = globalRef.SVG = function(element) {\n    if (SVG.supported) {\n      element = new SVG.Doc(element)\n\n      if(!SVG.parser.draw)\n        SVG.prepare()\n\n      return element\n    }\n  }\n\n// Default namespaces\n  SVG.ns    = 'http://www.w3.org/2000/svg'\n  SVG.xmlns = 'http://www.w3.org/2000/xmlns/'\n  SVG.xlink = 'http://www.w3.org/1999/xlink'\n  SVG.svgjs = 'http://svgjs.com/svgjs'\n\n// Svg support test\n  SVG.supported = (function() {\n    return !! document.createElementNS &&\n      !! document.createElementNS(SVG.ns,'svg').createSVGRect\n  })()\n\n// Don't bother to continue if SVG is not supported\n  if (!SVG.supported) return false\n\n// Element id sequence\n  SVG.did  = 1000\n\n// Get next named element id\n  SVG.eid = function(name) {\n    return 'Svgjs' + capitalize(name) + (SVG.did++)\n  }\n\n// Method for element creation\n  SVG.create = function(name) {\n    // create element\n    var element = document.createElementNS(this.ns, name)\n\n    // apply unique id\n    element.setAttribute('id', this.eid(name))\n\n    return element\n  }\n\n// Method for extending objects\n  SVG.extend = function() {\n    var modules, methods, key, i\n\n    // Get list of modules\n    modules = [].slice.call(arguments)\n\n    // Get object with extensions\n    methods = modules.pop()\n\n    for (i = modules.length - 1; i >= 0; i--)\n      if (modules[i])\n        for (key in methods)\n          modules[i].prototype[key] = methods[key]\n\n    // Make sure SVG.Set inherits any newly added methods\n    if (SVG.Set && SVG.Set.inherit)\n      SVG.Set.inherit()\n  }\n\n// Invent new element\n  SVG.invent = function(config) {\n    // Create element initializer\n    var initializer = typeof config.create == 'function' ?\n      config.create :\n      function() {\n        this.constructor.call(this, SVG.create(config.create))\n      }\n\n    // Inherit prototype\n    if (config.inherit)\n      initializer.prototype = new config.inherit\n\n    // Extend with methods\n    if (config.extend)\n      SVG.extend(initializer, config.extend)\n\n    // Attach construct method to parent\n    if (config.construct)\n      SVG.extend(config.parent || SVG.Container, config.construct)\n\n    return initializer\n  }\n\n// Adopt existing svg elements\n  SVG.adopt = function(node) {\n    // check for presence of node\n    if (!node) return null\n\n    // make sure a node isn't already adopted\n    if (node.instance) return node.instance\n\n    // initialize variables\n    var element\n\n    // adopt with element-specific settings\n    if (node.nodeName == 'svg')\n      element = node.parentNode instanceof window.SVGElement ? new SVG.Nested : new SVG.Doc\n    else if (node.nodeName == 'linearGradient')\n      element = new SVG.Gradient('linear')\n    else if (node.nodeName == 'radialGradient')\n      element = new SVG.Gradient('radial')\n    else if (SVG[capitalize(node.nodeName)])\n      element = new SVG[capitalize(node.nodeName)]\n    else\n      element = new SVG.Element(node)\n\n    // ensure references\n    element.type  = node.nodeName\n    element.node  = node\n    node.instance = element\n\n    // SVG.Class specific preparations\n    if (element instanceof SVG.Doc)\n      element.namespace().defs()\n\n    // pull svgjs data from the dom (getAttributeNS doesn't work in html5)\n    element.setData(JSON.parse(node.getAttribute('svgjs:data')) || {})\n\n    return element\n  }\n\n// Initialize parsing element\n  SVG.prepare = function() {\n    // Select document body and create invisible svg element\n    var body = document.getElementsByTagName('body')[0]\n      , draw = (body ? new SVG.Doc(body) : SVG.adopt(document.documentElement).nested()).size(2, 0)\n\n    // Create parser object\n    SVG.parser = {\n      body: body || document.documentElement\n      , draw: draw.style('opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden').attr('focusable', 'false').node\n      , poly: draw.polyline().node\n      , path: draw.path().node\n      , native: SVG.create('svg')\n    }\n  }\n\n  SVG.parser = {\n    native: SVG.create('svg')\n  }\n\n  document.addEventListener('DOMContentLoaded', function() {\n    if(!SVG.parser.draw)\n      SVG.prepare()\n  }, false)\n\n// Storage for regular expressions\n  SVG.regex = {\n    // Parse unit value\n    numberAndUnit:    /^([+-]?(\\d+(\\.\\d*)?|\\.\\d+)(e[+-]?\\d+)?)([a-z%]*)$/i\n\n    // Parse hex value\n    , hex:              /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i\n\n    // Parse rgb value\n    , rgb:              /rgb\\((\\d+),(\\d+),(\\d+)\\)/\n\n    // Parse reference id\n    , reference:        /#([a-z0-9\\-_]+)/i\n\n    // splits a transformation chain\n    , transforms:       /\\)\\s*,?\\s*/\n\n    // Whitespace\n    , whitespace:       /\\s/g\n\n    // Test hex value\n    , isHex:            /^#[a-f0-9]{3,6}$/i\n\n    // Test rgb value\n    , isRgb:            /^rgb\\(/\n\n    // Test css declaration\n    , isCss:            /[^:]+:[^;]+;?/\n\n    // Test for blank string\n    , isBlank:          /^(\\s+)?$/\n\n    // Test for numeric string\n    , isNumber:         /^[+-]?(\\d+(\\.\\d*)?|\\.\\d+)(e[+-]?\\d+)?$/i\n\n    // Test for percent value\n    , isPercent:        /^-?[\\d\\.]+%$/\n\n    // Test for image url\n    , isImage:          /\\.(jpg|jpeg|png|gif|svg)(\\?[^=]+.*)?/i\n\n    // split at whitespace and comma\n    , delimiter:        /[\\s,]+/\n\n    // The following regex are used to parse the d attribute of a path\n\n    // Matches all hyphens which are not after an exponent\n    , hyphen:           /([^e])\\-/gi\n\n    // Replaces and tests for all path letters\n    , pathLetters:      /[MLHVCSQTAZ]/gi\n\n    // yes we need this one, too\n    , isPathLetter:     /[MLHVCSQTAZ]/i\n\n    // matches 0.154.23.45\n    , numbersWithDots:  /((\\d?\\.\\d+(?:e[+-]?\\d+)?)((?:\\.\\d+(?:e[+-]?\\d+)?)+))+/gi\n\n    // matches .\n    , dots:             /\\./g\n  }\n\n  SVG.utils = {\n    // Map function\n    map: function(array, block) {\n      var i\n        , il = array.length\n        , result = []\n\n      for (i = 0; i < il; i++)\n        result.push(block(array[i]))\n\n      return result\n    }\n\n    // Filter function\n    , filter: function(array, block) {\n      var i\n        , il = array.length\n        , result = []\n\n      for (i = 0; i < il; i++)\n        if (block(array[i]))\n          result.push(array[i])\n\n      return result\n    }\n\n    // Degrees to radians\n    , radians: function(d) {\n      return d % 360 * Math.PI / 180\n    }\n\n    // Radians to degrees\n    , degrees: function(r) {\n      return r * 180 / Math.PI % 360\n    }\n\n    , filterSVGElements: function(nodes) {\n      return this.filter( nodes, function(el) { return el instanceof window.SVGElement })\n    }\n\n  }\n\n  SVG.defaults = {\n    // Default attribute values\n    attrs: {\n      // fill and stroke\n      'fill-opacity':     1\n      , 'stroke-opacity':   1\n      , 'stroke-width':     0\n      , 'stroke-linejoin':  'miter'\n      , 'stroke-linecap':   'butt'\n      , fill:               '#000000'\n      , stroke:             '#000000'\n      , opacity:            1\n      // position\n      , x:                  0\n      , y:                  0\n      , cx:                 0\n      , cy:                 0\n      // size\n      , width:              0\n      , height:             0\n      // radius\n      , r:                  0\n      , rx:                 0\n      , ry:                 0\n      // gradient\n      , offset:             0\n      , 'stop-opacity':     1\n      , 'stop-color':       '#000000'\n      // text\n      , 'font-size':        16\n      , 'font-family':      'Helvetica, Arial, sans-serif'\n      , 'text-anchor':      'start'\n    }\n\n  }\n// Module for color convertions\n  SVG.Color = function(color) {\n    var match\n\n    // initialize defaults\n    this.r = 0\n    this.g = 0\n    this.b = 0\n\n    if(!color) return\n\n    // parse color\n    if (typeof color === 'string') {\n      if (SVG.regex.isRgb.test(color)) {\n        // get rgb values\n        match = SVG.regex.rgb.exec(color.replace(SVG.regex.whitespace,''))\n\n        // parse numeric values\n        this.r = parseInt(match[1])\n        this.g = parseInt(match[2])\n        this.b = parseInt(match[3])\n\n      } else if (SVG.regex.isHex.test(color)) {\n        // get hex values\n        match = SVG.regex.hex.exec(fullHex(color))\n\n        // parse numeric values\n        this.r = parseInt(match[1], 16)\n        this.g = parseInt(match[2], 16)\n        this.b = parseInt(match[3], 16)\n\n      }\n\n    } else if (typeof color === 'object') {\n      this.r = color.r\n      this.g = color.g\n      this.b = color.b\n\n    }\n\n  }\n\n  SVG.extend(SVG.Color, {\n    // Default to hex conversion\n    toString: function() {\n      return this.toHex()\n    }\n    // Build hex value\n    , toHex: function() {\n      return '#'\n        + compToHex(this.r)\n        + compToHex(this.g)\n        + compToHex(this.b)\n    }\n    // Build rgb value\n    , toRgb: function() {\n      return 'rgb(' + [this.r, this.g, this.b].join() + ')'\n    }\n    // Calculate true brightness\n    , brightness: function() {\n      return (this.r / 255 * 0.30)\n        + (this.g / 255 * 0.59)\n        + (this.b / 255 * 0.11)\n    }\n    // Make color morphable\n    , morph: function(color) {\n      this.destination = new SVG.Color(color)\n\n      return this\n    }\n    // Get morphed color at given position\n    , at: function(pos) {\n      // make sure a destination is defined\n      if (!this.destination) return this\n\n      // normalise pos\n      pos = pos < 0 ? 0 : pos > 1 ? 1 : pos\n\n      // generate morphed color\n      return new SVG.Color({\n        r: ~~(this.r + (this.destination.r - this.r) * pos)\n        , g: ~~(this.g + (this.destination.g - this.g) * pos)\n        , b: ~~(this.b + (this.destination.b - this.b) * pos)\n      })\n    }\n\n  })\n\n// Testers\n\n// Test if given value is a color string\n  SVG.Color.test = function(color) {\n    color += ''\n    return SVG.regex.isHex.test(color)\n      || SVG.regex.isRgb.test(color)\n  }\n\n// Test if given value is a rgb object\n  SVG.Color.isRgb = function(color) {\n    return color && typeof color.r == 'number'\n      && typeof color.g == 'number'\n      && typeof color.b == 'number'\n  }\n\n// Test if given value is a color\n  SVG.Color.isColor = function(color) {\n    return SVG.Color.isRgb(color) || SVG.Color.test(color)\n  }\n// Module for array conversion\n  SVG.Array = function(array, fallback) {\n    array = (array || []).valueOf()\n\n    // if array is empty and fallback is provided, use fallback\n    if (array.length == 0 && fallback)\n      array = fallback.valueOf()\n\n    // parse array\n    this.value = this.parse(array)\n  }\n\n  SVG.extend(SVG.Array, {\n    // Make array morphable\n    morph: function(array) {\n      this.destination = this.parse(array)\n\n      // normalize length of arrays\n      if (this.value.length != this.destination.length) {\n        var lastValue       = this.value[this.value.length - 1]\n          , lastDestination = this.destination[this.destination.length - 1]\n\n        while(this.value.length > this.destination.length)\n          this.destination.push(lastDestination)\n        while(this.value.length < this.destination.length)\n          this.value.push(lastValue)\n      }\n\n      return this\n    }\n    // Clean up any duplicate points\n    , settle: function() {\n      // find all unique values\n      for (var i = 0, il = this.value.length, seen = []; i < il; i++)\n        if (seen.indexOf(this.value[i]) == -1)\n          seen.push(this.value[i])\n\n      // set new value\n      return this.value = seen\n    }\n    // Get morphed array at given position\n    , at: function(pos) {\n      // make sure a destination is defined\n      if (!this.destination) return this\n\n      // generate morphed array\n      for (var i = 0, il = this.value.length, array = []; i < il; i++)\n        array.push(this.value[i] + (this.destination[i] - this.value[i]) * pos)\n\n      return new SVG.Array(array)\n    }\n    // Convert array to string\n    , toString: function() {\n      return this.value.join(' ')\n    }\n    // Real value\n    , valueOf: function() {\n      return this.value\n    }\n    // Parse whitespace separated string\n    , parse: function(array) {\n      array = array.valueOf()\n\n      // if already is an array, no need to parse it\n      if (Array.isArray(array)) return array\n\n      return this.split(array)\n    }\n    // Strip unnecessary whitespace\n    , split: function(string) {\n      return string.trim().split(SVG.regex.delimiter).map(parseFloat)\n    }\n    // Reverse array\n    , reverse: function() {\n      this.value.reverse()\n\n      return this\n    }\n    , clone: function() {\n      var clone = new this.constructor()\n      clone.value = array_clone(this.value)\n      return clone\n    }\n  })\n// Poly points array\n  SVG.PointArray = function(array, fallback) {\n    SVG.Array.call(this, array, fallback || [[0,0]])\n  }\n\n// Inherit from SVG.Array\n  SVG.PointArray.prototype = new SVG.Array\n  SVG.PointArray.prototype.constructor = SVG.PointArray\n\n  SVG.extend(SVG.PointArray, {\n    // Convert array to string\n    toString: function() {\n      // convert to a poly point string\n      for (var i = 0, il = this.value.length, array = []; i < il; i++)\n        array.push(this.value[i].join(','))\n\n      return array.join(' ')\n    }\n    // Convert array to line object\n    , toLine: function() {\n      return {\n        x1: this.value[0][0]\n        , y1: this.value[0][1]\n        , x2: this.value[1][0]\n        , y2: this.value[1][1]\n      }\n    }\n    // Get morphed array at given position\n    , at: function(pos) {\n      // make sure a destination is defined\n      if (!this.destination) return this\n\n      // generate morphed point string\n      for (var i = 0, il = this.value.length, array = []; i < il; i++)\n        array.push([\n          this.value[i][0] + (this.destination[i][0] - this.value[i][0]) * pos\n          , this.value[i][1] + (this.destination[i][1] - this.value[i][1]) * pos\n        ])\n\n      return new SVG.PointArray(array)\n    }\n    // Parse point string and flat array\n    , parse: function(array) {\n      var points = []\n\n      array = array.valueOf()\n\n      // if it is an array\n      if (Array.isArray(array)) {\n        // and it is not flat, there is no need to parse it\n        if(Array.isArray(array[0])) {\n          // make sure to use a clone\n          return array.map(function (el) { return el.slice() })\n        } else if (array[0].x != null){\n          // allow point objects to be passed\n          return array.map(function (el) { return [el.x, el.y] })\n        }\n      } else { // Else, it is considered as a string\n        // parse points\n        array = array.trim().split(SVG.regex.delimiter).map(parseFloat)\n      }\n\n      // validate points - https://svgwg.org/svg2-draft/shapes.html#DataTypePoints\n      // Odd number of coordinates is an error. In such cases, drop the last odd coordinate.\n      if (array.length % 2 !== 0) array.pop()\n\n      // wrap points in two-tuples and parse points as floats\n      for(var i = 0, len = array.length; i < len; i = i + 2)\n        points.push([ array[i], array[i+1] ])\n\n      return points\n    }\n    // Move point string\n    , move: function(x, y) {\n      var box = this.bbox()\n\n      // get relative offset\n      x -= box.x\n      y -= box.y\n\n      // move every point\n      if (!isNaN(x) && !isNaN(y))\n        for (var i = this.value.length - 1; i >= 0; i--)\n          this.value[i] = [this.value[i][0] + x, this.value[i][1] + y]\n\n      return this\n    }\n    // Resize poly string\n    , size: function(width, height) {\n      var i, box = this.bbox()\n\n      // recalculate position of all points according to new size\n      for (i = this.value.length - 1; i >= 0; i--) {\n        if(box.width) this.value[i][0] = ((this.value[i][0] - box.x) * width)  / box.width  + box.x\n        if(box.height) this.value[i][1] = ((this.value[i][1] - box.y) * height) / box.height + box.y\n      }\n\n      return this\n    }\n    // Get bounding box of points\n    , bbox: function() {\n      SVG.parser.poly.setAttribute('points', this.toString())\n\n      return SVG.parser.poly.getBBox()\n    }\n  })\n\n  var pathHandlers = {\n    M: function(c, p, p0) {\n      p.x = p0.x = c[0]\n      p.y = p0.y = c[1]\n\n      return ['M', p.x, p.y]\n    },\n    L: function(c, p) {\n      p.x = c[0]\n      p.y = c[1]\n      return ['L', c[0], c[1]]\n    },\n    H: function(c, p) {\n      p.x = c[0]\n      return ['H', c[0]]\n    },\n    V: function(c, p) {\n      p.y = c[0]\n      return ['V', c[0]]\n    },\n    C: function(c, p) {\n      p.x = c[4]\n      p.y = c[5]\n      return ['C', c[0], c[1], c[2], c[3], c[4], c[5]]\n    },\n    S: function(c, p) {\n      p.x = c[2]\n      p.y = c[3]\n      return ['S', c[0], c[1], c[2], c[3]]\n    },\n    Q: function(c, p) {\n      p.x = c[2]\n      p.y = c[3]\n      return ['Q', c[0], c[1], c[2], c[3]]\n    },\n    T: function(c, p) {\n      p.x = c[0]\n      p.y = c[1]\n      return ['T', c[0], c[1]]\n    },\n    Z: function(c, p, p0) {\n      p.x = p0.x\n      p.y = p0.y\n      return ['Z']\n    },\n    A: function(c, p) {\n      p.x = c[5]\n      p.y = c[6]\n      return ['A', c[0], c[1], c[2], c[3], c[4], c[5], c[6]]\n    }\n  }\n\n  var mlhvqtcsa = 'mlhvqtcsaz'.split('')\n\n  for(var i = 0, il = mlhvqtcsa.length; i < il; ++i){\n    pathHandlers[mlhvqtcsa[i]] = (function(i){\n      return function(c, p, p0) {\n        if(i == 'H') c[0] = c[0] + p.x\n        else if(i == 'V') c[0] = c[0] + p.y\n        else if(i == 'A'){\n          c[5] = c[5] + p.x,\n            c[6] = c[6] + p.y\n        }\n        else\n          for(var j = 0, jl = c.length; j < jl; ++j) {\n            c[j] = c[j] + (j%2 ? p.y : p.x)\n          }\n\n        return pathHandlers[i](c, p, p0)\n      }\n    })(mlhvqtcsa[i].toUpperCase())\n  }\n\n// Path points array\n  SVG.PathArray = function(array, fallback) {\n    SVG.Array.call(this, array, fallback || [['M', 0, 0]])\n  }\n\n// Inherit from SVG.Array\n  SVG.PathArray.prototype = new SVG.Array\n  SVG.PathArray.prototype.constructor = SVG.PathArray\n\n  SVG.extend(SVG.PathArray, {\n    // Convert array to string\n    toString: function() {\n      return arrayToString(this.value)\n    }\n    // Move path string\n    , move: function(x, y) {\n      // get bounding box of current situation\n      var box = this.bbox()\n\n      // get relative offset\n      x -= box.x\n      y -= box.y\n\n      if (!isNaN(x) && !isNaN(y)) {\n        // move every point\n        for (var l, i = this.value.length - 1; i >= 0; i--) {\n          l = this.value[i][0]\n\n          if (l == 'M' || l == 'L' || l == 'T')  {\n            this.value[i][1] += x\n            this.value[i][2] += y\n\n          } else if (l == 'H')  {\n            this.value[i][1] += x\n\n          } else if (l == 'V')  {\n            this.value[i][1] += y\n\n          } else if (l == 'C' || l == 'S' || l == 'Q')  {\n            this.value[i][1] += x\n            this.value[i][2] += y\n            this.value[i][3] += x\n            this.value[i][4] += y\n\n            if (l == 'C')  {\n              this.value[i][5] += x\n              this.value[i][6] += y\n            }\n\n          } else if (l == 'A')  {\n            this.value[i][6] += x\n            this.value[i][7] += y\n          }\n\n        }\n      }\n\n      return this\n    }\n    // Resize path string\n    , size: function(width, height) {\n      // get bounding box of current situation\n      var i, l, box = this.bbox()\n\n      // recalculate position of all points according to new size\n      for (i = this.value.length - 1; i >= 0; i--) {\n        l = this.value[i][0]\n\n        if (l == 'M' || l == 'L' || l == 'T')  {\n          this.value[i][1] = ((this.value[i][1] - box.x) * width)  / box.width  + box.x\n          this.value[i][2] = ((this.value[i][2] - box.y) * height) / box.height + box.y\n\n        } else if (l == 'H')  {\n          this.value[i][1] = ((this.value[i][1] - box.x) * width)  / box.width  + box.x\n\n        } else if (l == 'V')  {\n          this.value[i][1] = ((this.value[i][1] - box.y) * height) / box.height + box.y\n\n        } else if (l == 'C' || l == 'S' || l == 'Q')  {\n          this.value[i][1] = ((this.value[i][1] - box.x) * width)  / box.width  + box.x\n          this.value[i][2] = ((this.value[i][2] - box.y) * height) / box.height + box.y\n          this.value[i][3] = ((this.value[i][3] - box.x) * width)  / box.width  + box.x\n          this.value[i][4] = ((this.value[i][4] - box.y) * height) / box.height + box.y\n\n          if (l == 'C')  {\n            this.value[i][5] = ((this.value[i][5] - box.x) * width)  / box.width  + box.x\n            this.value[i][6] = ((this.value[i][6] - box.y) * height) / box.height + box.y\n          }\n\n        } else if (l == 'A')  {\n          // resize radii\n          this.value[i][1] = (this.value[i][1] * width)  / box.width\n          this.value[i][2] = (this.value[i][2] * height) / box.height\n\n          // move position values\n          this.value[i][6] = ((this.value[i][6] - box.x) * width)  / box.width  + box.x\n          this.value[i][7] = ((this.value[i][7] - box.y) * height) / box.height + box.y\n        }\n\n      }\n\n      return this\n    }\n    // Test if the passed path array use the same path data commands as this path array\n    , equalCommands: function(pathArray) {\n      var i, il, equalCommands\n\n      pathArray = new SVG.PathArray(pathArray)\n\n      equalCommands = this.value.length === pathArray.value.length\n      for(i = 0, il = this.value.length; equalCommands && i < il; i++) {\n        equalCommands = this.value[i][0] === pathArray.value[i][0]\n      }\n\n      return equalCommands\n    }\n    // Make path array morphable\n    , morph: function(pathArray) {\n      pathArray = new SVG.PathArray(pathArray)\n\n      if(this.equalCommands(pathArray)) {\n        this.destination = pathArray\n      } else {\n        this.destination = null\n      }\n\n      return this\n    }\n    // Get morphed path array at given position\n    , at: function(pos) {\n      // make sure a destination is defined\n      if (!this.destination) return this\n\n      var sourceArray = this.value\n        , destinationArray = this.destination.value\n        , array = [], pathArray = new SVG.PathArray()\n        , i, il, j, jl\n\n      // Animate has specified in the SVG spec\n      // See: https://www.w3.org/TR/SVG11/paths.html#PathElement\n      for (i = 0, il = sourceArray.length; i < il; i++) {\n        array[i] = [sourceArray[i][0]]\n        for(j = 1, jl = sourceArray[i].length; j < jl; j++) {\n          array[i][j] = sourceArray[i][j] + (destinationArray[i][j] - sourceArray[i][j]) * pos\n        }\n        // For the two flags of the elliptical arc command, the SVG spec say:\n        // Flags and booleans are interpolated as fractions between zero and one, with any non-zero value considered to be a value of one/true\n        // Elliptical arc command as an array followed by corresponding indexes:\n        // ['A', rx, ry, x-axis-rotation, large-arc-flag, sweep-flag, x, y]\n        //   0    1   2        3                 4             5      6  7\n        if(array[i][0] === 'A') {\n          array[i][4] = +(array[i][4] != 0)\n          array[i][5] = +(array[i][5] != 0)\n        }\n      }\n\n      // Directly modify the value of a path array, this is done this way for performance\n      pathArray.value = array\n      return pathArray\n    }\n    // Absolutize and parse path to array\n    , parse: function(array) {\n      // if it's already a patharray, no need to parse it\n      if (array instanceof SVG.PathArray) return array.valueOf()\n\n      // prepare for parsing\n      var i, x0, y0, s, seg, arr\n        , x = 0\n        , y = 0\n        , paramCnt = { 'M':2, 'L':2, 'H':1, 'V':1, 'C':6, 'S':4, 'Q':4, 'T':2, 'A':7, 'Z':0 }\n\n      if(typeof array == 'string'){\n\n        array = array\n          .replace(SVG.regex.numbersWithDots, pathRegReplace) // convert 45.123.123 to 45.123 .123\n          .replace(SVG.regex.pathLetters, ' $& ') // put some room between letters and numbers\n          .replace(SVG.regex.hyphen, '$1 -')      // add space before hyphen\n          .trim()                                 // trim\n          .split(SVG.regex.delimiter)   // split into array\n\n      }else{\n        array = array.reduce(function(prev, curr){\n          return [].concat.call(prev, curr)\n        }, [])\n      }\n\n      // array now is an array containing all parts of a path e.g. ['M', '0', '0', 'L', '30', '30' ...]\n      var arr = []\n        , p = new SVG.Point()\n        , p0 = new SVG.Point()\n        , index = 0\n        , len = array.length\n\n      do{\n        // Test if we have a path letter\n        if(SVG.regex.isPathLetter.test(array[index])){\n          s = array[index]\n          ++index\n          // If last letter was a move command and we got no new, it defaults to [L]ine\n        }else if(s == 'M'){\n          s = 'L'\n        }else if(s == 'm'){\n          s = 'l'\n        }\n\n        arr.push(pathHandlers[s].call(null,\n          array.slice(index, (index = index + paramCnt[s.toUpperCase()])).map(parseFloat),\n          p, p0\n          )\n        )\n\n      }while(len > index)\n\n      return arr\n\n    }\n    // Get bounding box of path\n    , bbox: function() {\n      SVG.parser.path.setAttribute('d', this.toString())\n\n      return SVG.parser.path.getBBox()\n    }\n\n  })\n\n// Module for unit convertions\n  SVG.Number = SVG.invent({\n    // Initialize\n    create: function(value, unit) {\n      // initialize defaults\n      this.value = 0\n      this.unit  = unit || ''\n\n      // parse value\n      if (typeof value === 'number') {\n        // ensure a valid numeric value\n        this.value = isNaN(value) ? 0 : !isFinite(value) ? (value < 0 ? -3.4e+38 : +3.4e+38) : value\n\n      } else if (typeof value === 'string') {\n        unit = value.match(SVG.regex.numberAndUnit)\n\n        if (unit) {\n          // make value numeric\n          this.value = parseFloat(unit[1])\n\n          // normalize\n          if (unit[5] == '%')\n            this.value /= 100\n          else if (unit[5] == 's')\n            this.value *= 1000\n\n          // store unit\n          this.unit = unit[5]\n        }\n\n      } else {\n        if (value instanceof SVG.Number) {\n          this.value = value.valueOf()\n          this.unit  = value.unit\n        }\n      }\n\n    }\n    // Add methods\n    , extend: {\n      // Stringalize\n      toString: function() {\n        return (\n          this.unit == '%' ?\n            ~~(this.value * 1e8) / 1e6:\n            this.unit == 's' ?\n              this.value / 1e3 :\n              this.value\n        ) + this.unit\n      }\n      , toJSON: function() {\n        return this.toString()\n      }\n      , // Convert to primitive\n      valueOf: function() {\n        return this.value\n      }\n      // Add number\n      , plus: function(number) {\n        number = new SVG.Number(number)\n        return new SVG.Number(this + number, this.unit || number.unit)\n      }\n      // Subtract number\n      , minus: function(number) {\n        number = new SVG.Number(number)\n        return new SVG.Number(this - number, this.unit || number.unit)\n      }\n      // Multiply number\n      , times: function(number) {\n        number = new SVG.Number(number)\n        return new SVG.Number(this * number, this.unit || number.unit)\n      }\n      // Divide number\n      , divide: function(number) {\n        number = new SVG.Number(number)\n        return new SVG.Number(this / number, this.unit || number.unit)\n      }\n      // Convert to different unit\n      , to: function(unit) {\n        var number = new SVG.Number(this)\n\n        if (typeof unit === 'string')\n          number.unit = unit\n\n        return number\n      }\n      // Make number morphable\n      , morph: function(number) {\n        this.destination = new SVG.Number(number)\n\n        if(number.relative) {\n          this.destination.value += this.value\n        }\n\n        return this\n      }\n      // Get morphed number at given position\n      , at: function(pos) {\n        // Make sure a destination is defined\n        if (!this.destination) return this\n\n        // Generate new morphed number\n        return new SVG.Number(this.destination)\n          .minus(this)\n          .times(pos)\n          .plus(this)\n      }\n\n    }\n  })\n\n\n  SVG.Element = SVG.invent({\n    // Initialize node\n    create: function(node) {\n      // make stroke value accessible dynamically\n      this._stroke = SVG.defaults.attrs.stroke\n      this._event = null\n      this._events = {}\n\n      // initialize data object\n      this.dom = {}\n\n      // create circular reference\n      if (this.node = node) {\n        this.type = node.nodeName\n        this.node.instance = this\n        this._events = node._events || {}\n\n        // store current attribute value\n        this._stroke = node.getAttribute('stroke') || this._stroke\n      }\n    }\n\n    // Add class methods\n    , extend: {\n      // Move over x-axis\n      x: function(x) {\n        return this.attr('x', x)\n      }\n      // Move over y-axis\n      , y: function(y) {\n        return this.attr('y', y)\n      }\n      // Move by center over x-axis\n      , cx: function(x) {\n        return x == null ? this.x() + this.width() / 2 : this.x(x - this.width() / 2)\n      }\n      // Move by center over y-axis\n      , cy: function(y) {\n        return y == null ? this.y() + this.height() / 2 : this.y(y - this.height() / 2)\n      }\n      // Move element to given x and y values\n      , move: function(x, y) {\n        return this.x(x).y(y)\n      }\n      // Move element by its center\n      , center: function(x, y) {\n        return this.cx(x).cy(y)\n      }\n      // Set width of element\n      , width: function(width) {\n        return this.attr('width', width)\n      }\n      // Set height of element\n      , height: function(height) {\n        return this.attr('height', height)\n      }\n      // Set element size to given width and height\n      , size: function(width, height) {\n        var p = proportionalSize(this, width, height)\n\n        return this\n          .width(new SVG.Number(p.width))\n          .height(new SVG.Number(p.height))\n      }\n      // Clone element\n      , clone: function(parent) {\n        // write dom data to the dom so the clone can pickup the data\n        this.writeDataToDom()\n\n        // clone element and assign new id\n        var clone = assignNewId(this.node.cloneNode(true))\n\n        // insert the clone in the given parent or after myself\n        if(parent) parent.add(clone)\n        else this.after(clone)\n\n        return clone\n      }\n      // Remove element\n      , remove: function() {\n        if (this.parent())\n          this.parent().removeElement(this)\n\n        return this\n      }\n      // Replace element\n      , replace: function(element) {\n        this.after(element).remove()\n\n        return element\n      }\n      // Add element to given container and return self\n      , addTo: function(parent) {\n        return parent.put(this)\n      }\n      // Add element to given container and return container\n      , putIn: function(parent) {\n        return parent.add(this)\n      }\n      // Get / set id\n      , id: function(id) {\n        return this.attr('id', id)\n      }\n      // Checks whether the given point inside the bounding box of the element\n      , inside: function(x, y) {\n        var box = this.bbox()\n\n        return x > box.x\n          && y > box.y\n          && x < box.x + box.width\n          && y < box.y + box.height\n      }\n      // Show element\n      , show: function() {\n        return this.style('display', '')\n      }\n      // Hide element\n      , hide: function() {\n        return this.style('display', 'none')\n      }\n      // Is element visible?\n      , visible: function() {\n        return this.style('display') != 'none'\n      }\n      // Return id on string conversion\n      , toString: function() {\n        return this.attr('id')\n      }\n      // Return array of classes on the node\n      , classes: function() {\n        var attr = this.attr('class')\n\n        return attr == null ? [] : attr.trim().split(SVG.regex.delimiter)\n      }\n      // Return true if class exists on the node, false otherwise\n      , hasClass: function(name) {\n        return this.classes().indexOf(name) != -1\n      }\n      // Add class to the node\n      , addClass: function(name) {\n        if (!this.hasClass(name)) {\n          var array = this.classes()\n          array.push(name)\n          this.attr('class', array.join(' '))\n        }\n\n        return this\n      }\n      // Remove class from the node\n      , removeClass: function(name) {\n        if (this.hasClass(name)) {\n          this.attr('class', this.classes().filter(function(c) {\n            return c != name\n          }).join(' '))\n        }\n\n        return this\n      }\n      // Toggle the presence of a class on the node\n      , toggleClass: function(name) {\n        return this.hasClass(name) ? this.removeClass(name) : this.addClass(name)\n      }\n      // Get referenced element form attribute value\n      , reference: function(attr) {\n        return SVG.get(this.attr(attr))\n      }\n      // Returns the parent element instance\n      , parent: function(type) {\n        var parent = this\n\n        // check for parent\n        if(!parent.node.parentNode) return null\n\n        // get parent element\n        parent = SVG.adopt(parent.node.parentNode)\n\n        if(!type) return parent\n\n        // loop trough ancestors if type is given\n        while(parent && parent.node instanceof window.SVGElement){\n          if(typeof type === 'string' ? parent.matches(type) : parent instanceof type) return parent\n          if(!parent.node.parentNode || parent.node.parentNode.nodeName == '#document' || parent.node.parentNode.nodeName == '#document-fragment') return null // #759, #720\n          parent = SVG.adopt(parent.node.parentNode)\n        }\n      }\n      // Get parent document\n      , doc: function() {\n        return this instanceof SVG.Doc ? this : this.parent(SVG.Doc)\n      }\n      // return array of all ancestors of given type up to the root svg\n      , parents: function(type) {\n        var parents = [], parent = this\n\n        do{\n          parent = parent.parent(type)\n          if(!parent || !parent.node) break\n\n          parents.push(parent)\n        } while(parent.parent)\n\n        return parents\n      }\n      // matches the element vs a css selector\n      , matches: function(selector){\n        return matches(this.node, selector)\n      }\n      // Returns the svg node to call native svg methods on it\n      , native: function() {\n        return this.node\n      }\n      // Import raw svg\n      , svg: function(svg) {\n        // create temporary holder\n        var well = document.createElement('svg')\n\n        // act as a setter if svg is given\n        if (svg && this instanceof SVG.Parent) {\n          // dump raw svg\n          well.innerHTML = '<svg>' + svg.replace(/\\n/, '').replace(/<([\\w:-]+)([^<]+?)\\/>/g, '<$1$2></$1>') + '</svg>'\n\n          // transplant nodes\n          for (var i = 0, il = well.firstChild.childNodes.length; i < il; i++)\n            this.node.appendChild(well.firstChild.firstChild)\n\n          // otherwise act as a getter\n        } else {\n          // create a wrapping svg element in case of partial content\n          well.appendChild(svg = document.createElement('svg'))\n\n          // write svgjs data to the dom\n          this.writeDataToDom()\n\n          // insert a copy of this node\n          svg.appendChild(this.node.cloneNode(true))\n\n          // return target element\n          return well.innerHTML.replace(/^<svg>/, '').replace(/<\\/svg>$/, '')\n        }\n\n        return this\n      }\n      // write svgjs data to the dom\n      , writeDataToDom: function() {\n\n        // dump variables recursively\n        if(this.each || this.lines){\n          var fn = this.each ? this : this.lines();\n          fn.each(function(){\n            this.writeDataToDom()\n          })\n        }\n\n        // remove previously set data\n        this.node.removeAttribute('svgjs:data')\n\n        if(Object.keys(this.dom).length)\n          this.node.setAttribute('svgjs:data', JSON.stringify(this.dom)) // see #428\n\n        return this\n      }\n      // set given data to the elements data property\n      , setData: function(o){\n        this.dom = o\n        return this\n      }\n      , is: function(obj){\n        return is(this, obj)\n      }\n    }\n  })\n\n  SVG.easing = {\n    '-': function(pos){return pos}\n    , '<>':function(pos){return -Math.cos(pos * Math.PI) / 2 + 0.5}\n    , '>': function(pos){return  Math.sin(pos * Math.PI / 2)}\n    , '<': function(pos){return -Math.cos(pos * Math.PI / 2) + 1}\n  }\n\n  SVG.morph = function(pos){\n    return function(from, to) {\n      return new SVG.MorphObj(from, to).at(pos)\n    }\n  }\n\n  SVG.Situation = SVG.invent({\n\n    create: function(o){\n      this.init = false\n      this.reversed = false\n      this.reversing = false\n\n      this.duration = new SVG.Number(o.duration).valueOf()\n      this.delay = new SVG.Number(o.delay).valueOf()\n\n      this.start = +new Date() + this.delay\n      this.finish = this.start + this.duration\n      this.ease = o.ease\n\n      // this.loop is incremented from 0 to this.loops\n      // it is also incremented when in an infinite loop (when this.loops is true)\n      this.loop = 0\n      this.loops = false\n\n      this.animations = {\n        // functionToCall: [list of morphable objects]\n        // e.g. move: [SVG.Number, SVG.Number]\n      }\n\n      this.attrs = {\n        // holds all attributes which are not represented from a function svg.js provides\n        // e.g. someAttr: SVG.Number\n      }\n\n      this.styles = {\n        // holds all styles which should be animated\n        // e.g. fill-color: SVG.Color\n      }\n\n      this.transforms = [\n        // holds all transformations as transformation objects\n        // e.g. [SVG.Rotate, SVG.Translate, SVG.Matrix]\n      ]\n\n      this.once = {\n        // functions to fire at a specific position\n        // e.g. \"0.5\": function foo(){}\n      }\n\n    }\n\n  })\n\n\n  SVG.FX = SVG.invent({\n\n    create: function(element) {\n      this._target = element\n      this.situations = []\n      this.active = false\n      this.situation = null\n      this.paused = false\n      this.lastPos = 0\n      this.pos = 0\n      // The absolute position of an animation is its position in the context of its complete duration (including delay and loops)\n      // When performing a delay, absPos is below 0 and when performing a loop, its value is above 1\n      this.absPos = 0\n      this._speed = 1\n    }\n\n    , extend: {\n\n      /**\n       * sets or returns the target of this animation\n       * @param o object || number In case of Object it holds all parameters. In case of number its the duration of the animation\n       * @param ease function || string Function which should be used for easing or easing keyword\n       * @param delay Number indicating the delay before the animation starts\n       * @return target || this\n       */\n      animate: function(o, ease, delay){\n\n        if(typeof o == 'object'){\n          ease = o.ease\n          delay = o.delay\n          o = o.duration\n        }\n\n        var situation = new SVG.Situation({\n          duration: o || 1000,\n          delay: delay || 0,\n          ease: SVG.easing[ease || '-'] || ease\n        })\n\n        this.queue(situation)\n\n        return this\n      }\n\n      /**\n       * sets a delay before the next element of the queue is called\n       * @param delay Duration of delay in milliseconds\n       * @return this.target()\n       */\n      , delay: function(delay){\n        // The delay is performed by an empty situation with its duration\n        // attribute set to the duration of the delay\n        var situation = new SVG.Situation({\n          duration: delay,\n          delay: 0,\n          ease: SVG.easing['-']\n        })\n\n        return this.queue(situation)\n      }\n\n      /**\n       * sets or returns the target of this animation\n       * @param null || target SVG.Element which should be set as new target\n       * @return target || this\n       */\n      , target: function(target){\n        if(target && target instanceof SVG.Element){\n          this._target = target\n          return this\n        }\n\n        return this._target\n      }\n\n      // returns the absolute position at a given time\n      , timeToAbsPos: function(timestamp){\n        return (timestamp - this.situation.start) / (this.situation.duration/this._speed)\n      }\n\n      // returns the timestamp from a given absolute positon\n      , absPosToTime: function(absPos){\n        return this.situation.duration/this._speed * absPos + this.situation.start\n      }\n\n      // starts the animationloop\n      , startAnimFrame: function(){\n        this.stopAnimFrame()\n        this.animationFrame = window.requestAnimationFrame(function(){ this.step() }.bind(this))\n      }\n\n      // cancels the animationframe\n      , stopAnimFrame: function(){\n        window.cancelAnimationFrame(this.animationFrame)\n      }\n\n      // kicks off the animation - only does something when the queue is currently not active and at least one situation is set\n      , start: function(){\n        // dont start if already started\n        if(!this.active && this.situation){\n          this.active = true\n          this.startCurrent()\n        }\n\n        return this\n      }\n\n      // start the current situation\n      , startCurrent: function(){\n        this.situation.start = +new Date + this.situation.delay/this._speed\n        this.situation.finish = this.situation.start + this.situation.duration/this._speed\n        return this.initAnimations().step()\n      }\n\n      /**\n       * adds a function / Situation to the animation queue\n       * @param fn function / situation to add\n       * @return this\n       */\n      , queue: function(fn){\n        if(typeof fn == 'function' || fn instanceof SVG.Situation)\n          this.situations.push(fn)\n\n        if(!this.situation) this.situation = this.situations.shift()\n\n        return this\n      }\n\n      /**\n       * pulls next element from the queue and execute it\n       * @return this\n       */\n      , dequeue: function(){\n        // stop current animation\n        this.stop()\n\n        // get next animation from queue\n        this.situation = this.situations.shift()\n\n        if(this.situation){\n          if(this.situation instanceof SVG.Situation) {\n            this.start()\n          } else {\n            // If it is not a SVG.Situation, then it is a function, we execute it\n            this.situation.call(this)\n          }\n        }\n\n        return this\n      }\n\n      // updates all animations to the current state of the element\n      // this is important when one property could be changed from another property\n      , initAnimations: function() {\n        var i, j, source\n        var s = this.situation\n\n        if(s.init) return this\n\n        for(i in s.animations){\n          source = this.target()[i]()\n\n          if(!Array.isArray(source)) {\n            source = [source]\n          }\n\n          if(!Array.isArray(s.animations[i])) {\n            s.animations[i] = [s.animations[i]]\n          }\n\n          //if(s.animations[i].length > source.length) {\n          //  source.concat = source.concat(s.animations[i].slice(source.length, s.animations[i].length))\n          //}\n\n          for(j = source.length; j--;) {\n            // The condition is because some methods return a normal number instead\n            // of a SVG.Number\n            if(s.animations[i][j] instanceof SVG.Number)\n              source[j] = new SVG.Number(source[j])\n\n            s.animations[i][j] = source[j].morph(s.animations[i][j])\n          }\n        }\n\n        for(i in s.attrs){\n          s.attrs[i] = new SVG.MorphObj(this.target().attr(i), s.attrs[i])\n        }\n\n        for(i in s.styles){\n          s.styles[i] = new SVG.MorphObj(this.target().style(i), s.styles[i])\n        }\n\n        s.initialTransformation = this.target().matrixify()\n\n        s.init = true\n        return this\n      }\n      , clearQueue: function(){\n        this.situations = []\n        return this\n      }\n      , clearCurrent: function(){\n        this.situation = null\n        return this\n      }\n      /** stops the animation immediately\n       * @param jumpToEnd A Boolean indicating whether to complete the current animation immediately.\n       * @param clearQueue A Boolean indicating whether to remove queued animation as well.\n       * @return this\n       */\n      , stop: function(jumpToEnd, clearQueue){\n        var active = this.active\n        this.active = false\n\n        if(clearQueue){\n          this.clearQueue()\n        }\n\n        if(jumpToEnd && this.situation){\n          // initialize the situation if it was not\n          !active && this.startCurrent()\n          this.atEnd()\n        }\n\n        this.stopAnimFrame()\n\n        return this.clearCurrent()\n      }\n\n      /** resets the element to the state where the current element has started\n       * @return this\n       */\n      , reset: function(){\n        if(this.situation){\n          var temp = this.situation\n          this.stop()\n          this.situation = temp\n          this.atStart()\n        }\n        return this\n      }\n\n      // Stop the currently-running animation, remove all queued animations, and complete all animations for the element.\n      , finish: function(){\n\n        this.stop(true, false)\n\n        while(this.dequeue().situation && this.stop(true, false));\n\n        this.clearQueue().clearCurrent()\n\n        return this\n      }\n\n      // set the internal animation pointer at the start position, before any loops, and updates the visualisation\n      , atStart: function() {\n        return this.at(0, true)\n      }\n\n      // set the internal animation pointer at the end position, after all the loops, and updates the visualisation\n      , atEnd: function() {\n        if (this.situation.loops === true) {\n          // If in a infinite loop, we end the current iteration\n          this.situation.loops = this.situation.loop + 1\n        }\n\n        if(typeof this.situation.loops == 'number') {\n          // If performing a finite number of loops, we go after all the loops\n          return this.at(this.situation.loops, true)\n        } else {\n          // If no loops, we just go at the end\n          return this.at(1, true)\n        }\n      }\n\n      // set the internal animation pointer to the specified position and updates the visualisation\n      // if isAbsPos is true, pos is treated as an absolute position\n      , at: function(pos, isAbsPos){\n        var durDivSpd = this.situation.duration/this._speed\n\n        this.absPos = pos\n        // If pos is not an absolute position, we convert it into one\n        if (!isAbsPos) {\n          if (this.situation.reversed) this.absPos = 1 - this.absPos\n          this.absPos += this.situation.loop\n        }\n\n        this.situation.start = +new Date - this.absPos * durDivSpd\n        this.situation.finish = this.situation.start + durDivSpd\n\n        return this.step(true)\n      }\n\n      /**\n       * sets or returns the speed of the animations\n       * @param speed null || Number The new speed of the animations\n       * @return Number || this\n       */\n      , speed: function(speed){\n        if (speed === 0) return this.pause()\n\n        if (speed) {\n          this._speed = speed\n          // We use an absolute position here so that speed can affect the delay before the animation\n          return this.at(this.absPos, true)\n        } else return this._speed\n      }\n\n      // Make loopable\n      , loop: function(times, reverse) {\n        var c = this.last()\n\n        // store total loops\n        c.loops = (times != null) ? times : true\n        c.loop = 0\n\n        if(reverse) c.reversing = true\n        return this\n      }\n\n      // pauses the animation\n      , pause: function(){\n        this.paused = true\n        this.stopAnimFrame()\n\n        return this\n      }\n\n      // unpause the animation\n      , play: function(){\n        if(!this.paused) return this\n        this.paused = false\n        // We use an absolute position here so that the delay before the animation can be paused\n        return this.at(this.absPos, true)\n      }\n\n      /**\n       * toggle or set the direction of the animation\n       * true sets direction to backwards while false sets it to forwards\n       * @param reversed Boolean indicating whether to reverse the animation or not (default: toggle the reverse status)\n       * @return this\n       */\n      , reverse: function(reversed){\n        var c = this.last()\n\n        if(typeof reversed == 'undefined') c.reversed = !c.reversed\n        else c.reversed = reversed\n\n        return this\n      }\n\n\n      /**\n       * returns a float from 0-1 indicating the progress of the current animation\n       * @param eased Boolean indicating whether the returned position should be eased or not\n       * @return number\n       */\n      , progress: function(easeIt){\n        return easeIt ? this.situation.ease(this.pos) : this.pos\n      }\n\n      /**\n       * adds a callback function which is called when the current animation is finished\n       * @param fn Function which should be executed as callback\n       * @return number\n       */\n      , after: function(fn){\n        var c = this.last()\n          , wrapper = function wrapper(e){\n          if(e.detail.situation == c){\n            fn.call(this, c)\n            this.off('finished.fx', wrapper) // prevent memory leak\n          }\n        }\n\n        this.target().on('finished.fx', wrapper)\n\n        return this._callStart()\n      }\n\n      // adds a callback which is called whenever one animation step is performed\n      , during: function(fn){\n        var c = this.last()\n          , wrapper = function(e){\n          if(e.detail.situation == c){\n            fn.call(this, e.detail.pos, SVG.morph(e.detail.pos), e.detail.eased, c)\n          }\n        }\n\n        // see above\n        this.target().off('during.fx', wrapper).on('during.fx', wrapper)\n\n        this.after(function(){\n          this.off('during.fx', wrapper)\n        })\n\n        return this._callStart()\n      }\n\n      // calls after ALL animations in the queue are finished\n      , afterAll: function(fn){\n        var wrapper = function wrapper(e){\n          fn.call(this)\n          this.off('allfinished.fx', wrapper)\n        }\n\n        // see above\n        this.target().off('allfinished.fx', wrapper).on('allfinished.fx', wrapper)\n\n        return this._callStart()\n      }\n\n      // calls on every animation step for all animations\n      , duringAll: function(fn){\n        var wrapper = function(e){\n          fn.call(this, e.detail.pos, SVG.morph(e.detail.pos), e.detail.eased, e.detail.situation)\n        }\n\n        this.target().off('during.fx', wrapper).on('during.fx', wrapper)\n\n        this.afterAll(function(){\n          this.off('during.fx', wrapper)\n        })\n\n        return this._callStart()\n      }\n\n      , last: function(){\n        return this.situations.length ? this.situations[this.situations.length-1] : this.situation\n      }\n\n      // adds one property to the animations\n      , add: function(method, args, type){\n        this.last()[type || 'animations'][method] = args\n        return this._callStart()\n      }\n\n      /** perform one step of the animation\n       *  @param ignoreTime Boolean indicating whether to ignore time and use position directly or recalculate position based on time\n       *  @return this\n       */\n      , step: function(ignoreTime){\n\n        // convert current time to an absolute position\n        if(!ignoreTime) this.absPos = this.timeToAbsPos(+new Date)\n\n        // This part convert an absolute position to a position\n        if(this.situation.loops !== false) {\n          var absPos, absPosInt, lastLoop\n\n          // If the absolute position is below 0, we just treat it as if it was 0\n          absPos = Math.max(this.absPos, 0)\n          absPosInt = Math.floor(absPos)\n\n          if(this.situation.loops === true || absPosInt < this.situation.loops) {\n            this.pos = absPos - absPosInt\n            lastLoop = this.situation.loop\n            this.situation.loop = absPosInt\n          } else {\n            this.absPos = this.situation.loops\n            this.pos = 1\n            // The -1 here is because we don't want to toggle reversed when all the loops have been completed\n            lastLoop = this.situation.loop - 1\n            this.situation.loop = this.situation.loops\n          }\n\n          if(this.situation.reversing) {\n            // Toggle reversed if an odd number of loops as occured since the last call of step\n            this.situation.reversed = this.situation.reversed != Boolean((this.situation.loop - lastLoop) % 2)\n          }\n\n        } else {\n          // If there are no loop, the absolute position must not be above 1\n          this.absPos = Math.min(this.absPos, 1)\n          this.pos = this.absPos\n        }\n\n        // while the absolute position can be below 0, the position must not be below 0\n        if(this.pos < 0) this.pos = 0\n\n        if(this.situation.reversed) this.pos = 1 - this.pos\n\n\n        // apply easing\n        var eased = this.situation.ease(this.pos)\n\n        // call once-callbacks\n        for(var i in this.situation.once){\n          if(i > this.lastPos && i <= eased){\n            this.situation.once[i].call(this.target(), this.pos, eased)\n            delete this.situation.once[i]\n          }\n        }\n\n        // fire during callback with position, eased position and current situation as parameter\n        if(this.active) this.target().fire('during', {pos: this.pos, eased: eased, fx: this, situation: this.situation})\n\n        // the user may call stop or finish in the during callback\n        // so make sure that we still have a valid situation\n        if(!this.situation){\n          return this\n        }\n\n        // apply the actual animation to every property\n        this.eachAt()\n\n        // do final code when situation is finished\n        if((this.pos == 1 && !this.situation.reversed) || (this.situation.reversed && this.pos == 0)){\n\n          // stop animation callback\n          this.stopAnimFrame()\n\n          // fire finished callback with current situation as parameter\n          this.target().fire('finished', {fx:this, situation: this.situation})\n\n          if(!this.situations.length){\n            this.target().fire('allfinished')\n\n            // Recheck the length since the user may call animate in the afterAll callback\n            if(!this.situations.length){\n              this.target().off('.fx') // there shouldnt be any binding left, but to make sure...\n              this.active = false\n            }\n          }\n\n          // start next animation\n          if(this.active) this.dequeue()\n          else this.clearCurrent()\n\n        }else if(!this.paused && this.active){\n          // we continue animating when we are not at the end\n          this.startAnimFrame()\n        }\n\n        // save last eased position for once callback triggering\n        this.lastPos = eased\n        return this\n\n      }\n\n      // calculates the step for every property and calls block with it\n      , eachAt: function(){\n        var i, len, at, self = this, target = this.target(), s = this.situation\n\n        // apply animations which can be called trough a method\n        for(i in s.animations){\n\n          at = [].concat(s.animations[i]).map(function(el){\n            return typeof el !== 'string' && el.at ? el.at(s.ease(self.pos), self.pos) : el\n          })\n\n          target[i].apply(target, at)\n\n        }\n\n        // apply animation which has to be applied with attr()\n        for(i in s.attrs){\n\n          at = [i].concat(s.attrs[i]).map(function(el){\n            return typeof el !== 'string' && el.at ? el.at(s.ease(self.pos), self.pos) : el\n          })\n\n          target.attr.apply(target, at)\n\n        }\n\n        // apply animation which has to be applied with style()\n        for(i in s.styles){\n\n          at = [i].concat(s.styles[i]).map(function(el){\n            return typeof el !== 'string' && el.at ? el.at(s.ease(self.pos), self.pos) : el\n          })\n\n          target.style.apply(target, at)\n\n        }\n\n        // animate initialTransformation which has to be chained\n        if(s.transforms.length){\n\n          // get initial initialTransformation\n          at = s.initialTransformation\n          for(i = 0, len = s.transforms.length; i < len; i++){\n\n            // get next transformation in chain\n            var a = s.transforms[i]\n\n            // multiply matrix directly\n            if(a instanceof SVG.Matrix){\n\n              if(a.relative){\n                at = at.multiply(new SVG.Matrix().morph(a).at(s.ease(this.pos)))\n              }else{\n                at = at.morph(a).at(s.ease(this.pos))\n              }\n              continue\n            }\n\n            // when transformation is absolute we have to reset the needed transformation first\n            if(!a.relative)\n              a.undo(at.extract())\n\n            // and reapply it after\n            at = at.multiply(a.at(s.ease(this.pos)))\n\n          }\n\n          // set new matrix on element\n          target.matrix(at)\n        }\n\n        return this\n\n      }\n\n\n      // adds an once-callback which is called at a specific position and never again\n      , once: function(pos, fn, isEased){\n        var c = this.last()\n        if(!isEased) pos = c.ease(pos)\n\n        c.once[pos] = fn\n\n        return this\n      }\n\n      , _callStart: function() {\n        setTimeout(function(){this.start()}.bind(this), 0)\n        return this\n      }\n\n    }\n\n    , parent: SVG.Element\n\n    // Add method to parent elements\n    , construct: {\n      // Get fx module or create a new one, then animate with given duration and ease\n      animate: function(o, ease, delay) {\n        return (this.fx || (this.fx = new SVG.FX(this))).animate(o, ease, delay)\n      }\n      , delay: function(delay){\n        return (this.fx || (this.fx = new SVG.FX(this))).delay(delay)\n      }\n      , stop: function(jumpToEnd, clearQueue) {\n        if (this.fx)\n          this.fx.stop(jumpToEnd, clearQueue)\n\n        return this\n      }\n      , finish: function() {\n        if (this.fx)\n          this.fx.finish()\n\n        return this\n      }\n      // Pause current animation\n      , pause: function() {\n        if (this.fx)\n          this.fx.pause()\n\n        return this\n      }\n      // Play paused current animation\n      , play: function() {\n        if (this.fx)\n          this.fx.play()\n\n        return this\n      }\n      // Set/Get the speed of the animations\n      , speed: function(speed) {\n        if (this.fx)\n          if (speed == null)\n            return this.fx.speed()\n          else\n            this.fx.speed(speed)\n\n        return this\n      }\n    }\n\n  })\n\n// MorphObj is used whenever no morphable object is given\n  SVG.MorphObj = SVG.invent({\n\n    create: function(from, to){\n      // prepare color for morphing\n      if(SVG.Color.isColor(to)) return new SVG.Color(from).morph(to)\n      // check if we have a list of values\n      if(SVG.regex.delimiter.test(from)) {\n        // prepare path for morphing\n        if(SVG.regex.pathLetters.test(from)) return new SVG.PathArray(from).morph(to)\n        // prepare value list for morphing\n        else return new SVG.Array(from).morph(to)\n      }\n      // prepare number for morphing\n      if(SVG.regex.numberAndUnit.test(to)) return new SVG.Number(from).morph(to)\n\n      // prepare for plain morphing\n      this.value = from\n      this.destination = to\n    }\n\n    , extend: {\n      at: function(pos, real){\n        return real < 1 ? this.value : this.destination\n      },\n\n      valueOf: function(){\n        return this.value\n      }\n    }\n\n  })\n\n  SVG.extend(SVG.FX, {\n    // Add animatable attributes\n    attr: function(a, v, relative) {\n      // apply attributes individually\n      if (typeof a == 'object') {\n        for (var key in a)\n          this.attr(key, a[key])\n\n      } else {\n        this.add(a, v, 'attrs')\n      }\n\n      return this\n    }\n    // Add animatable styles\n    , style: function(s, v) {\n      if (typeof s == 'object')\n        for (var key in s)\n          this.style(key, s[key])\n\n      else\n        this.add(s, v, 'styles')\n\n      return this\n    }\n    // Animatable x-axis\n    , x: function(x, relative) {\n      if(this.target() instanceof SVG.G){\n        this.transform({x:x}, relative)\n        return this\n      }\n\n      var num = new SVG.Number(x)\n      num.relative = relative\n      return this.add('x', num)\n    }\n    // Animatable y-axis\n    , y: function(y, relative) {\n      if(this.target() instanceof SVG.G){\n        this.transform({y:y}, relative)\n        return this\n      }\n\n      var num = new SVG.Number(y)\n      num.relative = relative\n      return this.add('y', num)\n    }\n    // Animatable center x-axis\n    , cx: function(x) {\n      return this.add('cx', new SVG.Number(x))\n    }\n    // Animatable center y-axis\n    , cy: function(y) {\n      return this.add('cy', new SVG.Number(y))\n    }\n    // Add animatable move\n    , move: function(x, y) {\n      return this.x(x).y(y)\n    }\n    // Add animatable center\n    , center: function(x, y) {\n      return this.cx(x).cy(y)\n    }\n    // Add animatable size\n    , size: function(width, height) {\n      if (this.target() instanceof SVG.Text) {\n        // animate font size for Text elements\n        this.attr('font-size', width)\n\n      } else {\n        // animate bbox based size for all other elements\n        var box\n\n        if(!width || !height){\n          box = this.target().bbox()\n        }\n\n        if(!width){\n          width = box.width / box.height  * height\n        }\n\n        if(!height){\n          height = box.height / box.width  * width\n        }\n\n        this.add('width' , new SVG.Number(width))\n          .add('height', new SVG.Number(height))\n\n      }\n\n      return this\n    }\n    // Add animatable width\n    , width: function(width) {\n      return this.add('width', new SVG.Number(width))\n    }\n    // Add animatable height\n    , height: function(height) {\n      return this.add('height', new SVG.Number(height))\n    }\n    // Add animatable plot\n    , plot: function(a, b, c, d) {\n      // Lines can be plotted with 4 arguments\n      if(arguments.length == 4) {\n        return this.plot([a, b, c, d])\n      }\n\n      return this.add('plot', new (this.target().morphArray)(a))\n    }\n    // Add leading method\n    , leading: function(value) {\n      return this.target().leading ?\n        this.add('leading', new SVG.Number(value)) :\n        this\n    }\n    // Add animatable viewbox\n    , viewbox: function(x, y, width, height) {\n      if (this.target() instanceof SVG.Container) {\n        this.add('viewbox', new SVG.ViewBox(x, y, width, height))\n      }\n\n      return this\n    }\n    , update: function(o) {\n      if (this.target() instanceof SVG.Stop) {\n        if (typeof o == 'number' || o instanceof SVG.Number) {\n          return this.update({\n            offset:  arguments[0]\n            , color:   arguments[1]\n            , opacity: arguments[2]\n          })\n        }\n\n        if (o.opacity != null) this.attr('stop-opacity', o.opacity)\n        if (o.color   != null) this.attr('stop-color', o.color)\n        if (o.offset  != null) this.attr('offset', o.offset)\n      }\n\n      return this\n    }\n  })\n\n  SVG.Box = SVG.invent({\n    create: function(x, y, width, height) {\n      if (typeof x == 'object' && !(x instanceof SVG.Element)) {\n        // chromes getBoundingClientRect has no x and y property\n        return SVG.Box.call(this, x.left != null ? x.left : x.x , x.top != null ? x.top : x.y, x.width, x.height)\n      } else if (arguments.length == 4) {\n        this.x = x\n        this.y = y\n        this.width = width\n        this.height = height\n      }\n\n      // add center, right, bottom...\n      fullBox(this)\n    }\n    , extend: {\n      // Merge rect box with another, return a new instance\n      merge: function(box) {\n        var b = new this.constructor()\n\n        // merge boxes\n        b.x      = Math.min(this.x, box.x)\n        b.y      = Math.min(this.y, box.y)\n        b.width  = Math.max(this.x + this.width,  box.x + box.width)  - b.x\n        b.height = Math.max(this.y + this.height, box.y + box.height) - b.y\n\n        return fullBox(b)\n      }\n\n      , transform: function(m) {\n        var xMin = Infinity, xMax = -Infinity, yMin = Infinity, yMax = -Infinity, p, bbox\n\n        var pts = [\n          new SVG.Point(this.x, this.y),\n          new SVG.Point(this.x2, this.y),\n          new SVG.Point(this.x, this.y2),\n          new SVG.Point(this.x2, this.y2)\n        ]\n\n        pts.forEach(function(p) {\n          p = p.transform(m)\n          xMin = Math.min(xMin,p.x)\n          xMax = Math.max(xMax,p.x)\n          yMin = Math.min(yMin,p.y)\n          yMax = Math.max(yMax,p.y)\n        })\n\n        bbox = new this.constructor()\n        bbox.x = xMin\n        bbox.width = xMax-xMin\n        bbox.y = yMin\n        bbox.height = yMax-yMin\n\n        fullBox(bbox)\n\n        return bbox\n      }\n    }\n  })\n\n  SVG.BBox = SVG.invent({\n    // Initialize\n    create: function(element) {\n      SVG.Box.apply(this, [].slice.call(arguments))\n\n      // get values if element is given\n      if (element instanceof SVG.Element) {\n        var box\n\n        // yes this is ugly, but Firefox can be a pain when it comes to elements that are not yet rendered\n        try {\n\n          if (!document.documentElement.contains){\n            // This is IE - it does not support contains() for top-level SVGs\n            var topParent = element.node\n            while (topParent.parentNode){\n              topParent = topParent.parentNode\n            }\n            if (topParent != document) throw new Exception('Element not in the dom')\n          } else {\n            // the element is NOT in the dom, throw error\n            if(!document.documentElement.contains(element.node)) throw new Exception('Element not in the dom')\n          }\n\n          // find native bbox\n          box = element.node.getBBox()\n        } catch(e) {\n          if(element instanceof SVG.Shape){\n            var clone = element.clone(SVG.parser.draw.instance).show()\n            box = clone.node.getBBox()\n            clone.remove()\n          }else{\n            box = {\n              x:      element.node.clientLeft\n              , y:      element.node.clientTop\n              , width:  element.node.clientWidth\n              , height: element.node.clientHeight\n            }\n          }\n        }\n\n        SVG.Box.call(this, box)\n      }\n\n    }\n\n    // Define ancestor\n    , inherit: SVG.Box\n\n    // Define Parent\n    , parent: SVG.Element\n\n    // Constructor\n    , construct: {\n      // Get bounding box\n      bbox: function() {\n        return new SVG.BBox(this)\n      }\n    }\n\n  })\n\n  SVG.BBox.prototype.constructor = SVG.BBox\n\n\n  SVG.extend(SVG.Element, {\n    tbox: function(){\n      console.warn('Use of TBox is deprecated and mapped to RBox. Use .rbox() instead.')\n      return this.rbox(this.doc())\n    }\n  })\n\n  SVG.RBox = SVG.invent({\n    // Initialize\n    create: function(element) {\n      SVG.Box.apply(this, [].slice.call(arguments))\n\n      if (element instanceof SVG.Element) {\n        SVG.Box.call(this, element.node.getBoundingClientRect())\n      }\n    }\n\n    , inherit: SVG.Box\n\n    // define Parent\n    , parent: SVG.Element\n\n    , extend: {\n      addOffset: function() {\n        // offset by window scroll position, because getBoundingClientRect changes when window is scrolled\n        this.x += window.pageXOffset\n        this.y += window.pageYOffset\n        return this\n      }\n    }\n\n    // Constructor\n    , construct: {\n      // Get rect box\n      rbox: function(el) {\n        if (el) return new SVG.RBox(this).transform(el.screenCTM().inverse())\n        return new SVG.RBox(this).addOffset()\n      }\n    }\n\n  })\n\n  SVG.RBox.prototype.constructor = SVG.RBox\n\n  SVG.Matrix = SVG.invent({\n    // Initialize\n    create: function(source) {\n      var i, base = arrayToMatrix([1, 0, 0, 1, 0, 0])\n\n      // ensure source as object\n      source = source instanceof SVG.Element ?\n        source.matrixify() :\n        typeof source === 'string' ?\n          arrayToMatrix(source.split(SVG.regex.delimiter).map(parseFloat)) :\n          arguments.length == 6 ?\n            arrayToMatrix([].slice.call(arguments)) :\n            Array.isArray(source) ?\n              arrayToMatrix(source) :\n              typeof source === 'object' ?\n                source : base\n\n      // merge source\n      for (i = abcdef.length - 1; i >= 0; --i)\n        this[abcdef[i]] = source[abcdef[i]] != null ?\n          source[abcdef[i]] : base[abcdef[i]]\n    }\n\n    // Add methods\n    , extend: {\n      // Extract individual transformations\n      extract: function() {\n        // find delta transform points\n        var px    = deltaTransformPoint(this, 0, 1)\n          , py    = deltaTransformPoint(this, 1, 0)\n          , skewX = 180 / Math.PI * Math.atan2(px.y, px.x) - 90\n\n        return {\n          // translation\n          x:        this.e\n          , y:        this.f\n          , transformedX:(this.e * Math.cos(skewX * Math.PI / 180) + this.f * Math.sin(skewX * Math.PI / 180)) / Math.sqrt(this.a * this.a + this.b * this.b)\n          , transformedY:(this.f * Math.cos(skewX * Math.PI / 180) + this.e * Math.sin(-skewX * Math.PI / 180)) / Math.sqrt(this.c * this.c + this.d * this.d)\n          // skew\n          , skewX:    -skewX\n          , skewY:    180 / Math.PI * Math.atan2(py.y, py.x)\n          // scale\n          , scaleX:   Math.sqrt(this.a * this.a + this.b * this.b)\n          , scaleY:   Math.sqrt(this.c * this.c + this.d * this.d)\n          // rotation\n          , rotation: skewX\n          , a: this.a\n          , b: this.b\n          , c: this.c\n          , d: this.d\n          , e: this.e\n          , f: this.f\n          , matrix: new SVG.Matrix(this)\n        }\n      }\n      // Clone matrix\n      , clone: function() {\n        return new SVG.Matrix(this)\n      }\n      // Morph one matrix into another\n      , morph: function(matrix) {\n        // store new destination\n        this.destination = new SVG.Matrix(matrix)\n\n        return this\n      }\n      // Get morphed matrix at a given position\n      , at: function(pos) {\n        // make sure a destination is defined\n        if (!this.destination) return this\n\n        // calculate morphed matrix at a given position\n        var matrix = new SVG.Matrix({\n          a: this.a + (this.destination.a - this.a) * pos\n          , b: this.b + (this.destination.b - this.b) * pos\n          , c: this.c + (this.destination.c - this.c) * pos\n          , d: this.d + (this.destination.d - this.d) * pos\n          , e: this.e + (this.destination.e - this.e) * pos\n          , f: this.f + (this.destination.f - this.f) * pos\n        })\n\n        return matrix\n      }\n      // Multiplies by given matrix\n      , multiply: function(matrix) {\n        return new SVG.Matrix(this.native().multiply(parseMatrix(matrix).native()))\n      }\n      // Inverses matrix\n      , inverse: function() {\n        return new SVG.Matrix(this.native().inverse())\n      }\n      // Translate matrix\n      , translate: function(x, y) {\n        return new SVG.Matrix(this.native().translate(x || 0, y || 0))\n      }\n      // Scale matrix\n      , scale: function(x, y, cx, cy) {\n        // support uniformal scale\n        if (arguments.length == 1) {\n          y = x\n        } else if (arguments.length == 3) {\n          cy = cx\n          cx = y\n          y = x\n        }\n\n        return this.around(cx, cy, new SVG.Matrix(x, 0, 0, y, 0, 0))\n      }\n      // Rotate matrix\n      , rotate: function(r, cx, cy) {\n        // convert degrees to radians\n        r = SVG.utils.radians(r)\n\n        return this.around(cx, cy, new SVG.Matrix(Math.cos(r), Math.sin(r), -Math.sin(r), Math.cos(r), 0, 0))\n      }\n      // Flip matrix on x or y, at a given offset\n      , flip: function(a, o) {\n        return a == 'x' ?\n          this.scale(-1, 1, o, 0) :\n          a == 'y' ?\n            this.scale(1, -1, 0, o) :\n            this.scale(-1, -1, a, o != null ? o : a)\n      }\n      // Skew\n      , skew: function(x, y, cx, cy) {\n        // support uniformal skew\n        if (arguments.length == 1) {\n          y = x\n        } else if (arguments.length == 3) {\n          cy = cx\n          cx = y\n          y = x\n        }\n\n        // convert degrees to radians\n        x = SVG.utils.radians(x)\n        y = SVG.utils.radians(y)\n\n        return this.around(cx, cy, new SVG.Matrix(1, Math.tan(y), Math.tan(x), 1, 0, 0))\n      }\n      // SkewX\n      , skewX: function(x, cx, cy) {\n        return this.skew(x, 0, cx, cy)\n      }\n      // SkewY\n      , skewY: function(y, cx, cy) {\n        return this.skew(0, y, cx, cy)\n      }\n      // Transform around a center point\n      , around: function(cx, cy, matrix) {\n        return this\n          .multiply(new SVG.Matrix(1, 0, 0, 1, cx || 0, cy || 0))\n          .multiply(matrix)\n          .multiply(new SVG.Matrix(1, 0, 0, 1, -cx || 0, -cy || 0))\n      }\n      // Convert to native SVGMatrix\n      , native: function() {\n        // create new matrix\n        var matrix = SVG.parser.native.createSVGMatrix()\n\n        // update with current values\n        for (var i = abcdef.length - 1; i >= 0; i--)\n          matrix[abcdef[i]] = this[abcdef[i]]\n\n        return matrix\n      }\n      // Convert matrix to string\n      , toString: function() {\n        // Construct the matrix directly, avoid values that are too small\n        return 'matrix(' + float32String(this.a) + ',' + float32String(this.b)\n          + ',' + float32String(this.c) + ',' + float32String(this.d)\n          + ',' + float32String(this.e) + ',' + float32String(this.f)\n          + ')'\n      }\n    }\n\n    // Define parent\n    , parent: SVG.Element\n\n    // Add parent method\n    , construct: {\n      // Get current matrix\n      ctm: function() {\n        return new SVG.Matrix(this.node.getCTM())\n      },\n      // Get current screen matrix\n      screenCTM: function() {\n        /* https://bugzilla.mozilla.org/show_bug.cgi?id=1344537\n         This is needed because FF does not return the transformation matrix\n         for the inner coordinate system when getScreenCTM() is called on nested svgs.\n         However all other Browsers do that */\n        if(this instanceof SVG.Nested) {\n          var rect = this.rect(1,1)\n          var m = rect.node.getScreenCTM()\n          rect.remove()\n          return new SVG.Matrix(m)\n        }\n        return new SVG.Matrix(this.node.getScreenCTM())\n      }\n\n    }\n\n  })\n\n  SVG.Point = SVG.invent({\n    // Initialize\n    create: function(x,y) {\n      var i, source, base = {x:0, y:0}\n\n      // ensure source as object\n      source = Array.isArray(x) ?\n        {x:x[0], y:x[1]} :\n        typeof x === 'object' ?\n          {x:x.x, y:x.y} :\n          x != null ?\n            {x:x, y:(y != null ? y : x)} : base // If y has no value, then x is used has its value\n\n      // merge source\n      this.x = source.x\n      this.y = source.y\n    }\n\n    // Add methods\n    , extend: {\n      // Clone point\n      clone: function() {\n        return new SVG.Point(this)\n      }\n      // Morph one point into another\n      , morph: function(x, y) {\n        // store new destination\n        this.destination = new SVG.Point(x, y)\n\n        return this\n      }\n      // Get morphed point at a given position\n      , at: function(pos) {\n        // make sure a destination is defined\n        if (!this.destination) return this\n\n        // calculate morphed matrix at a given position\n        var point = new SVG.Point({\n          x: this.x + (this.destination.x - this.x) * pos\n          , y: this.y + (this.destination.y - this.y) * pos\n        })\n\n        return point\n      }\n      // Convert to native SVGPoint\n      , native: function() {\n        // create new point\n        var point = SVG.parser.native.createSVGPoint()\n\n        // update with current values\n        point.x = this.x\n        point.y = this.y\n\n        return point\n      }\n      // transform point with matrix\n      , transform: function(matrix) {\n        return new SVG.Point(this.native().matrixTransform(matrix.native()))\n      }\n\n    }\n\n  })\n\n  SVG.extend(SVG.Element, {\n\n    // Get point\n    point: function(x, y) {\n      return new SVG.Point(x,y).transform(this.screenCTM().inverse());\n    }\n\n  })\n\n  SVG.extend(SVG.Element, {\n    // Set svg element attribute\n    attr: function(a, v, n) {\n      // act as full getter\n      if (a == null) {\n        // get an object of attributes\n        a = {}\n        v = this.node.attributes\n        for (n = v.length - 1; n >= 0; n--)\n          a[v[n].nodeName] = SVG.regex.isNumber.test(v[n].nodeValue) ? parseFloat(v[n].nodeValue) : v[n].nodeValue\n\n        return a\n\n      } else if (typeof a == 'object') {\n        // apply every attribute individually if an object is passed\n        for (v in a) this.attr(v, a[v])\n\n      } else if (v === null) {\n        // remove value\n        this.node.removeAttribute(a)\n\n      } else if (v == null) {\n        // act as a getter if the first and only argument is not an object\n        v = this.node.getAttribute(a)\n        return v == null ?\n          SVG.defaults.attrs[a] :\n          SVG.regex.isNumber.test(v) ?\n            parseFloat(v) : v\n\n      } else {\n        // BUG FIX: some browsers will render a stroke if a color is given even though stroke width is 0\n        if (a == 'stroke-width')\n          this.attr('stroke', parseFloat(v) > 0 ? this._stroke : null)\n        else if (a == 'stroke')\n          this._stroke = v\n\n        // convert image fill and stroke to patterns\n        if (a == 'fill' || a == 'stroke') {\n          if (SVG.regex.isImage.test(v))\n            v = this.doc().defs().image(v, 0, 0)\n\n          if (v instanceof SVG.Image)\n            v = this.doc().defs().pattern(0, 0, function() {\n              this.add(v)\n            })\n        }\n\n        // ensure correct numeric values (also accepts NaN and Infinity)\n        if (typeof v === 'number')\n          v = new SVG.Number(v)\n\n        // ensure full hex color\n        else if (SVG.Color.isColor(v))\n          v = new SVG.Color(v)\n\n        // parse array values\n        else if (Array.isArray(v))\n          v = new SVG.Array(v)\n\n        // if the passed attribute is leading...\n        if (a == 'leading') {\n          // ... call the leading method instead\n          if (this.leading)\n            this.leading(v)\n        } else {\n          // set given attribute on node\n          typeof n === 'string' ?\n            this.node.setAttributeNS(n, a, v.toString()) :\n            this.node.setAttribute(a, v.toString())\n        }\n\n        // rebuild if required\n        if (this.rebuild && (a == 'font-size' || a == 'x'))\n          this.rebuild(a, v)\n      }\n\n      return this\n    }\n  })\n  SVG.extend(SVG.Element, {\n    // Add transformations\n    transform: function(o, relative) {\n      // get target in case of the fx module, otherwise reference this\n      var target = this\n        , matrix, bbox\n\n      // act as a getter\n      if (typeof o !== 'object') {\n        // get current matrix\n        matrix = new SVG.Matrix(target).extract()\n\n        return typeof o === 'string' ? matrix[o] : matrix\n      }\n\n      // get current matrix\n      matrix = new SVG.Matrix(target)\n\n      // ensure relative flag\n      relative = !!relative || !!o.relative\n\n      // act on matrix\n      if (o.a != null) {\n        matrix = relative ?\n          // relative\n          matrix.multiply(new SVG.Matrix(o)) :\n          // absolute\n          new SVG.Matrix(o)\n\n        // act on rotation\n      } else if (o.rotation != null) {\n        // ensure centre point\n        ensureCentre(o, target)\n\n        // apply transformation\n        matrix = relative ?\n          // relative\n          matrix.rotate(o.rotation, o.cx, o.cy) :\n          // absolute\n          matrix.rotate(o.rotation - matrix.extract().rotation, o.cx, o.cy)\n\n        // act on scale\n      } else if (o.scale != null || o.scaleX != null || o.scaleY != null) {\n        // ensure centre point\n        ensureCentre(o, target)\n\n        // ensure scale values on both axes\n        o.scaleX = o.scale != null ? o.scale : o.scaleX != null ? o.scaleX : 1\n        o.scaleY = o.scale != null ? o.scale : o.scaleY != null ? o.scaleY : 1\n\n        if (!relative) {\n          // absolute; multiply inversed values\n          var e = matrix.extract()\n          o.scaleX = o.scaleX * 1 / e.scaleX\n          o.scaleY = o.scaleY * 1 / e.scaleY\n        }\n\n        matrix = matrix.scale(o.scaleX, o.scaleY, o.cx, o.cy)\n\n        // act on skew\n      } else if (o.skew != null || o.skewX != null || o.skewY != null) {\n        // ensure centre point\n        ensureCentre(o, target)\n\n        // ensure skew values on both axes\n        o.skewX = o.skew != null ? o.skew : o.skewX != null ? o.skewX : 0\n        o.skewY = o.skew != null ? o.skew : o.skewY != null ? o.skewY : 0\n\n        if (!relative) {\n          // absolute; reset skew values\n          var e = matrix.extract()\n          matrix = matrix.multiply(new SVG.Matrix().skew(e.skewX, e.skewY, o.cx, o.cy).inverse())\n        }\n\n        matrix = matrix.skew(o.skewX, o.skewY, o.cx, o.cy)\n\n        // act on flip\n      } else if (o.flip) {\n        if(o.flip == 'x' || o.flip == 'y') {\n          o.offset = o.offset == null ? target.bbox()['c' + o.flip] : o.offset\n        } else {\n          if(o.offset == null) {\n            bbox = target.bbox()\n            o.flip = bbox.cx\n            o.offset = bbox.cy\n          } else {\n            o.flip = o.offset\n          }\n        }\n\n        matrix = new SVG.Matrix().flip(o.flip, o.offset)\n\n        // act on translate\n      } else if (o.x != null || o.y != null) {\n        if (relative) {\n          // relative\n          matrix = matrix.translate(o.x, o.y)\n        } else {\n          // absolute\n          if (o.x != null) matrix.e = o.x\n          if (o.y != null) matrix.f = o.y\n        }\n      }\n\n      return this.attr('transform', matrix)\n    }\n  })\n\n  SVG.extend(SVG.FX, {\n    transform: function(o, relative) {\n      // get target in case of the fx module, otherwise reference this\n      var target = this.target()\n        , matrix, bbox\n\n      // act as a getter\n      if (typeof o !== 'object') {\n        // get current matrix\n        matrix = new SVG.Matrix(target).extract()\n\n        return typeof o === 'string' ? matrix[o] : matrix\n      }\n\n      // ensure relative flag\n      relative = !!relative || !!o.relative\n\n      // act on matrix\n      if (o.a != null) {\n        matrix = new SVG.Matrix(o)\n\n        // act on rotation\n      } else if (o.rotation != null) {\n        // ensure centre point\n        ensureCentre(o, target)\n\n        // apply transformation\n        matrix = new SVG.Rotate(o.rotation, o.cx, o.cy)\n\n        // act on scale\n      } else if (o.scale != null || o.scaleX != null || o.scaleY != null) {\n        // ensure centre point\n        ensureCentre(o, target)\n\n        // ensure scale values on both axes\n        o.scaleX = o.scale != null ? o.scale : o.scaleX != null ? o.scaleX : 1\n        o.scaleY = o.scale != null ? o.scale : o.scaleY != null ? o.scaleY : 1\n\n        matrix = new SVG.Scale(o.scaleX, o.scaleY, o.cx, o.cy)\n\n        // act on skew\n      } else if (o.skewX != null || o.skewY != null) {\n        // ensure centre point\n        ensureCentre(o, target)\n\n        // ensure skew values on both axes\n        o.skewX = o.skewX != null ? o.skewX : 0\n        o.skewY = o.skewY != null ? o.skewY : 0\n\n        matrix = new SVG.Skew(o.skewX, o.skewY, o.cx, o.cy)\n\n        // act on flip\n      } else if (o.flip) {\n        if(o.flip == 'x' || o.flip == 'y') {\n          o.offset = o.offset == null ? target.bbox()['c' + o.flip] : o.offset\n        } else {\n          if(o.offset == null) {\n            bbox = target.bbox()\n            o.flip = bbox.cx\n            o.offset = bbox.cy\n          } else {\n            o.flip = o.offset\n          }\n        }\n\n        matrix = new SVG.Matrix().flip(o.flip, o.offset)\n\n        // act on translate\n      } else if (o.x != null || o.y != null) {\n        matrix = new SVG.Translate(o.x, o.y)\n      }\n\n      if(!matrix) return this\n\n      matrix.relative = relative\n\n      this.last().transforms.push(matrix)\n\n      return this._callStart()\n    }\n  })\n\n  SVG.extend(SVG.Element, {\n    // Reset all transformations\n    untransform: function() {\n      return this.attr('transform', null)\n    },\n    // merge the whole transformation chain into one matrix and returns it\n    matrixify: function() {\n\n      var matrix = (this.attr('transform') || '')\n      // split transformations\n        .split(SVG.regex.transforms).slice(0,-1).map(function(str){\n          // generate key => value pairs\n          var kv = str.trim().split('(')\n          return [kv[0], kv[1].split(SVG.regex.delimiter).map(function(str){ return parseFloat(str) })]\n        })\n        // merge every transformation into one matrix\n        .reduce(function(matrix, transform){\n\n          if(transform[0] == 'matrix') return matrix.multiply(arrayToMatrix(transform[1]))\n          return matrix[transform[0]].apply(matrix, transform[1])\n\n        }, new SVG.Matrix())\n\n      return matrix\n    },\n    // add an element to another parent without changing the visual representation on the screen\n    toParent: function(parent) {\n      if(this == parent) return this\n      var ctm = this.screenCTM()\n      var pCtm = parent.screenCTM().inverse()\n\n      this.addTo(parent).untransform().transform(pCtm.multiply(ctm))\n\n      return this\n    },\n    // same as above with parent equals root-svg\n    toDoc: function() {\n      return this.toParent(this.doc())\n    }\n\n  })\n\n  SVG.Transformation = SVG.invent({\n\n    create: function(source, inversed){\n\n      if(arguments.length > 1 && typeof inversed != 'boolean'){\n        return this.constructor.call(this, [].slice.call(arguments))\n      }\n\n      if(Array.isArray(source)){\n        for(var i = 0, len = this.arguments.length; i < len; ++i){\n          this[this.arguments[i]] = source[i]\n        }\n      } else if(typeof source == 'object'){\n        for(var i = 0, len = this.arguments.length; i < len; ++i){\n          this[this.arguments[i]] = source[this.arguments[i]]\n        }\n      }\n\n      this.inversed = false\n\n      if(inversed === true){\n        this.inversed = true\n      }\n\n    }\n\n    , extend: {\n\n      arguments: []\n      , method: ''\n\n      , at: function(pos){\n\n        var params = []\n\n        for(var i = 0, len = this.arguments.length; i < len; ++i){\n          params.push(this[this.arguments[i]])\n        }\n\n        var m = this._undo || new SVG.Matrix()\n\n        m = new SVG.Matrix().morph(SVG.Matrix.prototype[this.method].apply(m, params)).at(pos)\n\n        return this.inversed ? m.inverse() : m\n\n      }\n\n      , undo: function(o){\n        for(var i = 0, len = this.arguments.length; i < len; ++i){\n          o[this.arguments[i]] = typeof this[this.arguments[i]] == 'undefined' ? 0 : o[this.arguments[i]]\n        }\n\n        // The method SVG.Matrix.extract which was used before calling this\n        // method to obtain a value for the parameter o doesn't return a cx and\n        // a cy so we use the ones that were provided to this object at its creation\n        o.cx = this.cx\n        o.cy = this.cy\n\n        this._undo = new SVG[capitalize(this.method)](o, true).at(1)\n\n        return this\n      }\n\n    }\n\n  })\n\n  SVG.Translate = SVG.invent({\n\n    parent: SVG.Matrix\n    , inherit: SVG.Transformation\n\n    , create: function(source, inversed){\n      this.constructor.apply(this, [].slice.call(arguments))\n    }\n\n    , extend: {\n      arguments: ['transformedX', 'transformedY']\n      , method: 'translate'\n    }\n\n  })\n\n  SVG.Rotate = SVG.invent({\n\n    parent: SVG.Matrix\n    , inherit: SVG.Transformation\n\n    , create: function(source, inversed){\n      this.constructor.apply(this, [].slice.call(arguments))\n    }\n\n    , extend: {\n      arguments: ['rotation', 'cx', 'cy']\n      , method: 'rotate'\n      , at: function(pos){\n        var m = new SVG.Matrix().rotate(new SVG.Number().morph(this.rotation - (this._undo ? this._undo.rotation : 0)).at(pos), this.cx, this.cy)\n        return this.inversed ? m.inverse() : m\n      }\n      , undo: function(o){\n        this._undo = o\n        return this\n      }\n    }\n\n  })\n\n  SVG.Scale = SVG.invent({\n\n    parent: SVG.Matrix\n    , inherit: SVG.Transformation\n\n    , create: function(source, inversed){\n      this.constructor.apply(this, [].slice.call(arguments))\n    }\n\n    , extend: {\n      arguments: ['scaleX', 'scaleY', 'cx', 'cy']\n      , method: 'scale'\n    }\n\n  })\n\n  SVG.Skew = SVG.invent({\n\n    parent: SVG.Matrix\n    , inherit: SVG.Transformation\n\n    , create: function(source, inversed){\n      this.constructor.apply(this, [].slice.call(arguments))\n    }\n\n    , extend: {\n      arguments: ['skewX', 'skewY', 'cx', 'cy']\n      , method: 'skew'\n    }\n\n  })\n\n  SVG.extend(SVG.Element, {\n    // Dynamic style generator\n    style: function(s, v) {\n      if (arguments.length == 0) {\n        // get full style\n        return this.node.style.cssText || ''\n\n      } else if (arguments.length < 2) {\n        // apply every style individually if an object is passed\n        if (typeof s == 'object') {\n          for (v in s) this.style(v, s[v])\n\n        } else if (SVG.regex.isCss.test(s)) {\n          // parse css string\n          s = s.split(/\\s*;\\s*/)\n          // filter out suffix ; and stuff like ;;\n            .filter(function(e) { return !!e })\n            .map(function(e){ return e.split(/\\s*:\\s*/) })\n\n          // apply every definition individually\n          while (v = s.pop()) {\n            this.style(v[0], v[1])\n          }\n        } else {\n          // act as a getter if the first and only argument is not an object\n          return this.node.style[camelCase(s)]\n        }\n\n      } else {\n        this.node.style[camelCase(s)] = v === null || SVG.regex.isBlank.test(v) ? '' : v\n      }\n\n      return this\n    }\n  })\n  SVG.Parent = SVG.invent({\n    // Initialize node\n    create: function(element) {\n      this.constructor.call(this, element)\n    }\n\n    // Inherit from\n    , inherit: SVG.Element\n\n    // Add class methods\n    , extend: {\n      // Returns all child elements\n      children: function() {\n        return SVG.utils.map(SVG.utils.filterSVGElements(this.node.childNodes), function(node) {\n          return SVG.adopt(node)\n        })\n      }\n      // Add given element at a position\n      , add: function(element, i) {\n        if (i == null)\n          this.node.appendChild(element.node)\n        else if (element.node != this.node.childNodes[i])\n          this.node.insertBefore(element.node, this.node.childNodes[i])\n\n        return this\n      }\n      // Basically does the same as `add()` but returns the added element instead\n      , put: function(element, i) {\n        this.add(element, i)\n        return element\n      }\n      // Checks if the given element is a child\n      , has: function(element) {\n        return this.index(element) >= 0\n      }\n      // Gets index of given element\n      , index: function(element) {\n        return [].slice.call(this.node.childNodes).indexOf(element.node)\n      }\n      // Get a element at the given index\n      , get: function(i) {\n        return SVG.adopt(this.node.childNodes[i])\n      }\n      // Get first child\n      , first: function() {\n        return this.get(0)\n      }\n      // Get the last child\n      , last: function() {\n        return this.get(this.node.childNodes.length - 1)\n      }\n      // Iterates over all children and invokes a given block\n      , each: function(block, deep) {\n        var i, il\n          , children = this.children()\n\n        for (i = 0, il = children.length; i < il; i++) {\n          if (children[i] instanceof SVG.Element)\n            block.apply(children[i], [i, children])\n\n          if (deep && (children[i] instanceof SVG.Container))\n            children[i].each(block, deep)\n        }\n\n        return this\n      }\n      // Remove a given child\n      , removeElement: function(element) {\n        this.node.removeChild(element.node)\n\n        return this\n      }\n      // Remove all elements in this container\n      , clear: function() {\n        // remove children\n        while(this.node.hasChildNodes())\n          this.node.removeChild(this.node.lastChild)\n\n        // remove defs reference\n        delete this._defs\n\n        return this\n      }\n      , // Get defs\n      defs: function() {\n        return this.doc().defs()\n      }\n    }\n\n  })\n\n  SVG.extend(SVG.Parent, {\n\n    ungroup: function(parent, depth) {\n      if(depth === 0 || this instanceof SVG.Defs || this.node == SVG.parser.draw) return this\n\n      parent = parent || (this instanceof SVG.Doc ? this : this.parent(SVG.Parent))\n      depth = depth || Infinity\n\n      this.each(function(){\n        if(this instanceof SVG.Defs) return this\n        if(this instanceof SVG.Parent) return this.ungroup(parent, depth-1)\n        return this.toParent(parent)\n      })\n\n      this.node.firstChild || this.remove()\n\n      return this\n    },\n\n    flatten: function(parent, depth) {\n      return this.ungroup(parent, depth)\n    }\n\n  })\n  SVG.Container = SVG.invent({\n    // Initialize node\n    create: function(element) {\n      this.constructor.call(this, element)\n    }\n\n    // Inherit from\n    , inherit: SVG.Parent\n\n  })\n\n  SVG.ViewBox = SVG.invent({\n\n    create: function(source) {\n      var i, base = [0, 0, 0, 0]\n\n      var x, y, width, height, box, view, we, he\n        , wm   = 1 // width multiplier\n        , hm   = 1 // height multiplier\n        , reg  = /[+-]?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:e[+-]?\\d+)?/gi\n\n      if(source instanceof SVG.Element){\n\n        we = source\n        he = source\n        view = (source.attr('viewBox') || '').match(reg)\n        box = source.bbox\n\n        // get dimensions of current node\n        width  = new SVG.Number(source.width())\n        height = new SVG.Number(source.height())\n\n        // find nearest non-percentual dimensions\n        while (width.unit == '%') {\n          wm *= width.value\n          width = new SVG.Number(we instanceof SVG.Doc ? we.parent().offsetWidth : we.parent().width())\n          we = we.parent()\n        }\n        while (height.unit == '%') {\n          hm *= height.value\n          height = new SVG.Number(he instanceof SVG.Doc ? he.parent().offsetHeight : he.parent().height())\n          he = he.parent()\n        }\n\n        // ensure defaults\n        this.x      = 0\n        this.y      = 0\n        this.width  = width  * wm\n        this.height = height * hm\n        this.zoom   = 1\n\n        if (view) {\n          // get width and height from viewbox\n          x      = parseFloat(view[0])\n          y      = parseFloat(view[1])\n          width  = parseFloat(view[2])\n          height = parseFloat(view[3])\n\n          // calculate zoom accoring to viewbox\n          this.zoom = ((this.width / this.height) > (width / height)) ?\n            this.height / height :\n            this.width  / width\n\n          // calculate real pixel dimensions on parent SVG.Doc element\n          this.x      = x\n          this.y      = y\n          this.width  = width\n          this.height = height\n\n        }\n\n      }else{\n\n        // ensure source as object\n        source = typeof source === 'string' ?\n          source.match(reg).map(function(el){ return parseFloat(el) }) :\n          Array.isArray(source) ?\n            source :\n            typeof source == 'object' ?\n              [source.x, source.y, source.width, source.height] :\n              arguments.length == 4 ?\n                [].slice.call(arguments) :\n                base\n\n        this.x = source[0]\n        this.y = source[1]\n        this.width = source[2]\n        this.height = source[3]\n      }\n\n\n    }\n\n    , extend: {\n\n      toString: function() {\n        return this.x + ' ' + this.y + ' ' + this.width + ' ' + this.height\n      }\n      , morph: function(x, y, width, height){\n        this.destination = new SVG.ViewBox(x, y, width, height)\n        return this\n      }\n\n      , at: function(pos) {\n\n        if(!this.destination) return this\n\n        return new SVG.ViewBox([\n          this.x + (this.destination.x - this.x) * pos\n          , this.y + (this.destination.y - this.y) * pos\n          , this.width + (this.destination.width - this.width) * pos\n          , this.height + (this.destination.height - this.height) * pos\n        ])\n\n      }\n\n    }\n\n    // Define parent\n    , parent: SVG.Container\n\n    // Add parent method\n    , construct: {\n\n      // get/set viewbox\n      viewbox: function(x, y, width, height) {\n        if (arguments.length == 0)\n        // act as a getter if there are no arguments\n          return new SVG.ViewBox(this)\n\n        // otherwise act as a setter\n        return this.attr('viewBox', new SVG.ViewBox(x, y, width, height))\n      }\n\n    }\n\n  })\n// Add events to elements\n\n  ;[ 'click',\n    'dblclick',\n    'mousedown',\n    'mouseup',\n    'mouseover',\n    'mouseout',\n    'mousemove',\n    'mouseenter',\n    'mouseleave',\n    'touchstart',\n    'touchmove',\n    'touchleave',\n    'touchend',\n    'touchcancel' ].forEach(function (event) {\n    // add event to SVG.Element\n    SVG.Element.prototype[event] = function (f) {\n      // bind event to element rather than element node\n      if (f == null) {\n        SVG.off(this, event)\n      } else {\n        SVG.on(this, event, f)\n      }\n      return this\n    }\n  })\n\n  SVG.listenerId = 0\n\n// Add event binder in the SVG namespace\n  SVG.on = function (node, events, listener, binding, options) {\n    var l = listener.bind(binding || node)\n    var n = node instanceof SVG.Element ? node.node : node\n\n    // ensure instance object for nodes which are not adopted\n    n.instance = n.instance || {_events: {}}\n\n    var bag = n.instance._events\n\n    // add id to listener\n    if (!listener._svgjsListenerId) { listener._svgjsListenerId = ++SVG.listenerId }\n\n    events.split(SVG.regex.delimiter).forEach(function (event) {\n      var ev = event.split('.')[0]\n      var ns = event.split('.')[1] || '*'\n\n      // ensure valid object\n      bag[ev] = bag[ev] || {}\n      bag[ev][ns] = bag[ev][ns] || {}\n\n      // reference listener\n      bag[ev][ns][listener._svgjsListenerId] = l\n\n      // add listener\n      n.addEventListener(ev, l, options || false)\n    })\n  }\n\n// Add event unbinder in the SVG namespace\n  SVG.off = function (node, events, listener, options) {\n    var n = node instanceof SVG.Element ? node.node : node\n    if (!n.instance) return\n\n    // listener can be a function or a number\n    if (typeof listener === 'function') {\n      listener = listener._svgjsListenerId\n      if (!listener) return\n    }\n\n    var bag = n.instance._events\n\n    ;(events || '').split(SVG.regex.delimiter).forEach(function (event) {\n      var ev = event && event.split('.')[0]\n      var ns = event && event.split('.')[1]\n      var namespace, l\n\n      if (listener) {\n        // remove listener reference\n        if (bag[ev] && bag[ev][ns || '*']) {\n          // removeListener\n          n.removeEventListener(ev, bag[ev][ns || '*'][listener], options || false)\n\n          delete bag[ev][ns || '*'][listener]\n        }\n      } else if (ev && ns) {\n        // remove all listeners for a namespaced event\n        if (bag[ev] && bag[ev][ns]) {\n          for (l in bag[ev][ns]) { SVG.off(n, [ev, ns].join('.'), l) }\n\n          delete bag[ev][ns]\n        }\n      } else if (ns) {\n        // remove all listeners for a specific namespace\n        for (event in bag) {\n          for (namespace in bag[event]) {\n            if (ns === namespace) { SVG.off(n, [event, ns].join('.')) }\n          }\n        }\n      } else if (ev) {\n        // remove all listeners for the event\n        if (bag[ev]) {\n          for (namespace in bag[ev]) { SVG.off(n, [ev, namespace].join('.')) }\n\n          delete bag[ev]\n        }\n      } else {\n        // remove all listeners on a given node\n        for (event in bag) { SVG.off(n, event) }\n\n        n.instance._events = {}\n      }\n    })\n  }\n\n  SVG.extend(SVG.Element, {\n    // Bind given event to listener\n    on: function (event, listener, binding, options) {\n      SVG.on(this, event, listener, binding, options)\n      return this\n    },\n    // Unbind event from listener\n    off: function (event, listener) {\n      SVG.off(this.node, event, listener)\n      return this\n    },\n    fire: function (event, data) {\n      // Dispatch event\n      if (event instanceof window.Event) {\n        this.node.dispatchEvent(event)\n      } else {\n        this.node.dispatchEvent(event = new SVG.CustomEvent(event, {detail: data, cancelable: true}))\n      }\n      this._event = event\n      return this\n    },\n    event: function() {\n      return this._event\n    }\n  })\n\n\n  SVG.Defs = SVG.invent({\n    // Initialize node\n    create: 'defs'\n\n    // Inherit from\n    , inherit: SVG.Container\n\n  })\n  SVG.G = SVG.invent({\n    // Initialize node\n    create: 'g'\n\n    // Inherit from\n    , inherit: SVG.Container\n\n    // Add class methods\n    , extend: {\n      // Move over x-axis\n      x: function(x) {\n        return x == null ? this.transform('x') : this.transform({ x: x - this.x() }, true)\n      }\n      // Move over y-axis\n      , y: function(y) {\n        return y == null ? this.transform('y') : this.transform({ y: y - this.y() }, true)\n      }\n      // Move by center over x-axis\n      , cx: function(x) {\n        return x == null ? this.gbox().cx : this.x(x - this.gbox().width / 2)\n      }\n      // Move by center over y-axis\n      , cy: function(y) {\n        return y == null ? this.gbox().cy : this.y(y - this.gbox().height / 2)\n      }\n      , gbox: function() {\n\n        var bbox  = this.bbox()\n          , trans = this.transform()\n\n        bbox.x  += trans.x\n        bbox.x2 += trans.x\n        bbox.cx += trans.x\n\n        bbox.y  += trans.y\n        bbox.y2 += trans.y\n        bbox.cy += trans.y\n\n        return bbox\n      }\n    }\n\n    // Add parent method\n    , construct: {\n      // Create a group element\n      group: function() {\n        return this.put(new SVG.G)\n      }\n    }\n  })\n\n  SVG.Doc = SVG.invent({\n    // Initialize node\n    create: function(element) {\n      if (element) {\n        // ensure the presence of a dom element\n        element = typeof element == 'string' ?\n          document.getElementById(element) :\n          element\n\n        // If the target is an svg element, use that element as the main wrapper.\n        // This allows svg.js to work with svg documents as well.\n        if (element.nodeName == 'svg') {\n          this.constructor.call(this, element)\n        } else {\n          this.constructor.call(this, SVG.create('svg'))\n          element.appendChild(this.node)\n          this.size('100%', '100%')\n        }\n\n        // set svg element attributes and ensure defs node\n        this.namespace().defs()\n      }\n    }\n\n    // Inherit from\n    , inherit: SVG.Container\n\n    // Add class methods\n    , extend: {\n      // Add namespaces\n      namespace: function() {\n        return this\n          .attr({ xmlns: SVG.ns, version: '1.1' })\n          .attr('xmlns:xlink', SVG.xlink, SVG.xmlns)\n          .attr('xmlns:svgjs', SVG.svgjs, SVG.xmlns)\n      }\n      // Creates and returns defs element\n      , defs: function() {\n        if (!this._defs) {\n          var defs\n\n          // Find or create a defs element in this instance\n          if (defs = this.node.getElementsByTagName('defs')[0])\n            this._defs = SVG.adopt(defs)\n          else\n            this._defs = new SVG.Defs\n\n          // Make sure the defs node is at the end of the stack\n          this.node.appendChild(this._defs.node)\n        }\n\n        return this._defs\n      }\n      // custom parent method\n      , parent: function() {\n        if(!this.node.parentNode || this.node.parentNode.nodeName == '#document' || this.node.parentNode.nodeName == '#document-fragment') return null\n        return this.node.parentNode\n      }\n      // Fix for possible sub-pixel offset. See:\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=608812\n      , spof: function() {\n        var pos = this.node.getScreenCTM()\n\n        if (pos)\n          this\n            .style('left', (-pos.e % 1) + 'px')\n            .style('top',  (-pos.f % 1) + 'px')\n\n        return this\n      }\n\n      // Removes the doc from the DOM\n      , remove: function() {\n        if(this.parent()) {\n          this.parent().removeChild(this.node)\n        }\n\n        return this\n      }\n      , clear: function() {\n        // remove children\n        while(this.node.hasChildNodes())\n          this.node.removeChild(this.node.lastChild)\n\n        // remove defs reference\n        delete this._defs\n\n        // add back parser\n        if(!SVG.parser.draw.parentNode)\n          this.node.appendChild(SVG.parser.draw)\n\n        return this\n      }\n      , clone: function (parent) {\n        // write dom data to the dom so the clone can pickup the data\n        this.writeDataToDom()\n\n        // get reference to node\n        var node = this.node\n\n        // clone element and assign new id\n        var clone = assignNewId(node.cloneNode(true))\n\n        // insert the clone in the given parent or after myself\n        if(parent) {\n          (parent.node || parent).appendChild(clone.node)\n        } else {\n          node.parentNode.insertBefore(clone.node, node.nextSibling)\n        }\n\n        return clone\n      }\n    }\n\n  })\n\n// ### This module adds backward / forward functionality to elements.\n\n//\n  SVG.extend(SVG.Element, {\n    // Get all siblings, including myself\n    siblings: function() {\n      return this.parent().children()\n    }\n    // Get the curent position siblings\n    , position: function() {\n      return this.parent().index(this)\n    }\n    // Get the next element (will return null if there is none)\n    , next: function() {\n      return this.siblings()[this.position() + 1]\n    }\n    // Get the next element (will return null if there is none)\n    , previous: function() {\n      return this.siblings()[this.position() - 1]\n    }\n    // Send given element one step forward\n    , forward: function() {\n      var i = this.position() + 1\n        , p = this.parent()\n\n      // move node one step forward\n      p.removeElement(this).add(this, i)\n\n      // make sure defs node is always at the top\n      if (p instanceof SVG.Doc)\n        p.node.appendChild(p.defs().node)\n\n      return this\n    }\n    // Send given element one step backward\n    , backward: function() {\n      var i = this.position()\n\n      if (i > 0)\n        this.parent().removeElement(this).add(this, i - 1)\n\n      return this\n    }\n    // Send given element all the way to the front\n    , front: function() {\n      var p = this.parent()\n\n      // Move node forward\n      p.node.appendChild(this.node)\n\n      // Make sure defs node is always at the top\n      if (p instanceof SVG.Doc)\n        p.node.appendChild(p.defs().node)\n\n      return this\n    }\n    // Send given element all the way to the back\n    , back: function() {\n      if (this.position() > 0)\n        this.parent().removeElement(this).add(this, 0)\n\n      return this\n    }\n    // Inserts a given element before the targeted element\n    , before: function(element) {\n      element.remove()\n\n      var i = this.position()\n\n      this.parent().add(element, i)\n\n      return this\n    }\n    // Insters a given element after the targeted element\n    , after: function(element) {\n      element.remove()\n\n      var i = this.position()\n\n      this.parent().add(element, i + 1)\n\n      return this\n    }\n\n  })\n  SVG.Mask = SVG.invent({\n    // Initialize node\n    create: function() {\n      this.constructor.call(this, SVG.create('mask'))\n\n      // keep references to masked elements\n      this.targets = []\n    }\n\n    // Inherit from\n    , inherit: SVG.Container\n\n    // Add class methods\n    , extend: {\n      // Unmask all masked elements and remove itself\n      remove: function() {\n        // unmask all targets\n        for (var i = this.targets.length - 1; i >= 0; i--)\n          if (this.targets[i])\n            this.targets[i].unmask()\n        this.targets = []\n\n        // remove mask from parent\n        SVG.Element.prototype.remove.call(this)\n\n        return this\n      }\n    }\n\n    // Add parent method\n    , construct: {\n      // Create masking element\n      mask: function() {\n        return this.defs().put(new SVG.Mask)\n      }\n    }\n  })\n\n\n  SVG.extend(SVG.Element, {\n    // Distribute mask to svg element\n    maskWith: function(element) {\n      // use given mask or create a new one\n      this.masker = element instanceof SVG.Mask ? element : this.parent().mask().add(element)\n\n      // store reverence on self in mask\n      this.masker.targets.push(this)\n\n      // apply mask\n      return this.attr('mask', 'url(\"#' + this.masker.attr('id') + '\")')\n    }\n    // Unmask element\n    , unmask: function() {\n      delete this.masker\n      return this.attr('mask', null)\n    }\n\n  })\n\n  SVG.ClipPath = SVG.invent({\n    // Initialize node\n    create: function() {\n      this.constructor.call(this, SVG.create('clipPath'))\n\n      // keep references to clipped elements\n      this.targets = []\n    }\n\n    // Inherit from\n    , inherit: SVG.Container\n\n    // Add class methods\n    , extend: {\n      // Unclip all clipped elements and remove itself\n      remove: function() {\n        // unclip all targets\n        for (var i = this.targets.length - 1; i >= 0; i--)\n          if (this.targets[i])\n            this.targets[i].unclip()\n        this.targets = []\n\n        // remove clipPath from parent\n        this.parent().removeElement(this)\n\n        return this\n      }\n    }\n\n    // Add parent method\n    , construct: {\n      // Create clipping element\n      clip: function() {\n        return this.defs().put(new SVG.ClipPath)\n      }\n    }\n  })\n\n//\n  SVG.extend(SVG.Element, {\n    // Distribute clipPath to svg element\n    clipWith: function(element) {\n      // use given clip or create a new one\n      this.clipper = element instanceof SVG.ClipPath ? element : this.parent().clip().add(element)\n\n      // store reverence on self in mask\n      this.clipper.targets.push(this)\n\n      // apply mask\n      return this.attr('clip-path', 'url(\"#' + this.clipper.attr('id') + '\")')\n    }\n    // Unclip element\n    , unclip: function() {\n      delete this.clipper\n      return this.attr('clip-path', null)\n    }\n\n  })\n  SVG.Gradient = SVG.invent({\n    // Initialize node\n    create: function(type) {\n      this.constructor.call(this, SVG.create(type + 'Gradient'))\n\n      // store type\n      this.type = type\n    }\n\n    // Inherit from\n    , inherit: SVG.Container\n\n    // Add class methods\n    , extend: {\n      // Add a color stop\n      at: function(offset, color, opacity) {\n        return this.put(new SVG.Stop).update(offset, color, opacity)\n      }\n      // Update gradient\n      , update: function(block) {\n        // remove all stops\n        this.clear()\n\n        // invoke passed block\n        if (typeof block == 'function')\n          block.call(this, this)\n\n        return this\n      }\n      // Return the fill id\n      , fill: function() {\n        return 'url(#' + this.id() + ')'\n      }\n      // Alias string convertion to fill\n      , toString: function() {\n        return this.fill()\n      }\n      // custom attr to handle transform\n      , attr: function(a, b, c) {\n        if(a == 'transform') a = 'gradientTransform'\n        return SVG.Container.prototype.attr.call(this, a, b, c)\n      }\n    }\n\n    // Add parent method\n    , construct: {\n      // Create gradient element in defs\n      gradient: function(type, block) {\n        return this.defs().gradient(type, block)\n      }\n    }\n  })\n\n// Add animatable methods to both gradient and fx module\n  SVG.extend(SVG.Gradient, SVG.FX, {\n    // From position\n    from: function(x, y) {\n      return (this._target || this).type == 'radial' ?\n        this.attr({ fx: new SVG.Number(x), fy: new SVG.Number(y) }) :\n        this.attr({ x1: new SVG.Number(x), y1: new SVG.Number(y) })\n    }\n    // To position\n    , to: function(x, y) {\n      return (this._target || this).type == 'radial' ?\n        this.attr({ cx: new SVG.Number(x), cy: new SVG.Number(y) }) :\n        this.attr({ x2: new SVG.Number(x), y2: new SVG.Number(y) })\n    }\n  })\n\n// Base gradient generation\n  SVG.extend(SVG.Defs, {\n    // define gradient\n    gradient: function(type, block) {\n      return this.put(new SVG.Gradient(type)).update(block)\n    }\n\n  })\n\n  SVG.Stop = SVG.invent({\n    // Initialize node\n    create: 'stop'\n\n    // Inherit from\n    , inherit: SVG.Element\n\n    // Add class methods\n    , extend: {\n      // add color stops\n      update: function(o) {\n        if (typeof o == 'number' || o instanceof SVG.Number) {\n          o = {\n            offset:  arguments[0]\n            , color:   arguments[1]\n            , opacity: arguments[2]\n          }\n        }\n\n        // set attributes\n        if (o.opacity != null) this.attr('stop-opacity', o.opacity)\n        if (o.color   != null) this.attr('stop-color', o.color)\n        if (o.offset  != null) this.attr('offset', new SVG.Number(o.offset))\n\n        return this\n      }\n    }\n\n  })\n\n  SVG.Pattern = SVG.invent({\n    // Initialize node\n    create: 'pattern'\n\n    // Inherit from\n    , inherit: SVG.Container\n\n    // Add class methods\n    , extend: {\n      // Return the fill id\n      fill: function() {\n        return 'url(#' + this.id() + ')'\n      }\n      // Update pattern by rebuilding\n      , update: function(block) {\n        // remove content\n        this.clear()\n\n        // invoke passed block\n        if (typeof block == 'function')\n          block.call(this, this)\n\n        return this\n      }\n      // Alias string convertion to fill\n      , toString: function() {\n        return this.fill()\n      }\n      // custom attr to handle transform\n      , attr: function(a, b, c) {\n        if(a == 'transform') a = 'patternTransform'\n        return SVG.Container.prototype.attr.call(this, a, b, c)\n      }\n\n    }\n\n    // Add parent method\n    , construct: {\n      // Create pattern element in defs\n      pattern: function(width, height, block) {\n        return this.defs().pattern(width, height, block)\n      }\n    }\n  })\n\n  SVG.extend(SVG.Defs, {\n    // Define gradient\n    pattern: function(width, height, block) {\n      return this.put(new SVG.Pattern).update(block).attr({\n        x:            0\n        , y:            0\n        , width:        width\n        , height:       height\n        , patternUnits: 'userSpaceOnUse'\n      })\n    }\n\n  })\n  SVG.Shape = SVG.invent({\n    // Initialize node\n    create: function(element) {\n      this.constructor.call(this, element)\n    }\n\n    // Inherit from\n    , inherit: SVG.Element\n\n  })\n\n  SVG.Bare = SVG.invent({\n    // Initialize\n    create: function(element, inherit) {\n      // construct element\n      this.constructor.call(this, SVG.create(element))\n\n      // inherit custom methods\n      if (inherit)\n        for (var method in inherit.prototype)\n          if (typeof inherit.prototype[method] === 'function')\n            this[method] = inherit.prototype[method]\n    }\n\n    // Inherit from\n    , inherit: SVG.Element\n\n    // Add methods\n    , extend: {\n      // Insert some plain text\n      words: function(text) {\n        // remove contents\n        while (this.node.hasChildNodes())\n          this.node.removeChild(this.node.lastChild)\n\n        // create text node\n        this.node.appendChild(document.createTextNode(text))\n\n        return this\n      }\n    }\n  })\n\n\n  SVG.extend(SVG.Parent, {\n    // Create an element that is not described by SVG.js\n    element: function(element, inherit) {\n      return this.put(new SVG.Bare(element, inherit))\n    }\n  })\n\n  SVG.Symbol = SVG.invent({\n    // Initialize node\n    create: 'symbol'\n\n    // Inherit from\n    , inherit: SVG.Container\n\n    , construct: {\n      // create symbol\n      symbol: function() {\n        return this.put(new SVG.Symbol)\n      }\n    }\n  })\n\n  SVG.Use = SVG.invent({\n    // Initialize node\n    create: 'use'\n\n    // Inherit from\n    , inherit: SVG.Shape\n\n    // Add class methods\n    , extend: {\n      // Use element as a reference\n      element: function(element, file) {\n        // Set lined element\n        return this.attr('href', (file || '') + '#' + element, SVG.xlink)\n      }\n    }\n\n    // Add parent method\n    , construct: {\n      // Create a use element\n      use: function(element, file) {\n        return this.put(new SVG.Use).element(element, file)\n      }\n    }\n  })\n  SVG.Rect = SVG.invent({\n    // Initialize node\n    create: 'rect'\n\n    // Inherit from\n    , inherit: SVG.Shape\n\n    // Add parent method\n    , construct: {\n      // Create a rect element\n      rect: function(width, height) {\n        return this.put(new SVG.Rect()).size(width, height)\n      }\n    }\n  })\n  SVG.Circle = SVG.invent({\n    // Initialize node\n    create: 'circle'\n\n    // Inherit from\n    , inherit: SVG.Shape\n\n    // Add parent method\n    , construct: {\n      // Create circle element, based on ellipse\n      circle: function(size) {\n        return this.put(new SVG.Circle).rx(new SVG.Number(size).divide(2)).move(0, 0)\n      }\n    }\n  })\n\n  SVG.extend(SVG.Circle, SVG.FX, {\n    // Radius x value\n    rx: function(rx) {\n      return this.attr('r', rx)\n    }\n    // Alias radius x value\n    , ry: function(ry) {\n      return this.rx(ry)\n    }\n  })\n\n  SVG.Ellipse = SVG.invent({\n    // Initialize node\n    create: 'ellipse'\n\n    // Inherit from\n    , inherit: SVG.Shape\n\n    // Add parent method\n    , construct: {\n      // Create an ellipse\n      ellipse: function(width, height) {\n        return this.put(new SVG.Ellipse).size(width, height).move(0, 0)\n      }\n    }\n  })\n\n  SVG.extend(SVG.Ellipse, SVG.Rect, SVG.FX, {\n    // Radius x value\n    rx: function(rx) {\n      return this.attr('rx', rx)\n    }\n    // Radius y value\n    , ry: function(ry) {\n      return this.attr('ry', ry)\n    }\n  })\n\n// Add common method\n  SVG.extend(SVG.Circle, SVG.Ellipse, {\n    // Move over x-axis\n    x: function(x) {\n      return x == null ? this.cx() - this.rx() : this.cx(x + this.rx())\n    }\n    // Move over y-axis\n    , y: function(y) {\n      return y == null ? this.cy() - this.ry() : this.cy(y + this.ry())\n    }\n    // Move by center over x-axis\n    , cx: function(x) {\n      return x == null ? this.attr('cx') : this.attr('cx', x)\n    }\n    // Move by center over y-axis\n    , cy: function(y) {\n      return y == null ? this.attr('cy') : this.attr('cy', y)\n    }\n    // Set width of element\n    , width: function(width) {\n      return width == null ? this.rx() * 2 : this.rx(new SVG.Number(width).divide(2))\n    }\n    // Set height of element\n    , height: function(height) {\n      return height == null ? this.ry() * 2 : this.ry(new SVG.Number(height).divide(2))\n    }\n    // Custom size function\n    , size: function(width, height) {\n      var p = proportionalSize(this, width, height)\n\n      return this\n        .rx(new SVG.Number(p.width).divide(2))\n        .ry(new SVG.Number(p.height).divide(2))\n    }\n  })\n  SVG.Line = SVG.invent({\n    // Initialize node\n    create: 'line'\n\n    // Inherit from\n    , inherit: SVG.Shape\n\n    // Add class methods\n    , extend: {\n      // Get array\n      array: function() {\n        return new SVG.PointArray([\n          [ this.attr('x1'), this.attr('y1') ]\n          , [ this.attr('x2'), this.attr('y2') ]\n        ])\n      }\n      // Overwrite native plot() method\n      , plot: function(x1, y1, x2, y2) {\n        if (x1 == null)\n          return this.array()\n        else if (typeof y1 !== 'undefined')\n          x1 = { x1: x1, y1: y1, x2: x2, y2: y2 }\n        else\n          x1 = new SVG.PointArray(x1).toLine()\n\n        return this.attr(x1)\n      }\n      // Move by left top corner\n      , move: function(x, y) {\n        return this.attr(this.array().move(x, y).toLine())\n      }\n      // Set element size to given width and height\n      , size: function(width, height) {\n        var p = proportionalSize(this, width, height)\n\n        return this.attr(this.array().size(p.width, p.height).toLine())\n      }\n    }\n\n    // Add parent method\n    , construct: {\n      // Create a line element\n      line: function(x1, y1, x2, y2) {\n        // make sure plot is called as a setter\n        // x1 is not necessarily a number, it can also be an array, a string and a SVG.PointArray\n        return SVG.Line.prototype.plot.apply(\n          this.put(new SVG.Line)\n          , x1 != null ? [x1, y1, x2, y2] : [0, 0, 0, 0]\n        )\n      }\n    }\n  })\n\n  SVG.Polyline = SVG.invent({\n    // Initialize node\n    create: 'polyline'\n\n    // Inherit from\n    , inherit: SVG.Shape\n\n    // Add parent method\n    , construct: {\n      // Create a wrapped polyline element\n      polyline: function(p) {\n        // make sure plot is called as a setter\n        return this.put(new SVG.Polyline).plot(p || new SVG.PointArray)\n      }\n    }\n  })\n\n  SVG.Polygon = SVG.invent({\n    // Initialize node\n    create: 'polygon'\n\n    // Inherit from\n    , inherit: SVG.Shape\n\n    // Add parent method\n    , construct: {\n      // Create a wrapped polygon element\n      polygon: function(p) {\n        // make sure plot is called as a setter\n        return this.put(new SVG.Polygon).plot(p || new SVG.PointArray)\n      }\n    }\n  })\n\n// Add polygon-specific functions\n  SVG.extend(SVG.Polyline, SVG.Polygon, {\n    // Get array\n    array: function() {\n      return this._array || (this._array = new SVG.PointArray(this.attr('points')))\n    }\n    // Plot new path\n    , plot: function(p) {\n      return (p == null) ?\n        this.array() :\n        this.clear().attr('points', typeof p == 'string' ? p : (this._array = new SVG.PointArray(p)))\n    }\n    // Clear array cache\n    , clear: function() {\n      delete this._array\n      return this\n    }\n    // Move by left top corner\n    , move: function(x, y) {\n      return this.attr('points', this.array().move(x, y))\n    }\n    // Set element size to given width and height\n    , size: function(width, height) {\n      var p = proportionalSize(this, width, height)\n\n      return this.attr('points', this.array().size(p.width, p.height))\n    }\n\n  })\n\n// unify all point to point elements\n  SVG.extend(SVG.Line, SVG.Polyline, SVG.Polygon, {\n    // Define morphable array\n    morphArray:  SVG.PointArray\n    // Move by left top corner over x-axis\n    , x: function(x) {\n      return x == null ? this.bbox().x : this.move(x, this.bbox().y)\n    }\n    // Move by left top corner over y-axis\n    , y: function(y) {\n      return y == null ? this.bbox().y : this.move(this.bbox().x, y)\n    }\n    // Set width of element\n    , width: function(width) {\n      var b = this.bbox()\n\n      return width == null ? b.width : this.size(width, b.height)\n    }\n    // Set height of element\n    , height: function(height) {\n      var b = this.bbox()\n\n      return height == null ? b.height : this.size(b.width, height)\n    }\n  })\n  SVG.Path = SVG.invent({\n    // Initialize node\n    create: 'path'\n\n    // Inherit from\n    , inherit: SVG.Shape\n\n    // Add class methods\n    , extend: {\n      // Define morphable array\n      morphArray:  SVG.PathArray\n      // Get array\n      , array: function() {\n        return this._array || (this._array = new SVG.PathArray(this.attr('d')))\n      }\n      // Plot new path\n      , plot: function(d) {\n        return (d == null) ?\n          this.array() :\n          this.clear().attr('d', typeof d == 'string' ? d : (this._array = new SVG.PathArray(d)))\n      }\n      // Clear array cache\n      , clear: function() {\n        delete this._array\n        return this\n      }\n      // Move by left top corner\n      , move: function(x, y) {\n        return this.attr('d', this.array().move(x, y))\n      }\n      // Move by left top corner over x-axis\n      , x: function(x) {\n        return x == null ? this.bbox().x : this.move(x, this.bbox().y)\n      }\n      // Move by left top corner over y-axis\n      , y: function(y) {\n        return y == null ? this.bbox().y : this.move(this.bbox().x, y)\n      }\n      // Set element size to given width and height\n      , size: function(width, height) {\n        var p = proportionalSize(this, width, height)\n\n        return this.attr('d', this.array().size(p.width, p.height))\n      }\n      // Set width of element\n      , width: function(width) {\n        return width == null ? this.bbox().width : this.size(width, this.bbox().height)\n      }\n      // Set height of element\n      , height: function(height) {\n        return height == null ? this.bbox().height : this.size(this.bbox().width, height)\n      }\n\n    }\n\n    // Add parent method\n    , construct: {\n      // Create a wrapped path element\n      path: function(d) {\n        // make sure plot is called as a setter\n        return this.put(new SVG.Path).plot(d || new SVG.PathArray)\n      }\n    }\n  })\n\n  SVG.Image = SVG.invent({\n    // Initialize node\n    create: 'image'\n\n    // Inherit from\n    , inherit: SVG.Shape\n\n    // Add class methods\n    , extend: {\n      // (re)load image\n      load: function(url) {\n        if (!url) return this\n\n        var self = this\n          , img  = new window.Image()\n\n        // preload image\n        SVG.on(img, 'load', function() {\n          SVG.off(img)\n\n          var p = self.parent(SVG.Pattern)\n\n          if(p === null) return\n\n          // ensure image size\n          if (self.width() == 0 && self.height() == 0)\n            self.size(img.width, img.height)\n\n          // ensure pattern size if not set\n          if (p && p.width() == 0 && p.height() == 0)\n            p.size(self.width(), self.height())\n\n          // callback\n          if (typeof self._loaded === 'function')\n            self._loaded.call(self, {\n              width:  img.width\n              , height: img.height\n              , ratio:  img.width / img.height\n              , url:    url\n            })\n        })\n\n        SVG.on(img, 'error', function(e){\n          SVG.off(img)\n\n          if (typeof self._error === 'function'){\n            self._error.call(self, e)\n          }\n        })\n\n        return this.attr('href', (img.src = this.src = url), SVG.xlink)\n      }\n      // Add loaded callback\n      , loaded: function(loaded) {\n        this._loaded = loaded\n        return this\n      }\n\n      , error: function(error) {\n        this._error = error\n        return this\n      }\n    }\n\n    // Add parent method\n    , construct: {\n      // create image element, load image and set its size\n      image: function(source, width, height) {\n        return this.put(new SVG.Image).load(source).size(width || 0, height || width || 0)\n      }\n    }\n\n  })\n  SVG.Text = SVG.invent({\n    // Initialize node\n    create: function() {\n      this.constructor.call(this, SVG.create('text'))\n\n      this.dom.leading = new SVG.Number(1.3)    // store leading value for rebuilding\n      this._rebuild = true                      // enable automatic updating of dy values\n      this._build   = false                     // disable build mode for adding multiple lines\n\n      // set default font\n      this.attr('font-family', SVG.defaults.attrs['font-family'])\n    }\n\n    // Inherit from\n    , inherit: SVG.Shape\n\n    // Add class methods\n    , extend: {\n      // Move over x-axis\n      x: function(x) {\n        // act as getter\n        if (x == null)\n          return this.attr('x')\n\n        return this.attr('x', x)\n      }\n      // Move over y-axis\n      , y: function(y) {\n        var oy = this.attr('y')\n          , o  = typeof oy === 'number' ? oy - this.bbox().y : 0\n\n        // act as getter\n        if (y == null)\n          return typeof oy === 'number' ? oy - o : oy\n\n        return this.attr('y', typeof y.valueOf() === 'number' ? y + o : y)\n      }\n      // Move center over x-axis\n      , cx: function(x) {\n        return x == null ? this.bbox().cx : this.x(x - this.bbox().width / 2)\n      }\n      // Move center over y-axis\n      , cy: function(y) {\n        return y == null ? this.bbox().cy : this.y(y - this.bbox().height / 2)\n      }\n      // Set the text content\n      , text: function(text) {\n        // act as getter\n        if (typeof text === 'undefined'){\n          var text = ''\n          var children = this.node.childNodes\n          for(var i = 0, len = children.length; i < len; ++i){\n\n            // add newline if its not the first child and newLined is set to true\n            if(i != 0 && children[i].nodeType != 3 && SVG.adopt(children[i]).dom.newLined == true){\n              text += '\\n'\n            }\n\n            // add content of this node\n            text += children[i].textContent\n          }\n\n          return text\n        }\n\n        // remove existing content\n        this.clear().build(true)\n\n        if (typeof text === 'function') {\n          // call block\n          text.call(this, this)\n\n        } else {\n          // store text and make sure text is not blank\n          text = text.split('\\n')\n\n          // build new lines\n          for (var i = 0, il = text.length; i < il; i++)\n            this.tspan(text[i]).newLine()\n        }\n\n        // disable build mode and rebuild lines\n        return this.build(false).rebuild()\n      }\n      // Set font size\n      , size: function(size) {\n        return this.attr('font-size', size).rebuild()\n      }\n      // Set / get leading\n      , leading: function(value) {\n        // act as getter\n        if (value == null)\n          return this.dom.leading\n\n        // act as setter\n        this.dom.leading = new SVG.Number(value)\n\n        return this.rebuild()\n      }\n      // Get all the first level lines\n      , lines: function() {\n        var node = (this.textPath && this.textPath() || this).node\n\n        // filter tspans and map them to SVG.js instances\n        var lines = SVG.utils.map(SVG.utils.filterSVGElements(node.childNodes), function(el){\n          return SVG.adopt(el)\n        })\n\n        // return an instance of SVG.set\n        return new SVG.Set(lines)\n      }\n      // Rebuild appearance type\n      , rebuild: function(rebuild) {\n        // store new rebuild flag if given\n        if (typeof rebuild == 'boolean')\n          this._rebuild = rebuild\n\n        // define position of all lines\n        if (this._rebuild) {\n          var self = this\n            , blankLineOffset = 0\n            , dy = this.dom.leading * new SVG.Number(this.attr('font-size'))\n\n          this.lines().each(function() {\n            if (this.dom.newLined) {\n              if (!self.textPath())\n                this.attr('x', self.attr('x'))\n              if(this.text() == '\\n') {\n                blankLineOffset += dy\n              }else{\n                this.attr('dy', dy + blankLineOffset)\n                blankLineOffset = 0\n              }\n            }\n          })\n\n          this.fire('rebuild')\n        }\n\n        return this\n      }\n      // Enable / disable build mode\n      , build: function(build) {\n        this._build = !!build\n        return this\n      }\n      // overwrite method from parent to set data properly\n      , setData: function(o){\n        this.dom = o\n        this.dom.leading = new SVG.Number(o.leading || 1.3)\n        return this\n      }\n    }\n\n    // Add parent method\n    , construct: {\n      // Create text element\n      text: function(text) {\n        return this.put(new SVG.Text).text(text)\n      }\n      // Create plain text element\n      , plain: function(text) {\n        return this.put(new SVG.Text).plain(text)\n      }\n    }\n\n  })\n\n  SVG.Tspan = SVG.invent({\n    // Initialize node\n    create: 'tspan'\n\n    // Inherit from\n    , inherit: SVG.Shape\n\n    // Add class methods\n    , extend: {\n      // Set text content\n      text: function(text) {\n        if(text == null) return this.node.textContent + (this.dom.newLined ? '\\n' : '')\n\n        typeof text === 'function' ? text.call(this, this) : this.plain(text)\n\n        return this\n      }\n      // Shortcut dx\n      , dx: function(dx) {\n        return this.attr('dx', dx)\n      }\n      // Shortcut dy\n      , dy: function(dy) {\n        return this.attr('dy', dy)\n      }\n      // Create new line\n      , newLine: function() {\n        // fetch text parent\n        var t = this.parent(SVG.Text)\n\n        // mark new line\n        this.dom.newLined = true\n\n        // apply new hyn\n        return this.dy(t.dom.leading * t.attr('font-size')).attr('x', t.x())\n      }\n    }\n\n  })\n\n  SVG.extend(SVG.Text, SVG.Tspan, {\n    // Create plain text node\n    plain: function(text) {\n      // clear if build mode is disabled\n      if (this._build === false)\n        this.clear()\n\n      // create text node\n      this.node.appendChild(document.createTextNode(text))\n\n      return this\n    }\n    // Create a tspan\n    , tspan: function(text) {\n      var node  = (this.textPath && this.textPath() || this).node\n        , tspan = new SVG.Tspan\n\n      // clear if build mode is disabled\n      if (this._build === false)\n        this.clear()\n\n      // add new tspan\n      node.appendChild(tspan.node)\n\n      return tspan.text(text)\n    }\n    // Clear all lines\n    , clear: function() {\n      var node = (this.textPath && this.textPath() || this).node\n\n      // remove existing child nodes\n      while (node.hasChildNodes())\n        node.removeChild(node.lastChild)\n\n      return this\n    }\n    // Get length of text element\n    , length: function() {\n      return this.node.getComputedTextLength()\n    }\n  })\n\n  SVG.TextPath = SVG.invent({\n    // Initialize node\n    create: 'textPath'\n\n    // Inherit from\n    , inherit: SVG.Parent\n\n    // Define parent class\n    , parent: SVG.Text\n\n    // Add parent method\n    , construct: {\n      morphArray: SVG.PathArray\n      // Create path for text to run on\n      , path: function(d) {\n        // create textPath element\n        var path  = new SVG.TextPath\n          , track = this.doc().defs().path(d)\n\n        // move lines to textpath\n        while (this.node.hasChildNodes())\n          path.node.appendChild(this.node.firstChild)\n\n        // add textPath element as child node\n        this.node.appendChild(path.node)\n\n        // link textPath to path and add content\n        path.attr('href', '#' + track, SVG.xlink)\n\n        return this\n      }\n      // return the array of the path track element\n      , array: function() {\n        var track = this.track()\n\n        return track ? track.array() : null\n      }\n      // Plot path if any\n      , plot: function(d) {\n        var track = this.track()\n          , pathArray = null\n\n        if (track) {\n          pathArray = track.plot(d)\n        }\n\n        return (d == null) ? pathArray : this\n      }\n      // Get the path track element\n      , track: function() {\n        var path = this.textPath()\n\n        if (path)\n          return path.reference('href')\n      }\n      // Get the textPath child\n      , textPath: function() {\n        if (this.node.firstChild && this.node.firstChild.nodeName == 'textPath')\n          return SVG.adopt(this.node.firstChild)\n      }\n    }\n  })\n\n  SVG.Nested = SVG.invent({\n    // Initialize node\n    create: function() {\n      this.constructor.call(this, SVG.create('svg'))\n\n      this.style('overflow', 'visible')\n    }\n\n    // Inherit from\n    , inherit: SVG.Container\n\n    // Add parent method\n    , construct: {\n      // Create nested svg document\n      nested: function() {\n        return this.put(new SVG.Nested)\n      }\n    }\n  })\n  SVG.A = SVG.invent({\n    // Initialize node\n    create: 'a'\n\n    // Inherit from\n    , inherit: SVG.Container\n\n    // Add class methods\n    , extend: {\n      // Link url\n      to: function(url) {\n        return this.attr('href', url, SVG.xlink)\n      }\n      // Link show attribute\n      , show: function(target) {\n        return this.attr('show', target, SVG.xlink)\n      }\n      // Link target attribute\n      , target: function(target) {\n        return this.attr('target', target)\n      }\n    }\n\n    // Add parent method\n    , construct: {\n      // Create a hyperlink element\n      link: function(url) {\n        return this.put(new SVG.A).to(url)\n      }\n    }\n  })\n\n  SVG.extend(SVG.Element, {\n    // Create a hyperlink element\n    linkTo: function(url) {\n      var link = new SVG.A\n\n      if (typeof url == 'function')\n        url.call(link, link)\n      else\n        link.to(url)\n\n      return this.parent().put(link).put(this)\n    }\n\n  })\n  SVG.Marker = SVG.invent({\n    // Initialize node\n    create: 'marker'\n\n    // Inherit from\n    , inherit: SVG.Container\n\n    // Add class methods\n    , extend: {\n      // Set width of element\n      width: function(width) {\n        return this.attr('markerWidth', width)\n      }\n      // Set height of element\n      , height: function(height) {\n        return this.attr('markerHeight', height)\n      }\n      // Set marker refX and refY\n      , ref: function(x, y) {\n        return this.attr('refX', x).attr('refY', y)\n      }\n      // Update marker\n      , update: function(block) {\n        // remove all content\n        this.clear()\n\n        // invoke passed block\n        if (typeof block == 'function')\n          block.call(this, this)\n\n        return this\n      }\n      // Return the fill id\n      , toString: function() {\n        return 'url(#' + this.id() + ')'\n      }\n    }\n\n    // Add parent method\n    , construct: {\n      marker: function(width, height, block) {\n        // Create marker element in defs\n        return this.defs().marker(width, height, block)\n      }\n    }\n\n  })\n\n  SVG.extend(SVG.Defs, {\n    // Create marker\n    marker: function(width, height, block) {\n      // Set default viewbox to match the width and height, set ref to cx and cy and set orient to auto\n      return this.put(new SVG.Marker)\n        .size(width, height)\n        .ref(width / 2, height / 2)\n        .viewbox(0, 0, width, height)\n        .attr('orient', 'auto')\n        .update(block)\n    }\n\n  })\n\n  SVG.extend(SVG.Line, SVG.Polyline, SVG.Polygon, SVG.Path, {\n    // Create and attach markers\n    marker: function(marker, width, height, block) {\n      var attr = ['marker']\n\n      // Build attribute name\n      if (marker != 'all') attr.push(marker)\n      attr = attr.join('-')\n\n      // Set marker attribute\n      marker = arguments[1] instanceof SVG.Marker ?\n        arguments[1] :\n        this.doc().marker(width, height, block)\n\n      return this.attr(attr, marker)\n    }\n\n  })\n// Define list of available attributes for stroke and fill\n  var sugar = {\n    stroke: ['color', 'width', 'opacity', 'linecap', 'linejoin', 'miterlimit', 'dasharray', 'dashoffset']\n    , fill:   ['color', 'opacity', 'rule']\n    , prefix: function(t, a) {\n      return a == 'color' ? t : t + '-' + a\n    }\n  }\n\n// Add sugar for fill and stroke\n  ;['fill', 'stroke'].forEach(function(m) {\n    var i, extension = {}\n\n    extension[m] = function(o) {\n      if (typeof o == 'undefined')\n        return this\n      if (typeof o == 'string' || SVG.Color.isRgb(o) || (o && typeof o.fill === 'function'))\n        this.attr(m, o)\n\n      else\n      // set all attributes from sugar.fill and sugar.stroke list\n        for (i = sugar[m].length - 1; i >= 0; i--)\n          if (o[sugar[m][i]] != null)\n            this.attr(sugar.prefix(m, sugar[m][i]), o[sugar[m][i]])\n\n      return this\n    }\n\n    SVG.extend(SVG.Element, SVG.FX, extension)\n\n  })\n\n  SVG.extend(SVG.Element, SVG.FX, {\n    // Map rotation to transform\n    rotate: function(d, cx, cy) {\n      return this.transform({ rotation: d, cx: cx, cy: cy })\n    }\n    // Map skew to transform\n    , skew: function(x, y, cx, cy) {\n      return arguments.length == 1  || arguments.length == 3 ?\n        this.transform({ skew: x, cx: y, cy: cx }) :\n        this.transform({ skewX: x, skewY: y, cx: cx, cy: cy })\n    }\n    // Map scale to transform\n    , scale: function(x, y, cx, cy) {\n      return arguments.length == 1  || arguments.length == 3 ?\n        this.transform({ scale: x, cx: y, cy: cx }) :\n        this.transform({ scaleX: x, scaleY: y, cx: cx, cy: cy })\n    }\n    // Map translate to transform\n    , translate: function(x, y) {\n      return this.transform({ x: x, y: y })\n    }\n    // Map flip to transform\n    , flip: function(a, o) {\n      o = typeof a == 'number' ? a : o\n      return this.transform({ flip: a || 'both', offset: o })\n    }\n    // Map matrix to transform\n    , matrix: function(m) {\n      return this.attr('transform', new SVG.Matrix(arguments.length == 6 ? [].slice.call(arguments) : m))\n    }\n    // Opacity\n    , opacity: function(value) {\n      return this.attr('opacity', value)\n    }\n    // Relative move over x axis\n    , dx: function(x) {\n      return this.x(new SVG.Number(x).plus(this instanceof SVG.FX ? 0 : this.x()), true)\n    }\n    // Relative move over y axis\n    , dy: function(y) {\n      return this.y(new SVG.Number(y).plus(this instanceof SVG.FX ? 0 : this.y()), true)\n    }\n    // Relative move over x and y axes\n    , dmove: function(x, y) {\n      return this.dx(x).dy(y)\n    }\n  })\n\n  SVG.extend(SVG.Rect, SVG.Ellipse, SVG.Circle, SVG.Gradient, SVG.FX, {\n    // Add x and y radius\n    radius: function(x, y) {\n      var type = (this._target || this).type;\n      return type == 'radial' || type == 'circle' ?\n        this.attr('r', new SVG.Number(x)) :\n        this.rx(x).ry(y == null ? x : y)\n    }\n  })\n\n  SVG.extend(SVG.Path, {\n    // Get path length\n    length: function() {\n      return this.node.getTotalLength()\n    }\n    // Get point at length\n    , pointAt: function(length) {\n      return this.node.getPointAtLength(length)\n    }\n  })\n\n  SVG.extend(SVG.Parent, SVG.Text, SVG.Tspan, SVG.FX, {\n    // Set font\n    font: function(a, v) {\n      if (typeof a == 'object') {\n        for (v in a) this.font(v, a[v])\n      }\n\n      return a == 'leading' ?\n        this.leading(v) :\n        a == 'anchor' ?\n          this.attr('text-anchor', v) :\n          a == 'size' || a == 'family' || a == 'weight' || a == 'stretch' || a == 'variant' || a == 'style' ?\n            this.attr('font-'+ a, v) :\n            this.attr(a, v)\n    }\n  })\n\n  SVG.Set = SVG.invent({\n    // Initialize\n    create: function(members) {\n      if (members instanceof SVG.Set) {\n        this.members = members.members.slice()\n      } else {\n        Array.isArray(members) ? this.members = members : this.clear()\n      }\n    }\n\n    // Add class methods\n    , extend: {\n      // Add element to set\n      add: function() {\n        var i, il, elements = [].slice.call(arguments)\n\n        for (i = 0, il = elements.length; i < il; i++)\n          this.members.push(elements[i])\n\n        return this\n      }\n      // Remove element from set\n      , remove: function(element) {\n        var i = this.index(element)\n\n        // remove given child\n        if (i > -1)\n          this.members.splice(i, 1)\n\n        return this\n      }\n      // Iterate over all members\n      , each: function(block) {\n        for (var i = 0, il = this.members.length; i < il; i++)\n          block.apply(this.members[i], [i, this.members])\n\n        return this\n      }\n      // Restore to defaults\n      , clear: function() {\n        // initialize store\n        this.members = []\n\n        return this\n      }\n      // Get the length of a set\n      , length: function() {\n        return this.members.length\n      }\n      // Checks if a given element is present in set\n      , has: function(element) {\n        return this.index(element) >= 0\n      }\n      // retuns index of given element in set\n      , index: function(element) {\n        return this.members.indexOf(element)\n      }\n      // Get member at given index\n      , get: function(i) {\n        return this.members[i]\n      }\n      // Get first member\n      , first: function() {\n        return this.get(0)\n      }\n      // Get last member\n      , last: function() {\n        return this.get(this.members.length - 1)\n      }\n      // Default value\n      , valueOf: function() {\n        return this.members\n      }\n      // Get the bounding box of all members included or empty box if set has no items\n      , bbox: function(){\n        // return an empty box of there are no members\n        if (this.members.length == 0)\n          return new SVG.RBox()\n\n        // get the first rbox and update the target bbox\n        var rbox = this.members[0].rbox(this.members[0].doc())\n\n        this.each(function() {\n          // user rbox for correct position and visual representation\n          rbox = rbox.merge(this.rbox(this.doc()))\n        })\n\n        return rbox\n      }\n    }\n\n    // Add parent method\n    , construct: {\n      // Create a new set\n      set: function(members) {\n        return new SVG.Set(members)\n      }\n    }\n  })\n\n  SVG.FX.Set = SVG.invent({\n    // Initialize node\n    create: function(set) {\n      // store reference to set\n      this.set = set\n    }\n\n  })\n\n// Alias methods\n  SVG.Set.inherit = function() {\n    var m\n      , methods = []\n\n    // gather shape methods\n    for(var m in SVG.Shape.prototype)\n      if (typeof SVG.Shape.prototype[m] == 'function' && typeof SVG.Set.prototype[m] != 'function')\n        methods.push(m)\n\n    // apply shape aliasses\n    methods.forEach(function(method) {\n      SVG.Set.prototype[method] = function() {\n        for (var i = 0, il = this.members.length; i < il; i++)\n          if (this.members[i] && typeof this.members[i][method] == 'function')\n            this.members[i][method].apply(this.members[i], arguments)\n\n        return method == 'animate' ? (this.fx || (this.fx = new SVG.FX.Set(this))) : this\n      }\n    })\n\n    // clear methods for the next round\n    methods = []\n\n    // gather fx methods\n    for(var m in SVG.FX.prototype)\n      if (typeof SVG.FX.prototype[m] == 'function' && typeof SVG.FX.Set.prototype[m] != 'function')\n        methods.push(m)\n\n    // apply fx aliasses\n    methods.forEach(function(method) {\n      SVG.FX.Set.prototype[method] = function() {\n        for (var i = 0, il = this.set.members.length; i < il; i++)\n          this.set.members[i].fx[method].apply(this.set.members[i].fx, arguments)\n\n        return this\n      }\n    })\n  }\n\n\n  SVG.extend(SVG.Element, {\n    // Store data values on svg nodes\n    data: function(a, v, r) {\n      if (typeof a == 'object') {\n        for (v in a)\n          this.data(v, a[v])\n\n      } else if (arguments.length < 2) {\n        try {\n          return JSON.parse(this.attr('data-' + a))\n        } catch(e) {\n          return this.attr('data-' + a)\n        }\n\n      } else {\n        this.attr(\n          'data-' + a\n          , v === null ?\n            null :\n            r === true || typeof v === 'string' || typeof v === 'number' ?\n              v :\n              JSON.stringify(v)\n        )\n      }\n\n      return this\n    }\n  })\n  SVG.extend(SVG.Element, {\n    // Remember arbitrary data\n    remember: function(k, v) {\n      // remember every item in an object individually\n      if (typeof arguments[0] == 'object')\n        for (var v in k)\n          this.remember(v, k[v])\n\n      // retrieve memory\n      else if (arguments.length == 1)\n        return this.memory()[k]\n\n      // store memory\n      else\n        this.memory()[k] = v\n\n      return this\n    }\n\n    // Erase a given memory\n    , forget: function() {\n      if (arguments.length == 0)\n        this._memory = {}\n      else\n        for (var i = arguments.length - 1; i >= 0; i--)\n          delete this.memory()[arguments[i]]\n\n      return this\n    }\n\n    // Initialize or return local memory object\n    , memory: function() {\n      return this._memory || (this._memory = {})\n    }\n\n  })\n// Method for getting an element by id\n  SVG.get = function(id) {\n    var node = document.getElementById(idFromReference(id) || id)\n    return SVG.adopt(node)\n  }\n\n// Select elements by query string\n  SVG.select = function(query, parent) {\n    return new SVG.Set(\n      SVG.utils.map((parent || document).querySelectorAll(query), function(node) {\n        return SVG.adopt(node)\n      })\n    )\n  }\n\n  SVG.extend(SVG.Parent, {\n    // Scoped select method\n    select: function(query) {\n      return SVG.select(query, this.node)\n    }\n\n  })\n  function pathRegReplace(a, b, c, d) {\n    return c + d.replace(SVG.regex.dots, ' .')\n  }\n\n// creates deep clone of array\n  function array_clone(arr){\n    var clone = arr.slice(0)\n    for(var i = clone.length; i--;){\n      if(Array.isArray(clone[i])){\n        clone[i] = array_clone(clone[i])\n      }\n    }\n    return clone\n  }\n\n// tests if a given element is instance of an object\n  function is(el, obj){\n    return el instanceof obj\n  }\n\n// tests if a given selector matches an element\n  function matches(el, selector) {\n    return (el.matches || el.matchesSelector || el.msMatchesSelector || el.mozMatchesSelector || el.webkitMatchesSelector || el.oMatchesSelector).call(el, selector);\n  }\n\n// Convert dash-separated-string to camelCase\n  function camelCase(s) {\n    return s.toLowerCase().replace(/-(.)/g, function(m, g) {\n      return g.toUpperCase()\n    })\n  }\n\n// Capitalize first letter of a string\n  function capitalize(s) {\n    return s.charAt(0).toUpperCase() + s.slice(1)\n  }\n\n// Ensure to six-based hex\n  function fullHex(hex) {\n    return hex.length == 4 ?\n      [ '#',\n        hex.substring(1, 2), hex.substring(1, 2)\n        , hex.substring(2, 3), hex.substring(2, 3)\n        , hex.substring(3, 4), hex.substring(3, 4)\n      ].join('') : hex\n  }\n\n// Component to hex value\n  function compToHex(comp) {\n    var hex = comp.toString(16)\n    return hex.length == 1 ? '0' + hex : hex\n  }\n\n// Calculate proportional width and height values when necessary\n  function proportionalSize(element, width, height) {\n    if (width == null || height == null) {\n      var box = element.bbox()\n\n      if (width == null)\n        width = box.width / box.height * height\n      else if (height == null)\n        height = box.height / box.width * width\n    }\n\n    return {\n      width:  width\n      , height: height\n    }\n  }\n\n// Delta transform point\n  function deltaTransformPoint(matrix, x, y) {\n    return {\n      x: x * matrix.a + y * matrix.c + 0\n      , y: x * matrix.b + y * matrix.d + 0\n    }\n  }\n\n// Map matrix array to object\n  function arrayToMatrix(a) {\n    return { a: a[0], b: a[1], c: a[2], d: a[3], e: a[4], f: a[5] }\n  }\n\n// Parse matrix if required\n  function parseMatrix(matrix) {\n    if (!(matrix instanceof SVG.Matrix))\n      matrix = new SVG.Matrix(matrix)\n\n    return matrix\n  }\n\n// Add centre point to transform object\n  function ensureCentre(o, target) {\n    o.cx = o.cx == null ? target.bbox().cx : o.cx\n    o.cy = o.cy == null ? target.bbox().cy : o.cy\n  }\n\n// PathArray Helpers\n  function arrayToString(a) {\n    for (var i = 0, il = a.length, s = ''; i < il; i++) {\n      s += a[i][0]\n\n      if (a[i][1] != null) {\n        s += a[i][1]\n\n        if (a[i][2] != null) {\n          s += ' '\n          s += a[i][2]\n\n          if (a[i][3] != null) {\n            s += ' '\n            s += a[i][3]\n            s += ' '\n            s += a[i][4]\n\n            if (a[i][5] != null) {\n              s += ' '\n              s += a[i][5]\n              s += ' '\n              s += a[i][6]\n\n              if (a[i][7] != null) {\n                s += ' '\n                s += a[i][7]\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return s + ' '\n  }\n\n// Deep new id assignment\n  function assignNewId(node) {\n    // do the same for SVG child nodes as well\n    for (var i = node.childNodes.length - 1; i >= 0; i--)\n      if (node.childNodes[i] instanceof window.SVGElement)\n        assignNewId(node.childNodes[i])\n\n    return SVG.adopt(node).id(SVG.eid(node.nodeName))\n  }\n\n// Add more bounding box properties\n  function fullBox(b) {\n    if (b.x == null) {\n      b.x      = 0\n      b.y      = 0\n      b.width  = 0\n      b.height = 0\n    }\n\n    b.w  = b.width\n    b.h  = b.height\n    b.x2 = b.x + b.width\n    b.y2 = b.y + b.height\n    b.cx = b.x + b.width / 2\n    b.cy = b.y + b.height / 2\n\n    return b\n  }\n\n// Get id from reference string\n  function idFromReference(url) {\n    var m = (url || '').toString().match(SVG.regex.reference)\n\n    if (m) return m[1]\n  }\n\n// If values like 1e-88 are passed, this is not a valid 32 bit float,\n// but in those cases, we are so close to 0 that 0 works well!\n  function float32String(v) {\n    return Math.abs(v) > 1e-37 ? v : 0\n  }\n\n// Create matrix array for looping\n  var abcdef = 'abcdef'.split('')\n\n// Add CustomEvent to IE9 and IE10\n  if (typeof window.CustomEvent !== 'function') {\n    // Code from: https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent\n    var CustomEventPoly = function(event, options) {\n      options = options || { bubbles: false, cancelable: false, detail: undefined }\n      var e = document.createEvent('CustomEvent')\n      e.initCustomEvent(event, options.bubbles, options.cancelable, options.detail)\n      return e\n    }\n\n    CustomEventPoly.prototype = window.Event.prototype\n\n    SVG.CustomEvent = CustomEventPoly\n  } else {\n    SVG.CustomEvent = window.CustomEvent\n  }\n\n// requestAnimationFrame / cancelAnimationFrame Polyfill with fallback based on Paul Irish\n  (function(w) {\n    var lastTime = 0\n    var vendors = ['moz', 'webkit']\n\n    for(var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n      w.requestAnimationFrame = w[vendors[x] + 'RequestAnimationFrame']\n      w.cancelAnimationFrame  = w[vendors[x] + 'CancelAnimationFrame'] ||\n        w[vendors[x] + 'CancelRequestAnimationFrame']\n    }\n\n    w.requestAnimationFrame = w.requestAnimationFrame ||\n      function(callback) {\n        var currTime = new Date().getTime()\n        var timeToCall = Math.max(0, 16 - (currTime - lastTime))\n\n        var id = w.setTimeout(function() {\n          callback(currTime + timeToCall)\n        }, timeToCall)\n\n        lastTime = currTime + timeToCall\n        return id\n      }\n\n    w.cancelAnimationFrame = w.cancelAnimationFrame || w.clearTimeout;\n\n  }(window))\n\n  return SVG\n\n}));\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/svg.js"],"sourceRoot":""}